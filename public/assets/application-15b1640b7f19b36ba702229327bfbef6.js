function remove_fields(t){$(t).prev("input:hidden").val("1"),$(t).closest(".relationship_fields").hide("slow"),$(t).closest(".relationship_fields").nextAll("input:submit").hide("slow"),form=$(t).parents("form"),form.appendTo(form.prev())}function showFullForm(t){$(t).prop("checked")&&$(t).parent().nextAll("#full_member_field").show("slow"),$(t).prop("checked")||$(t).parent().nextAll("#full_member_field").hide("slow")}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=ae.type(t);return"function"===n||ae.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ae.isFunction(e))return ae.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ae.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(pe.test(e))return ae.filter(e,t,n);e=ae.filter(e,t)}return ae.grep(t,function(t){return ae.inArray(t,e)>=0!==n})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function a(t){var e=xe[t]={};return ae.each(t.match(we)||[],function(t,n){e[n]=!0}),e}function r(){ge.addEventListener?(ge.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1)):(ge.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(ge.addEventListener||"load"===event.type||"complete"===ge.readyState)&&(r(),ae.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(Ne,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:De.test(n)?ae.parseJSON(n):n}catch(o){}ae.data(t,e,n)}else n=void 0}return n}function c(t){var e;for(e in t)if(("data"!==e||!ae.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(ae.acceptData(t)){var o,a,r=ae.expando,s=t.nodeType,l=s?ae.cache:t,c=s?t[r]:t[r]&&r;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof e)return c||(c=s?t[r]=V.pop()||ae.guid++:r),l[c]||(l[c]=s?{}:{toJSON:ae.noop}),("object"==typeof e||"function"==typeof e)&&(i?l[c]=ae.extend(l[c],e):l[c].data=ae.extend(l[c].data,e)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[ae.camelCase(e)]=n),"string"==typeof e?(o=a[e],null==o&&(o=a[ae.camelCase(e)])):o=a,o}}function h(t,e,n){if(ae.acceptData(t)){var i,o,a=t.nodeType,r=a?ae.cache:t,s=a?t[ae.expando]:ae.expando;if(r[s]){if(e&&(i=n?r[s]:r[s].data)){ae.isArray(e)?e=e.concat(ae.map(e,ae.camelCase)):e in i?e=[e]:(e=ae.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!c(i):!ae.isEmptyObject(i))return}(n||(delete r[s].data,c(r[s])))&&(a?ae.cleanData([t],!0):ie.deleteExpando||r!=r.window?delete r[s]:r[s]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return ge.activeElement}catch(t){}}function g(t){var e=ze.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function m(t,e){var n,i,o=0,a=typeof t.getElementsByTagName!==Se?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Se?t.querySelectorAll(e||"*"):void 0;if(!a)for(a=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ae.nodeName(i,e)?a.push(i):ae.merge(a,m(i,e));return void 0===e||e&&ae.nodeName(t,e)?ae.merge([t],a):a}function v(t){Ae.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return ae.nodeName(t,"table")&&ae.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function b(t){return t.type=(null!==ae.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=Ve.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)ae._data(n,"globalEval",!e||ae._data(e[i],"globalEval"))}function C(t,e){if(1===e.nodeType&&ae.hasData(t)){var n,i,o,a=ae._data(t),r=ae._data(e,a),s=a.events;if(s){delete r.handle,r.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)ae.event.add(e,n,s[n][i])}r.data&&(r.data=ae.extend({},r.data))}}function T(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[ae.expando]){o=ae._data(e);for(i in o.events)ae.removeEvent(e,i,o.handle);e.removeAttribute(ae.expando)}"script"===n&&e.text!==t.text?(b(e).text=t.text,w(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!ae.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ae.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function S(e,n){var i=ae(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle?t.getDefaultComputedStyle(i[0]).display:ae.css(i[0],"display");return i.detach(),o}function D(t){var e=ge,n=tn[t];return n||(n=S(t,e),"none"!==n&&n||(Ze=(Ze||ae("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Ze[0].contentWindow||Ze[0].contentDocument).document,e.write(),e.close(),n=S(t,e),Ze.detach()),tn[t]=n),n}function N(t,e){return{get:function(){var n=t();if(null!=n)return n?(delete this.get,void 0):(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=fn.length;o--;)if(e=fn[o]+n,e in t)return e;return i}function L(t,e){for(var n,i,o,a=[],r=0,s=t.length;s>r;r++)i=t[r],i.style&&(a[r]=ae._data(i,"olddisplay"),n=i.style.display,e?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&je(i)&&(a[r]=ae._data(i,"olddisplay",D(i.nodeName)))):a[r]||(o=je(i),(n&&"none"!==n||!o)&&ae._data(i,"olddisplay",o?n:ae.css(i,"display"))));for(r=0;s>r;r++)i=t[r],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[r]||"":"none"));return t}function j(t,e,n){var i=un.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function _(t,e,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,r=0;4>a;a+=2)"margin"===n&&(r+=ae.css(t,n+Le[a],!0,o)),i?("content"===n&&(r-=ae.css(t,"padding"+Le[a],!0,o)),"margin"!==n&&(r-=ae.css(t,"border"+Le[a]+"Width",!0,o))):(r+=ae.css(t,"padding"+Le[a],!0,o),"padding"!==n&&(r+=ae.css(t,"border"+Le[a]+"Width",!0,o)));return r}function A(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,a=en(t),r=ie.boxSizing()&&"border-box"===ae.css(t,"boxSizing",!1,a);if(0>=o||null==o){if(o=nn(t,e,a),(0>o||null==o)&&(o=t.style[e]),an.test(o))return o;i=r&&(ie.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+_(t,e,n||(r?"border":"content"),i,a)+"px"}function E(t,e,n,i,o){return new E.prototype.init(t,e,n,i,o)}function $(){return setTimeout(function(){gn=void 0}),gn=ae.now()}function M(t,e){var n,i={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)n=Le[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function P(t,e,n){for(var i,o=(xn[e]||[]).concat(xn["*"]),a=0,r=o.length;r>a;a++)if(i=o[a].call(n,e,t))return i}function O(t,e,n){var i,o,a,r,s,l,c,u,h=this,d={},p=t.style,f=t.nodeType&&je(t),g=ae._data(t,"fxshow");n.queue||(s=ae._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ae.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ae.css(t,"display"),u=D(t.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===ae.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==u?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],vn.exec(o)){if(delete e[i],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;f=!0}d[i]=g&&g[i]||ae.style(t,i)}if(!ae.isEmptyObject(d)){g?"hidden"in g&&(f=g.hidden):g=ae._data(t,"fxshow",{}),a&&(g.hidden=!f),f?ae(t).show():h.done(function(){ae(t).hide()}),h.done(function(){var e;ae._removeData(t,"fxshow");for(e in d)ae.style(t,e,d[e])});for(i in d)r=P(f?g[i]:0,i,h),i in g||(g[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function z(t,e){var n,i,o,a,r;for(n in t)if(i=ae.camelCase(n),o=e[i],a=t[n],ae.isArray(a)&&(o=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),r=ae.cssHooks[i],r&&"expand"in r){a=r.expand(a),delete t[i];for(n in a)n in t||(t[n]=a[n],e[n]=o)}else e[i]=o}function H(t,e,n){var i,o,a=0,r=wn.length,s=ae.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=gn||$(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,a=1-i,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(a);return s.notifyWith(t,[c,a,n]),1>a&&l?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ae.extend({},e),opts:ae.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:gn||$(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ae.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);r>a;a++)if(i=wn[a].call(c,t,u,c.opts))return i;return ae.map(u,P,c),ae.isFunction(c.opts.start)&&c.opts.start.call(t,c),ae.fx.timer(ae.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,a=e.toLowerCase().match(we)||[];if(ae.isFunction(n))for(;i=a[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function I(t,e,n,i){function o(s){var l;return a[s]=!0,ae.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||r||a[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var a={},r=t===Xn;return o(e.dataTypes[0])||!a["*"]&&o("*")}function q(t,e){var n,i,o=ae.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ae.extend(!0,t,n),t}function R(t,e,n){for(var i,o,a,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}i||(i=r)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function B(t,e,n,i){var o,a,r,s,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(r=c[l+" "+a]||c["* "+a],!r)for(o in c)if(s=o.split(" "),s[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){r===!0?r=c[o]:c[o]!==!0&&(a=s[0],u.unshift(s[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(h){return{state:"parsererror",error:r?h:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function W(t,e,n,i){var o;if(ae.isArray(e))ae.each(e,function(e,o){n||Gn.test(t)?i(t,o):W(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==ae.type(e))i(t,e);else for(o in e)W(t+"["+o+"]",e[o],n,i)}function X(){try{return new t.XMLHttpRequest}catch(e){}}function U(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function Y(t){return ae.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V=[],G=V.slice,J=V.concat,K=V.push,Q=V.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ne="".trim,ie={},oe="1.11.0",ae=function(t,e){return new ae.fn.init(t,e)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ce=function(t,e){return e.toUpperCase()};ae.fn=ae.prototype={jquery:oe,constructor:ae,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=ae.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ae.each(this,t,e)},map:function(t){return this.pushStack(ae.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:V.sort,splice:V.splice},ae.extend=ae.fn.extend=function(){var t,e,n,i,o,a,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||ae.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)t=r[i],n=o[i],r!==n&&(c&&n&&(ae.isPlainObject(n)||(e=ae.isArray(n)))?(e?(e=!1,a=t&&ae.isArray(t)?t:[]):a=t&&ae.isPlainObject(t)?t:{},r[i]=ae.extend(c,a,n)):void 0!==n&&(r[i]=n));return r},ae.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ae.type(t)},isArray:Array.isArray||function(t){return"array"===ae.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ae.type(t)||t.nodeType||ae.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&ae.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(se,"ms-").replace(le,ce)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,a=0,r=t.length,s=n(t);if(i){if(s)for(;r>a&&(o=e.apply(t[a],i),o!==!1);a++);else for(a in t)if(o=e.apply(t[a],i),o===!1)break}else if(s)for(;r>a&&(o=e.call(t[a],a,t[a]),o!==!1);a++);else for(a in t)if(o=e.call(t[a],a,t[a]),o===!1)break;return t},trim:ne&&!ne.call("﻿ ")?function(t){return null==t?"":ne.call(t)}:function(t){return null==t?"":(t+"").replace(re,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ae.merge(i,"string"==typeof t?[t]:t):K.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Q)return Q.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;)t[o++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],a=0,r=t.length,s=!n;r>a;a++)i=!e(t[a],a),i!==s&&o.push(t[a]);return o},map:function(t,e,i){var o,a=0,r=t.length,s=n(t),l=[];if(s)for(;r>a;a++)o=e(t[a],a,i),null!=o&&l.push(o);else for(a in t)o=e(t[a],a,i),null!=o&&l.push(o);return J.apply([],l)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ae.isFunction(t)?(n=G.call(arguments,2),i=function(){return t.apply(e||this,n.concat(G.call(arguments)))},i.guid=t.guid=t.guid||ae.guid++,i):void 0},now:function(){return+new Date},support:ie}),ae.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ue=function(t){function e(t,e,n,i){var o,a,r,s,l,c,h,f,g,m;if((e?e.ownerDocument||e:I)!==E&&A(e),e=e||E,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(M&&!i){if(o=ye.exec(t))if(r=o[1]){if(9===s){if(a=e.getElementById(r),!a||!a.parentNode)return n;if(a.id===r)return n.push(a),n}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(r))&&H(e,a)&&a.id===r)return n.push(a),n}else{if(o[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=o[3])&&T.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(T.qsa&&(!P||!P.test(t))){if(f=h=F,g=e,m=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(h=e.getAttribute("id"))?f=h.replace(we,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);g=be.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Z.apply(n,g.querySelectorAll(m)),n}catch(v){}finally{h||e.removeAttribute("id")}}}return x(t.replace(le,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>S.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function o(t){var e=E.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=t.length;i--;)S.attrHandle[n[i]]=e}function r(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var o,a=t([],n.length,e),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}function u(t){return t&&typeof t.getElementsByTagName!==Y&&t}function h(){}function d(t,n){var i,o,a,r,s,l,c,u=W[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=S.preFilter;s;){(!i||(o=ce.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),i=!1,(o=ue.exec(s))&&(i=o.shift(),a.push({value:i,type:o[0].replace(le," ")}),s=s.slice(i.length));for(r in S.filter)!(o=fe[r].exec(s))||c[r]&&!(o=c[r](o))||(i=o.shift(),a.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,l).slice(0)}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,o=n&&"parentNode"===i,a=R++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,a)}:function(e,n,r){var s,l,c=[q,a];if(r){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,r))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(l=e[F]||(e[F]={}),(s=l[i])&&s[0]===q&&s[1]===a)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,r))return!0}}}function g(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,e,n,i,o){for(var a,r=[],s=0,l=t.length,c=null!=e;l>s;s++)(a=t[s])&&(!n||n(a,i,o))&&(r.push(a),c&&e.push(s));return r}function v(t,e,n,o,a,r){return o&&!o[F]&&(o=v(o)),a&&!a[F]&&(a=v(a,r)),i(function(i,r,s,l){var c,u,h,d=[],p=[],f=r.length,g=i||w(e||"*",s.nodeType?[s]:s,[]),v=!t||!i&&e?g:m(g,d,t,s,l),y=n?a||(i?t:f||o)?[]:r:v;if(n&&n(v,y,s,l),o)for(c=m(y,p),o(c,[],s,l),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(v[p[u]]=h));if(i){if(a||t){if(a){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);a(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=a?ee.call(i,h):d[u])>-1&&(i[c]=!(r[c]=h))}}else y=m(y===r?y.splice(f,y.length):y),a?a(null,r,y,l):Z.apply(r,y)})}function y(t){for(var e,n,i,o=t.length,a=S.relative[t[0].type],r=a||S.relative[" "],s=a?1:0,l=f(function(t){return t===e},r,!0),c=f(function(t){return ee.call(e,t)>-1},r,!0),u=[function(t,n,i){return!a&&(i||n!==L)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];o>s;s++)if(n=S.relative[t[s].type])u=[f(g(u),n)];else{if(n=S.filter[t[s].type].apply(null,t[s].matches),n[F]){for(i=++s;o>i&&!S.relative[t[i].type];i++);return v(s>1&&g(u),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&y(t.slice(s,i)),o>i&&y(t=t.slice(i)),o>i&&p(t))}u.push(n)}return g(u)}function b(t,n){var o=n.length>0,a=t.length>0,r=function(i,r,s,l,c){var u,h,d,p=0,f="0",g=i&&[],v=[],y=L,b=i||a&&S.find.TAG("*",c),w=q+=null==y?1:Math.random()||.1,x=b.length;for(c&&(L=r!==E&&r);f!==x&&null!=(u=b[f]);f++){if(a&&u){for(h=0;d=t[h++];)if(d(u,r,s)){l.push(u);break}c&&(q=w)}o&&((u=!d&&u)&&p--,i&&g.push(u))}if(p+=f,o&&f!==p){for(h=0;d=n[h++];)d(g,v,r,s);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=K.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(q=w,L=y),g};return o?i(r):r}function w(t,n,i){for(var o=0,a=n.length;a>o;o++)e(t,n[o],i);return i}function x(t,e,n,i){var o,a,r,s,l,c=d(t);if(!i&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&T.getById&&9===e.nodeType&&M&&S.relative[a[1].type]){if(e=(S.find.ID(r.matches[0].replace(xe,Ce),e)||[])[0],!e)return n;t=t.slice(a.shift().value.length)}for(o=fe.needsContext.test(t)?0:a.length;o--&&(r=a[o],!S.relative[s=r.type]);)if((l=S.find[s])&&(i=l(r.matches[0].replace(xe,Ce),be.test(a[0].type)&&u(e.parentNode)||e))){if(a.splice(o,1),t=i.length&&p(a),!t)return Z.apply(n,i),n;break}}return k(t,c)(i,e,!M,n,be.test(t)&&u(e.parentNode)||e),n}var C,T,S,D,N,k,L,j,_,A,E,$,M,P,O,z,H,F="sizzle"+-new Date,I=t.document,q=0,R=0,B=n(),W=n(),X=n(),U=function(t,e){return t===e&&(_=!0),0},Y="undefined",V=1<<31,G={}.hasOwnProperty,J=[],K=J.pop,Q=J.push,Z=J.push,te=J.slice,ee=J.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),re="\\["+ie+"*("+oe+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+ie+"*\\]",se=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),ce=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),he=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(se),pe=new RegExp("^"+ae+"$"),fe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ce=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(J=te.call(I.childNodes),I.childNodes),J[I.childNodes.length].nodeType}catch(Te){Z={apply:J.length?function(t,e){Q.apply(t,te.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}T=e.support={},N=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:I,i=n.defaultView;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,$=n.documentElement,M=!N(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){A()},!1):i.attachEvent&&i.attachEvent("onunload",function(){A()})),T.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=ve.test(n.getElementsByClassName)&&o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),T.getById=o(function(t){return $.appendChild(t).id=F,!n.getElementsByName||!n.getElementsByName(F).length}),T.getById?(S.find.ID=function(t,e){if(typeof e.getElementById!==Y&&M){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(t){var e=t.replace(xe,Ce);return function(t){return t.getAttribute("id")===e}}):(delete S.find.ID,S.filter.ID=function(t){var e=t.replace(xe,Ce);return function(t){var n=typeof t.getAttributeNode!==Y&&t.getAttributeNode("id");return n&&n.value===e}}),S.find.TAG=T.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],o=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},S.find.CLASS=T.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Y&&M?e.getElementsByClassName(t):void 0},O=[],P=[],(T.qsa=ve.test(n.querySelectorAll))&&(o(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&P.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+ie+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||P.push(":checked")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(T.matchesSelector=ve.test(z=$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&o(function(t){T.disconnectedMatch=z.call(t,"div"),z.call(t,"[s!='']:x"),O.push("!=",se)}),P=P.length&&new RegExp(P.join("|")),O=O.length&&new RegExp(O.join("|")),e=ve.test($.compareDocumentPosition),H=e||ve.test($.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return _=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!T.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===I&&H(I,t)?-1:e===n||e.ownerDocument===I&&H(I,e)?1:j?ee.call(j,t)-ee.call(j,e):0:4&i?-1:1)}:function(t,e){if(t===e)return _=!0,0;var i,o=0,a=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!a||!s)return t===n?-1:e===n?1:a?-1:s?1:j?ee.call(j,t)-ee.call(j,e):0;if(a===s)return r(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?r(l[o],c[o]):l[o]===I?-1:c[o]===I?1:0},n):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&A(t),n=n.replace(he,"='$1']"),!(!T.matchesSelector||!M||O&&O.test(n)||P&&P.test(n)))try{var i=z.call(t,n);if(i||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&A(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&A(t);var n=S.attrHandle[e.toLowerCase()],i=n&&G.call(S.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:T.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(_=!T.detectDuplicates,j=!T.sortStable&&t.slice(0),t.sort(U),_){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return j=null,t},D=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=D(e);return n},S=e.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,Ce),t[3]=(t[4]||t[5]||"").replace(xe,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:n&&de.test(n)&&(e=d(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Y&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var a=e.attr(o,t);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var a="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,g=a!==r?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(a){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?m.firstChild:m.lastChild],r&&y){for(u=m[F]||(m[F]={}),c=u[t]||[],p=c[0]===q&&c[1],d=c[0]===q&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[q,p,d];break}}else if(y&&(c=(e[F]||(e[F]={}))[t])&&c[0]===q)d=c[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[F]||(h[F]={}))[t]=[q,d]),h!==e)););return d-=o,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(t,n){var o,a=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[F]?a(n):a.length>1?(o=[t,t,"",n],S.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=a(t,n),r=o.length;r--;)i=ee.call(t,o[r]),t[i]=!(e[i]=o[r])}):function(t){return a(t,0,o)}):a}},pseudos:{not:i(function(t){var e=[],n=[],o=k(t.replace(le,"$1"));return o[F]?i(function(t,e,n,i){for(var a,r=o(t,null,i,[]),s=t.length;s--;)(a=r[s])&&(t[s]=!(e[s]=a))}):function(t,i,a){return e[0]=t,o(e,null,a,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||D(e)).indexOf(t)>-1}}),lang:i(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,Ce).toLowerCase(),function(e){var n;do if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},S.pseudos.nth=S.pseudos.eq;
for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})S.pseudos[C]=l(C);return h.prototype=S.filters=S.pseudos,S.setFilters=new h,k=e.compile=function(t,e){var n,i=[],o=[],a=X[t+" "];if(!a){for(e||(e=d(t)),n=e.length;n--;)a=y(e[n]),a[F]?i.push(a):o.push(a);a=X(t,b(o,i))}return a},T.sortStable=F.split("").sort(U).join("")===F,T.detectDuplicates=!!_,A(),T.sortDetached=o(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||a(ne,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ae.find=ue,ae.expr=ue.selectors,ae.expr[":"]=ae.expr.pseudos,ae.unique=ue.uniqueSort,ae.text=ue.getText,ae.isXMLDoc=ue.isXML,ae.contains=ue.contains;var he=ae.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;ae.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ae.find.matchesSelector(i,t)?[i]:[]:ae.find.matches(t,ae.grep(e,function(t){return 1===t.nodeType}))},ae.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ae(t).filter(function(){for(e=0;o>e;e++)if(ae.contains(i[e],this))return!0}));for(e=0;o>e;e++)ae.find(t,i[e],n);return n=this.pushStack(o>1?ae.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&he.test(t)?ae(t):t||[],!1).length}});var fe,ge=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=ae.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||fe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ae?e[0]:e,ae.merge(this,ae.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ge,!0)),de.test(n[1])&&ae.isPlainObject(e))for(n in e)ae.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=ge.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return fe.find(t);this.length=1,this[0]=i}return this.context=ge,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ae.isFunction(t)?"undefined"!=typeof fe.ready?fe.ready(t):t(ae):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ae.makeArray(t,this))};ve.prototype=ae.fn,fe=ae(ge);var ye=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};ae.extend({dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!ae(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),ae.fn.extend({has:function(t){var e,n=ae(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(ae.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,a=[],r=he.test(t)||"string"!=typeof t?ae(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?ae.unique(a):a)},index:function(t){return t?"string"==typeof t?ae.inArray(this[0],ae(t)):ae.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ae.unique(ae.merge(this.get(),ae(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ae.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ae.dir(t,"parentNode")},parentsUntil:function(t,e,n){return ae.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return ae.dir(t,"nextSibling")},prevAll:function(t){return ae.dir(t,"previousSibling")},nextUntil:function(t,e,n){return ae.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return ae.dir(t,"previousSibling",n)},siblings:function(t){return ae.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ae.sibling(t.firstChild)},contents:function(t){return ae.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ae.merge([],t.childNodes)}},function(t,e){ae.fn[t]=function(n,i){var o=ae.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=ae.filter(i,o)),this.length>1&&(be[t]||(o=ae.unique(o)),ye.test(t)&&(o=o.reverse())),this.pushStack(o)}});var we=/\S+/g,xe={};ae.Callbacks=function(t){t="string"==typeof t?xe[t]||a(t):ae.extend({},t);var e,n,i,o,r,s,l=[],c=!t.once&&[],u=function(a){for(n=t.memory&&a,i=!0,r=s||0,s=0,o=l.length,e=!0;l&&o>r;r++)if(l[r].apply(a[0],a[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function a(e){ae.each(e,function(e,n){var i=ae.type(n);"function"===i?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),e?o=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&ae.each(arguments,function(t,n){for(var i;(i=ae.inArray(n,l,i))>-1;)l.splice(i,1),e&&(o>=i&&o--,r>=i&&r--)}),this},has:function(t){return t?ae.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(t,n){return!l||i&&!c||(n=n||[],n=[t,n.slice?n.slice():n],e?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},ae.extend({Deferred:function(t){var e=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ae.Deferred(function(n){ae.each(e,function(e,a){var r=ae.isFunction(t[e])&&t[e];o[a[1]](function(){var t=r&&r.apply(this,arguments);t&&ae.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ae.extend(t,i):i}},o={};return i.pipe=i.then,ae.each(e,function(t,a){var r=a[2],s=a[3];i[a[1]]=r.add,s&&r.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?i:this,arguments),this},o[a[0]+"With"]=r.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,a=G.call(arguments),r=a.length,s=1!==r||t&&ae.isFunction(t.promise)?r:0,l=1===s?t:ae.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?G.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(e=new Array(r),n=new Array(r),i=new Array(r);r>o;o++)a[o]&&ae.isFunction(a[o].promise)?a[o].promise().done(c(o,i,a)).fail(l.reject).progress(c(o,n,e)):--s;return s||l.resolveWith(i,a),l.promise()}});var Ce;ae.fn.ready=function(t){return ae.ready.promise().done(t),this},ae.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ae.readyWait++:ae.ready(!0)},ready:function(t){if(t===!0?!--ae.readyWait:!ae.isReady){if(!ge.body)return setTimeout(ae.ready);ae.isReady=!0,t!==!0&&--ae.readyWait>0||(Ce.resolveWith(ge,[ae]),ae.fn.trigger&&ae(ge).trigger("ready").off("ready"))}}}),ae.ready.promise=function(e){if(!Ce)if(Ce=ae.Deferred(),"complete"===ge.readyState)setTimeout(ae.ready);else if(ge.addEventListener)ge.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1);else{ge.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&ge.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!ae.isReady){try{n.doScroll("left")}catch(t){return setTimeout(o,50)}r(),ae.ready()}}()}return Ce.promise(e)};var Te,Se="undefined";for(Te in ae(ie))break;ie.ownLast="0"!==Te,ie.inlineBlockNeedsLayout=!1,ae(function(){var t,e,n=ge.getElementsByTagName("body")[0];n&&(t=ge.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e=ge.createElement("div"),n.appendChild(t).appendChild(e),typeof e.style.zoom!==Se&&(e.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(ie.inlineBlockNeedsLayout=3===e.offsetWidth)&&(n.style.zoom=1)),n.removeChild(t),t=e=null)}),function(){var t=ge.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),ae.acceptData=function(t){var e=ae.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/([A-Z])/g;ae.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ae.cache[t[ae.expando]]:t[ae.expando],!!t&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),ae.fn.extend({data:function(t,e){var n,i,o,a=this[0],r=a&&a.attributes;if(void 0===t){if(this.length&&(o=ae.data(a),1===a.nodeType&&!ae._data(a,"parsedAttrs"))){for(n=r.length;n--;)i=r[n].name,0===i.indexOf("data-")&&(i=ae.camelCase(i.slice(5)),l(a,i,o[i]));ae._data(a,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ae.data(this,t)}):arguments.length>1?this.each(function(){ae.data(this,t,e)}):a?l(a,t,ae.data(a,t)):void 0},removeData:function(t){return this.each(function(){ae.removeData(this,t)})}}),ae.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ae._data(t,e),n&&(!i||ae.isArray(n)?i=ae._data(t,e,ae.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ae.queue(t,e),i=n.length,o=n.shift(),a=ae._queueHooks(t,e),r=function(){ae.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete a.stop,o.call(t,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ae._data(t,n)||ae._data(t,n,{empty:ae.Callbacks("once memory").add(function(){ae._removeData(t,e+"queue"),ae._removeData(t,n)})})}}),ae.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ae.queue(this[0],t):void 0===e?this:this.each(function(){var n=ae.queue(this,t,e);ae._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ae.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ae.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ae.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)n=ae._data(a[r],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=["Top","Right","Bottom","Left"],je=function(t,e){return t=e||t,"none"===ae.css(t,"display")||!ae.contains(t.ownerDocument,t)},_e=ae.access=function(t,e,n,i,o,a,r){var s=0,l=t.length,c=null==n;if("object"===ae.type(n)){o=!0;for(s in n)ae.access(t,e,s,n[s],!0,a,r)}else if(void 0!==i&&(o=!0,ae.isFunction(i)||(r=!0),c&&(r?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ae(t),n)})),e))for(;l>s;s++)e(t[s],n,r?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):a},Ae=/^(?:checkbox|radio)$/i;!function(){var t=ge.createDocumentFragment(),e=ge.createElement("div"),n=ge.createElement("input");if(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==ge.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ie.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(i){ie.deleteExpando=!1}}t=e=n=null}(),function(){var e,n,i=ge.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ie[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),ie[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Ee=/^(?:input|select|textarea)$/i,$e=/^key/,Me=/^(?:mouse|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;ae.event={global:{},add:function(t,e,n,i,o){var a,r,s,l,c,u,h,d,p,f,g,m=ae._data(t);if(m){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ae.guid++),(r=m.events)||(r=m.events={}),(u=m.handle)||(u=m.handle=function(t){return typeof ae===Se||t&&ae.event.triggered===t.type?void 0:ae.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(we)||[""],s=e.length;s--;)a=Oe.exec(e[s])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(c=ae.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=ae.event.special[p]||{},h=ae.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ae.expr.match.needsContext.test(o),namespace:f.join(".")},l),(d=r[p])||(d=r[p]=[],d.delegateCount=0,c.setup&&c.setup.call(t,i,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),ae.event.global[p]=!0);t=null}},remove:function(t,e,n,i,o){var a,r,s,l,c,u,h,d,p,f,g,m=ae.hasData(t)&&ae._data(t);if(m&&(u=m.events)){for(e=(e||"").match(we)||[""],c=e.length;c--;)if(s=Oe.exec(e[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(h=ae.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=d.length;a--;)r=d[a],!o&&g!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(d.splice(a,1),r.selector&&d.delegateCount--,h.remove&&h.remove.call(t,r));l&&!d.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||ae.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)ae.event.remove(t,p+e[c],n,i,!0);ae.isEmptyObject(u)&&(delete m.handle,ae._removeData(t,"events"))}},trigger:function(e,n,i,o){var a,r,s,l,c,u,h,d=[i||ge],p=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(s=u=i=i||ge,3!==i.nodeType&&8!==i.nodeType&&!Pe.test(p+ae.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),r=p.indexOf(":")<0&&"on"+p,e=e[ae.expando]?e:new ae.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ae.makeArray(n,[e]),c=ae.event.special[p]||{},o||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!o&&!c.noBubble&&!ae.isWindow(i)){for(l=c.delegateType||p,Pe.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(i.ownerDocument||ge)&&d.push(u.defaultView||u.parentWindow||t)}for(h=0;(s=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:c.bindType||p,a=(ae._data(s,"events")||{})[e.type]&&ae._data(s,"handle"),a&&a.apply(s,n),a=r&&s[r],a&&a.apply&&ae.acceptData(s)&&(e.result=a.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=p,!o&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),n)===!1)&&ae.acceptData(i)&&r&&i[p]&&!ae.isWindow(i)){u=i[r],u&&(i[r]=null),ae.event.triggered=p;try{i[p]()}catch(g){}ae.event.triggered=void 0,u&&(i[r]=u)}return e.result}},dispatch:function(t){t=ae.event.fix(t);var e,n,i,o,a,r=[],s=G.call(arguments),l=(ae._data(this,"events")||{})[t.type]||[],c=ae.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(r=ae.event.handlers.call(this,t,l),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((ae.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,a,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(o=[],a=0;s>a;a++)i=e[a],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?ae(n,this).index(l)>=0:ae.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&r.push({elem:l,handlers:o})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},fix:function(t){if(t[ae.expando])return t;var e,n,i,o=t.type,a=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Me.test(o)?this.mouseHooks:$e.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new ae.Event(a),e=i.length;e--;)n=i[e],t[n]=a[n];return t.target||(t.target=a.srcElement||ge),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,a=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ge,o=i.documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ae.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ae.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=ae.extend(new ae.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?ae.event.trigger(o,null,e):ae.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},ae.removeEvent=ge.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Se&&(t[i]=null),t.detachEvent(i,n))},ae.Event=function(t,e){return this instanceof ae.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&(t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault())?d:p):this.type=t,e&&ae.extend(this,e),this.timeStamp=t&&t.timeStamp||ae.now(),this[ae.expando]=!0,void 0):new ae.Event(t,e)},ae.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d,this.stopPropagation()}},ae.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ae.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,a=t.handleObj;return(!o||o!==i&&!ae.contains(i,o))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),ie.submitBubbles||(ae.event.special.submit={setup:function(){return ae.nodeName(this,"form")?!1:(ae.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ae.nodeName(e,"input")||ae.nodeName(e,"button")?e.form:void 0;n&&!ae._data(n,"submitBubbles")&&(ae.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ae._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ae.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ae.nodeName(this,"form")?!1:(ae.event.remove(this,"._submit"),void 0)}}),ie.changeBubbles||(ae.event.special.change={setup:function(){return Ee.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ae.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ae.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ae.event.simulate("change",this,t,!0)})),!1):(ae.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ee.test(e.nodeName)&&!ae._data(e,"changeBubbles")&&(ae.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ae.event.simulate("change",this.parentNode,t,!0)}),ae._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ae.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),ie.focusinBubbles||ae.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ae.event.simulate(e,t.target,ae.event.fix(t),!0)};ae.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=ae._data(i,e);o||i.addEventListener(t,n,!0),ae._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ae._data(i,e)-1;o?ae._data(i,e,o):(i.removeEventListener(t,n,!0),ae._removeData(i,e))}}}),ae.fn.extend({on:function(t,e,n,i,o){var a,r;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=p;else if(!i)return this;return 1===o&&(r=i,i=function(t){return ae().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=ae.guid++)),this.each(function(){ae.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ae(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ae.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ae.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ae.event.trigger(t,e,n,!0):void 0}});var ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",He=/ jQuery\d+="(?:null|\d+)"/g,Fe=new RegExp("<(?:"+ze+")[\\s/>]","i"),Ie=/^\s+/,qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Re=/<([\w:]+)/,Be=/<tbody/i,We=/<|&#?\w+;/,Xe=/<(?:script|style|link)/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ke=g(ge),Qe=Ke.appendChild(ge.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ae.extend({clone:function(t,e,n){var i,o,a,r,s,l=ae.contains(t.ownerDocument,t);if(ie.html5Clone||ae.isXMLDoc(t)||!Fe.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(Qe.innerHTML=t.outerHTML,Qe.removeChild(a=Qe.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ae.isXMLDoc(t)))for(i=m(a),s=m(t),r=0;null!=(o=s[r]);++r)i[r]&&T(o,i[r]);if(e)if(n)for(s=s||m(t),i=i||m(a),r=0;null!=(o=s[r]);r++)C(o,i[r]);else C(t,a);return i=m(a,"script"),i.length>0&&x(i,!l&&m(t,"script")),i=s=o=null,a},buildFragment:function(t,e,n,i){for(var o,a,r,s,l,c,u,h=t.length,d=g(e),p=[],f=0;h>f;f++)if(a=t[f],a||0===a)if("object"===ae.type(a))ae.merge(p,a.nodeType?[a]:a);else if(We.test(a)){for(s=s||d.appendChild(e.createElement("div")),l=(Re.exec(a)||["",""])[1].toLowerCase(),u=Je[l]||Je._default,s.innerHTML=u[1]+a.replace(qe,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!ie.leadingWhitespace&&Ie.test(a)&&p.push(e.createTextNode(Ie.exec(a)[0])),!ie.tbody)for(a="table"!==l||Be.test(a)?"<table>"!==u[1]||Be.test(a)?0:s:s.firstChild,o=a&&a.childNodes.length;o--;)ae.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ae.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(e.createTextNode(a));for(s&&d.removeChild(s),ie.appendChecked||ae.grep(m(p,"input"),v),f=0;a=p[f++];)if((!i||-1===ae.inArray(a,i))&&(r=ae.contains(a.ownerDocument,a),s=m(d.appendChild(a),"script"),r&&x(s),n))for(o=0;a=s[o++];)Ye.test(a.type||"")&&n.push(a);return s=null,d},cleanData:function(t,e){for(var n,i,o,a,r=0,s=ae.expando,l=ae.cache,c=ie.deleteExpando,u=ae.event.special;null!=(n=t[r]);r++)if((e||ae.acceptData(n))&&(o=n[s],a=o&&l[o])){if(a.events)for(i in a.events)u[i]?ae.event.remove(n,i):ae.removeEvent(n,i,a.handle);l[o]&&(delete l[o],c?delete n[s]:typeof n.removeAttribute!==Se?n.removeAttribute(s):n[s]=null,V.push(o))}}}),ae.fn.extend({text:function(t){return _e(this,function(t){return void 0===t?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ge).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?ae.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||ae.cleanData(m(n)),n.parentNode&&(e&&ae.contains(n.ownerDocument,n)&&x(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ae.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ae.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ae.clone(this,t,e)})},html:function(t){return _e(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(He,""):void 0;if(!("string"!=typeof t||Xe.test(t)||!ie.htmlSerialize&&Fe.test(t)||!ie.leadingWhitespace&&Ie.test(t)||Je[(Re.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(qe,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ae.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ae.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=J.apply([],t);var n,i,o,a,r,s,l=0,c=this.length,u=this,h=c-1,d=t[0],p=ae.isFunction(d);if(p||c>1&&"string"==typeof d&&!ie.checkClone&&Ue.test(d))return this.each(function(n){var i=u.eq(n);p&&(t[0]=d.call(this,n,i.html())),i.domManip(t,e)});if(c&&(s=ae.buildFragment(t,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=ae.map(m(s,"script"),b),o=a.length;c>l;l++)i=s,l!==h&&(i=ae.clone(i,!0,!0),o&&ae.merge(a,m(i,"script"))),e.call(this[l],i,l);if(o)for(r=a[a.length-1].ownerDocument,ae.map(a,w),l=0;o>l;l++)i=a[l],Ye.test(i.type||"")&&!ae._data(i,"globalEval")&&ae.contains(r,i)&&(i.src?ae._evalUrl&&ae._evalUrl(i.src):ae.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ge,"")));s=n=null}return this}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ae.fn[t]=function(t){for(var n,i=0,o=[],a=ae(t),r=a.length-1;r>=i;i++)n=i===r?this:this.clone(!0),ae(a[i])[e](n),K.apply(o,n.get());return this.pushStack(o)}});var Ze,tn={};!function(){var t,e,n=ge.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],t.style.cssText="float:left;opacity:.5",ie.opacity=/^0.5/.test(t.style.opacity),ie.cssFloat=!!t.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===n.style.backgroundClip,t=n=null,ie.shrinkWrapBlocks=function(){var t,n,o,a;if(null==e){if(t=ge.getElementsByTagName("body")[0],!t)return;a="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=ge.createElement("div"),o=ge.createElement("div"),t.appendChild(n).appendChild(o),e=!1,typeof o.style.zoom!==Se&&(o.style.cssText=i+";width:1px;padding:1px;zoom:1",o.innerHTML="<div></div>",o.firstChild.style.width="5px",e=3!==o.offsetWidth),t.removeChild(n),t=n=o=null}return e}}();var en,nn,on=/^margin/,an=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),rn=/^(top|right|bottom|left)$/;t.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},nn=function(t,e,n){var i,o,a,r,s=t.style;return n=n||en(t),r=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==r||ae.contains(t.ownerDocument,t)||(r=ae.style(t,e)),an.test(r)&&on.test(e)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a)),void 0===r?r:r+""}):ge.documentElement.currentStyle&&(en=function(t){return t.currentStyle},nn=function(t,e,n){var i,o,a,r,s=t.style;return n=n||en(t),r=n?n[e]:void 0,null==r&&s&&s[e]&&(r=s[e]),an.test(r)&&!rn.test(e)&&(i=s.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r,r=s.pixelLeft+"px",s.left=i,a&&(o.left=a)),void 0===r?r:r+""||"auto"}),function(){function e(){var e,n,i=ge.getElementsByTagName("body")[0];i&&(e=ge.createElement("div"),n=ge.createElement("div"),e.style.cssText=c,i.appendChild(e).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",ae.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){o=4===n.offsetWidth}),a=!0,r=!1,s=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(n,null)||{}).top,a="4px"===(t.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(e),n=i=null)}var n,i,o,a,r,s,l=ge.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",u="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=l.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",ie.opacity=/^0.5/.test(n.style.opacity),ie.cssFloat=!!n.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===l.style.backgroundClip,n=l=null,ae.extend(ie,{reliableHiddenOffsets:function(){if(null!=i)return i;var t,e,n,o=ge.createElement("div"),a=ge.getElementsByTagName("body")[0];if(a)return o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=ge.createElement("div"),t.style.cssText=c,a.appendChild(t).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=o.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",i=n&&0===e[0].offsetHeight,a.removeChild(t),o=a=null,i},boxSizing:function(){return null==o&&e(),o},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n,i,o;if(null==s&&t.getComputedStyle){if(e=ge.getElementsByTagName("body")[0],!e)return;n=ge.createElement("div"),i=ge.createElement("div"),n.style.cssText=c,e.appendChild(n).appendChild(i),o=i.appendChild(ge.createElement("div")),o.style.cssText=i.style.cssText=u,o.style.marginRight=o.style.width="0",i.style.width="1px",s=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight),e.removeChild(n)}return s}})}(),ae.swap=function(t,e,n,i){var o,a,r={};for(a in e)r[a]=t.style[a],t.style[a]=e[a];o=n.apply(t,i||[]);for(a in e)t.style[a]=r[a];return o};var sn=/alpha\([^)]*\)/i,ln=/opacity\s*=\s*([^)]*)/,cn=/^(none|table(?!-c[ea]).+)/,un=new RegExp("^("+ke+")(.*)$","i"),hn=new RegExp("^([+-])=("+ke+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},fn=["Webkit","O","Moz","ms"];ae.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=nn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,r,s=ae.camelCase(e),l=t.style;if(e=ae.cssProps[s]||(ae.cssProps[s]=k(l,s)),r=ae.cssHooks[e]||ae.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];if(a=typeof n,"string"===a&&(o=hn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(ae.css(t,e)),a="number"),null!=n&&n===n&&("number"!==a||ae.cssNumber[s]||(n+="px"),ie.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(t,n,i)))))try{l[e]="",l[e]=n}catch(c){}}},css:function(t,e,n,i){var o,a,r,s=ae.camelCase(e);return e=ae.cssProps[s]||(ae.cssProps[s]=k(t.style,s)),r=ae.cssHooks[e]||ae.cssHooks[s],r&&"get"in r&&(a=r.get(t,!0,n)),void 0===a&&(a=nn(t,e,i)),"normal"===a&&e in pn&&(a=pn[e]),""===n||n?(o=parseFloat(a),n===!0||ae.isNumeric(o)?o||0:a):a}}),ae.each(["height","width"],function(t,e){ae.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&cn.test(ae.css(t,"display"))?ae.swap(t,dn,function(){return A(t,e,i)}):A(t,e,i):void 0},set:function(t,n,i){var o=i&&en(t);return j(t,n,i?_(t,e,i,ie.boxSizing()&&"border-box"===ae.css(t,"boxSizing",!1,o),o):0)}}}),ie.opacity||(ae.cssHooks.opacity={get:function(t,e){return ln.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ae.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ae.trim(a.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=sn.test(a)?a.replace(sn,o):a+" "+o)}}),ae.cssHooks.marginRight=N(ie.reliableMarginRight,function(t,e){return e?ae.swap(t,{display:"inline-block"},nn,[t,"marginRight"]):void 0}),ae.each({margin:"",padding:"",border:"Width"},function(t,e){ae.cssHooks[t+e]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+Le[i]+e]=a[i]||a[i-2]||a[0];return o}},on.test(t)||(ae.cssHooks[t+e].set=j)}),ae.fn.extend({css:function(t,e){return _e(this,function(t,e,n){var i,o,a={},r=0;if(ae.isArray(e)){for(i=en(t),o=e.length;o>r;r++)a[e[r]]=ae.css(t,e[r],!1,i);return a}return void 0!==n?ae.style(t,e,n):ae.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){je(this)?ae(this).show():ae(this).hide()})}}),ae.Tween=E,E.prototype={constructor:E,init:function(t,e,n,i,o,a){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(ae.cssNumber[n]?"":"px")},cur:function(){var t=E.propHooks[this.prop];return t&&t.get?t.get(this):E.propHooks._default.get(this)},run:function(t){var e,n=E.propHooks[this.prop];return this.pos=e=this.options.duration?ae.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ae.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ae.fx.step[t.prop]?ae.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ae.cssProps[t.prop]]||ae.cssHooks[t.prop])?ae.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ae.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ae.fx=E.prototype.init,ae.fx.step={};var gn,mn,vn=/^(?:toggle|show|hide)$/,yn=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),bn=/queueHooks$/,wn=[O],xn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=yn.exec(e),a=o&&o[3]||(ae.cssNumber[t]?"":"px"),r=(ae.cssNumber[t]||"px"!==a&&+i)&&yn.exec(ae.css(n.elem,t)),s=1,l=20;if(r&&r[3]!==a){a=a||r[3],o=o||[],r=+i||1;do s=s||".5",r/=s,ae.style(n.elem,t,r+a);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(r=n.start=+r||+i||0,n.unit=a,n.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),n}]};ae.Animation=ae.extend(H,{tweener:function(t,e){ae.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],xn[n]=xn[n]||[],xn[n].unshift(e)},prefilter:function(t,e){e?wn.unshift(t):wn.push(t)}}),ae.speed=function(t,e,n){var i=t&&"object"==typeof t?ae.extend({},t):{complete:n||!n&&e||ae.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ae.isFunction(e)&&e};return i.duration=ae.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ae.fx.speeds?ae.fx.speeds[i.duration]:ae.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ae.isFunction(i.old)&&i.old.call(this),i.queue&&ae.dequeue(this,i.queue)},i},ae.fn.extend({fadeTo:function(t,e,n,i){return this.filter(je).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=ae.isEmptyObject(t),a=ae.speed(e,n,i),r=function(){var e=H(this,ae.extend({},t),a);(o||ae._data(this,"finish"))&&e.stop(!0)};return r.finish=r,o||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",a=ae.timers,r=ae._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&bn.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=t&&a[o].queue!==t||(a[o].anim.stop(n),e=!1,a.splice(o,1));(e||!n)&&ae.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ae._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],a=ae.timers,r=i?i.length:0;for(n.finish=!0,ae.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;r>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ae.each(["toggle","show","hide"],function(t,e){var n=ae.fn[e];ae.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(M(e,!0),t,i,o)}}),ae.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ae.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ae.timers=[],ae.fx.tick=function(){var t,e=ae.timers,n=0;for(gn=ae.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||ae.fx.stop(),gn=void 0},ae.fx.timer=function(t){ae.timers.push(t),t()?ae.fx.start():ae.timers.pop()},ae.fx.interval=13,ae.fx.start=function(){mn||(mn=setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){clearInterval(mn),mn=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fn.delay=function(t,e){return t=ae.fx?ae.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,o=ge.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=o.getElementsByTagName("a")[0],n=ge.createElement("select"),i=n.appendChild(ge.createElement("option")),e=o.getElementsByTagName("input")[0],t.style.cssText="top:1px",ie.getSetAttribute="t"!==o.className,ie.style=/top/.test(t.getAttribute("style")),ie.hrefNormalized="/a"===t.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=i.selected,ie.enctype=!!ge.createElement("form").enctype,n.disabled=!0,ie.optDisabled=!i.disabled,e=ge.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value,t=e=n=i=o=null}();var Cn=/\r/g;ae.fn.extend({val:function(t){var e,n,i,o=this[0];{if(arguments.length)return i=ae.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,ae(this).val()):t,null==o?o="":"number"==typeof o?o+="":ae.isArray(o)&&(o=ae.map(o,function(t){return null==t?"":t+""})),e=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=ae.valHooks[o.type]||ae.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)}}}),ae.extend({valHooks:{option:{get:function(t){var e=ae.find.attr(t,"value");return null!=e?e:ae.text(t)}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,a="select-one"===t.type||0>o,r=a?null:[],s=a?o+1:i.length,l=0>o?s:a?o:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==o||(ie.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ae.nodeName(n.parentNode,"optgroup"))){if(e=ae(n).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var n,i,o=t.options,a=ae.makeArray(e),r=o.length;r--;)if(i=o[r],ae.inArray(ae.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(t,e){return ae.isArray(e)?t.checked=ae.inArray(ae(t).val(),e)>=0:void 0}},ie.checkOn||(ae.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Tn,Sn,Dn=ae.expr.attrHandle,Nn=/^(?:checked|selected)$/i,kn=ie.getSetAttribute,Ln=ie.input;ae.fn.extend({attr:function(t,e){return _e(this,ae.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ae.removeAttr(this,t)})}}),ae.extend({attr:function(t,e,n){var i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===Se?ae.prop(t,e,n):(1===a&&ae.isXMLDoc(t)||(e=e.toLowerCase(),i=ae.attrHooks[e]||(ae.expr.match.bool.test(e)?Sn:Tn)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=ae.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):(ae.removeAttr(t,e),void 0))},removeAttr:function(t,e){var n,i,o=0,a=e&&e.match(we);if(a&&1===t.nodeType)for(;n=a[o++];)i=ae.propFix[n]||n,ae.expr.match.bool.test(n)?Ln&&kn||!Nn.test(n)?t[i]=!1:t[ae.camelCase("default-"+n)]=t[i]=!1:ae.attr(t,n,""),t.removeAttribute(kn?n:i)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&ae.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Sn={set:function(t,e,n){return e===!1?ae.removeAttr(t,n):Ln&&kn||!Nn.test(n)?t.setAttribute(!kn&&ae.propFix[n]||n,n):t[ae.camelCase("default-"+n)]=t[n]=!0,n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Dn[e]||ae.find.attr;Dn[e]=Ln&&kn||!Nn.test(e)?function(t,e,i){var o,a;return i||(a=Dn[e],Dn[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Dn[e]=a),o}:function(t,e,n){return n?void 0:t[ae.camelCase("default-"+e)]?e.toLowerCase():null}}),Ln&&kn||(ae.attrHooks.value={set:function(t,e,n){return ae.nodeName(t,"input")?(t.defaultValue=e,void 0):Tn&&Tn.set(t,e,n)}}),kn||(Tn={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Dn.id=Dn.name=Dn.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ae.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:Tn.set},ae.attrHooks.contenteditable={set:function(t,e,n){Tn.set(t,""===e?!1:e,n)}},ae.each(["width","height"],function(t,e){ae.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ie.style||(ae.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var jn=/^(?:input|select|textarea|button|object)$/i,_n=/^(?:a|area)$/i;ae.fn.extend({prop:function(t,e){return _e(this,ae.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ae.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ae.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,a,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return a=1!==r||!ae.isXMLDoc(t),a&&(e=ae.propFix[e]||e,o=ae.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ae.find.attr(t,"tabindex");return e?parseInt(e,10):jn.test(t.nodeName)||_n.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||ae.each(["href","src"],function(t,e){ae.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(ae.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),ie.enctype||(ae.propFix.enctype="encoding");var An=/[\t\r\n\f]/g;ae.fn.extend({addClass:function(t){var e,n,i,o,a,r,s=0,l=this.length,c="string"==typeof t&&t;if(ae.isFunction(t))return this.each(function(e){ae(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(we)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):" ")){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=ae.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(t){var e,n,i,o,a,r,s=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(ae.isFunction(t))return this.each(function(e){ae(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(we)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):"")){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");r=t?ae.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ae.isFunction(t)?this.each(function(n){ae(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,o=ae(this),a=t.match(we)||[];e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===Se||"boolean"===n)&&(this.className&&ae._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ae._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(An," ").indexOf(e)>=0)return!0;return!1}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ae.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ae.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var En=ae.now(),$n=/\?/,Mn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ae.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=ae.trim(e+"");return o&&!ae.trim(o.replace(Mn,function(t,e,o,a){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!a-!o,"")}))?Function("return "+o)():ae.error("Invalid JSON: "+e)},ae.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+e),n};var Pn,On,zn=/#.*$/,Hn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qn=/^(?:GET|HEAD)$/,Rn=/^\/\//,Bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Wn={},Xn={},Un="*/".concat("*");try{On=location.href}catch(Yn){On=ge.createElement("a"),On.href="",On=On.href}Pn=Bn.exec(On.toLowerCase())||[],ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On,type:"GET",isLocal:In.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,ae.ajaxSettings),e):q(ae.ajaxSettings,t)},ajaxPrefilter:F(Wn),ajaxTransport:F(Xn),ajax:function(t,e){function n(t,e,n,i){var o,u,v,y,w,C=e;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,r=i||"",x.readyState=t>0?4:0,o=t>=200&&300>t||304===t,n&&(y=R(h,x,n)),y=B(h,y,x,o),o?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(ae.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(ae.etag[a]=w)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=y.state,u=y.data,v=y.error,o=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(e||C)+"",o?f.resolveWith(d,[u,C,x]):f.rejectWith(d,[x,C,v]),x.statusCode(m),m=void 0,l&&p.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?u:v]),g.fireWith(d,[x,C]),l&&(p.trigger("ajaxComplete",[x,h]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,a,r,s,l,c,u,h=ae.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?ae(d):ae.event,f=ae.Deferred(),g=ae.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!u)for(u={};e=Fn.exec(r);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return c&&c.abort(e),n(0,e),this}};if(f.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||On)+"").replace(zn,"").replace(Rn,Pn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=ae.trim(h.dataType||"*").toLowerCase().match(we)||[""],null==h.crossDomain&&(i=Bn.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Pn[1]&&i[2]===Pn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ae.param(h.data,h.traditional)),I(Wn,h,e,x),2===b)return x;l=h.global,l&&0===ae.active++&&ae.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!qn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=($n.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Hn.test(a)?a.replace(Hn,"$1_="+En++):a+($n.test(a)?"&":"?")+"_="+En++)),h.ifModified&&(ae.lastModified[a]&&x.setRequestHeader("If-Modified-Since",ae.lastModified[a]),ae.etag[a]&&x.setRequestHeader("If-None-Match",ae.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Un+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(c=I(Xn,h,e,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,c.send(v,n)}catch(C){if(!(2>b))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return ae.get(t,e,n,"json")},getScript:function(t,e){return ae.get(t,void 0,e,"script")}}),ae.each(["get","post"],function(t,e){ae[e]=function(t,n,i,o){return ae.isFunction(n)&&(o=o||i,i=n,n=void 0),ae.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ae.fn[e]=function(t){return this.on(e,t)}}),ae._evalUrl=function(t){return ae.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ae.fn.extend({wrapAll:function(t){if(ae.isFunction(t))return this.each(function(e){ae(this).wrapAll(t.call(this,e))});if(this[0]){var e=ae(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ae.isFunction(t)?this.each(function(e){ae(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ae(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ae.isFunction(t);return this.each(function(n){ae(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}}),ae.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ae.css(t,"display"))},ae.expr.filters.visible=function(t){return!ae.expr.filters.hidden(t)};var Vn=/%20/g,Gn=/\[\]$/,Jn=/\r?\n/g,Kn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;ae.param=function(t,e){var n,i=[],o=function(t,e){e=ae.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(t)||t.jquery&&!ae.isPlainObject(t))ae.each(t,function(){o(this.name,this.value)});else for(n in t)W(n,t[n],e,o);return i.join("&").replace(Vn,"+")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ae.prop(this,"elements");return t?ae.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ae(this).is(":disabled")&&Qn.test(this.nodeName)&&!Kn.test(t)&&(this.checked||!Ae.test(t))}).map(function(t,e){var n=ae(this).val();return null==n?null:ae.isArray(n)?ae.map(n,function(t){return{name:e.name,value:t.replace(Jn,"\r\n")}}):{name:e.name,value:n.replace(Jn,"\r\n")}}).get()}}),ae.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Zn=0,ti={},ei=ae.ajaxSettings.xhr();t.ActiveXObject&&ae(t).on("unload",function(){for(var t in ti)ti[t](void 0,!0)}),ie.cors=!!ei&&"withCredentials"in ei,ei=ie.ajax=!!ei,ei&&ae.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(n,i){var o,a=t.xhr(),r=++Zn;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(t.hasContent&&t.data||null),e=function(n,o){var s,l,c;if(e&&(o||4===a.readyState))if(delete ti[r],e=void 0,a.onreadystatechange=ae.noop,o)4!==a.readyState&&a.abort();else{c={},s=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(u){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,a.getAllResponseHeaders())},t.async?4===a.readyState?setTimeout(e):a.onreadystatechange=ti[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ae.globalEval(t),t}}}),ae.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ae.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ge.head||ae("head")[0]||ge.documentElement;return{send:function(i,o){e=ge.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ni.pop()||ae.expando+"_"+En++;return this[t]=!0,t}}),ae.ajaxPrefilter("json jsonp",function(e,n,i){var o,a,r,s=e.jsonp!==!1&&(ii.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=ae.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ii,"$1"+o):e.jsonp!==!1&&(e.url+=($n.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||ae.error(o+" was not called"),r[0]},e.dataTypes[0]="json",a=t[o],t[o]=function(){r=arguments},i.always(function(){t[o]=a,e[o]&&(e.jsonpCallback=n.jsonpCallback,ni.push(o)),r&&ae.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),ae.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ge;var i=de.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=ae.buildFragment([t],e,o),o&&o.length&&ae(o).remove(),ae.merge([],i.childNodes))};var oi=ae.fn.load;ae.fn.load=function(t,e,n){if("string"!=typeof t&&oi)return oi.apply(this,arguments);var i,o,a,r=this,s=t.indexOf(" ");return s>=0&&(i=t.slice(s,t.length),t=t.slice(0,s)),ae.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(a="POST"),r.length>0&&ae.ajax({url:t,type:a,dataType:"html",data:e}).done(function(t){o=arguments,r.html(i?ae("<div>").append(ae.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){r.each(n,o||[t.responseText,e,t])}),this},ae.expr.filters.animated=function(t){return ae.grep(ae.timers,function(e){return t===e.elem}).length};var ai=t.document.documentElement;ae.offset={setOffset:function(t,e,n){var i,o,a,r,s,l,c,u=ae.css(t,"position"),h=ae(t),d={};"static"===u&&(t.style.position="relative"),s=h.offset(),a=ae.css(t,"top"),l=ae.css(t,"left"),c=("absolute"===u||"fixed"===u)&&ae.inArray("auto",[a,l])>-1,c?(i=h.position(),r=i.top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),ae.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+r),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):h.css(d)}},ae.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ae.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return e=a.documentElement,ae.contains(e,o)?(typeof o.getBoundingClientRect!==Se&&(i=o.getBoundingClientRect()),n=Y(a),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ae.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ae.nodeName(t[0],"html")||(n=t.offset()),n.top+=ae.css(t[0],"borderTopWidth",!0),n.left+=ae.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ae.css(i,"marginTop",!0),left:e.left-n.left-ae.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ai;t&&!ae.nodeName(t,"html")&&"static"===ae.css(t,"position");)t=t.offsetParent;return t||ai})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ae.fn[t]=function(i){return _e(this,function(t,i,o){var a=Y(t);return void 0===o?a?e in a?a[e]:a.document.documentElement[i]:t[i]:(a?a.scrollTo(n?ae(a).scrollLeft():o,n?o:ae(a).scrollTop()):t[i]=o,void 0)},t,i,arguments.length,null)}}),ae.each(["top","left"],function(t,e){ae.cssHooks[e]=N(ie.pixelPosition,function(t,n){return n?(n=nn(t,e),an.test(n)?ae(t).position()[e]+"px":n):void 0})}),ae.each({Height:"height",Width:"width"},function(t,e){ae.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ae.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return _e(this,function(e,n,i){var o;return ae.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?ae.css(e,n,r):ae.style(e,n,i,r)},e,a?i:void 0,a,null)}})}),ae.fn.size=function(){return this.length},ae.fn.andSelf=ae.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ae});var ri=t.jQuery,si=t.$;return ae.noConflict=function(e){return t.$===ae&&(t.$=si),e&&t.jQuery===ae&&(t.jQuery=ri),ae},typeof e===Se&&(t.jQuery=t.$=ae),ae}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)
},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var o,a,r,s,l,c,u,h;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===e?null:s,c=i.data("with-credentials")||null,u=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),a=i.attr("action"),r=i.serializeArray();var d=i.data("ujs:submit-button");d&&(r.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",a=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(o=i.data("method"),a=n.href(i),r=i.data("params")||null);h={type:o||"GET",data:r,dataType:u,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[t,o])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),a&&(h.url=a);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var o=n.href(i),a=i.data("method"),r=i.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&s!==e&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),o=!1;return i?(n.fire(t,"confirm")&&(o=n.confirm(i),e=n.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,n,i){var o,a,r=t(),s=n||"input,textarea",l=e.find(s);return l.each(function(){if(o=t(this),a=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!a==!i){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;r=r.add(o)}}),r.length?r:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var o=t(this),a=o.data("method"),r=o.data("params"),s=i.metaKey||i.ctrlKey;if(!n.allowAction(o))return n.stopEverything(i);if(!s&&o.is(n.linkDisableSelector)&&n.disableElement(o),o.data("remote")!==e){if(s&&(!a||"GET"===a)&&!r)return!0;var l=n.handleRemote(o);return l===!1?n.enableElement(o):l.error(function(){n.enableElement(o)}),!1}return o.data("method")?(n.handleMethod(o),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o=t(this),a=o.data("remote")!==e,r=n.blankInputs(o,n.requiredInputSelector),s=n.nonBlankInputs(o,n.fileInputSelector);if(!n.allowAction(o))return n.stopEverything(i);if(r&&o.attr("novalidate")==e&&n.fire(o,"ajax:aborted:required",[r]))return n.stopEverything(i);if(a){if(s){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),a=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){a.trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("bs.button"),a="object"==typeof n&&n;o||i.data("bs.button",o=new e(this,a)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),a=this.interval,r="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[s]()}this.sliding=!0,a&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:o[0],direction:r});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(r),o.addClass(r),i.one(t.support.transition.end,function(){o.removeClass([e,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),r="string"==typeof n?n:a.slide;o||i.data("bs.carousel",o=new e(this,a)),"number"==typeof n?o.to(n):r?o[r]():a.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),i.data()),r=i.attr("data-slide-to");r&&(a.interval=!1),o.carousel(a),(r=i.attr("data-slide-to"))&&o.data("bs.carousel").to(r),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var r=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][r])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),a=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(o),r=a.data("bs.collapse"),s=r?"toggle":i.data(),l=i.attr("data-parent"),c=l&&t(l);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(s)})}(jQuery),+function(t){"use strict";function e(){t(i).remove(),t(o).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var a=n(o),r=a.hasClass("open");if(e(),!r){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var a=n(i),r=a.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&a.find(o).focus(),i.click();var s=t("[role=menu] li:not(.divider):visible a",a);if(s.length){var l=s.index(s.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",a.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),r=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);a||o.data("bs.modal",a=new e(this,r)),"string"==typeof n?a[n](i):r.show&&a.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focus",l="hover"==r?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,a=o.test(i);a&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var r=this.getPosition(),s=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var c=this.$element.parent(),u=i,h=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;i="bottom"==i&&r.top+r.height+l-h>p?"top":"top"==i&&r.top-h-l<0?"bottom":"right"==i&&r.right+s>d?"left":"left"==i&&r.left-s<f?"right":i,n.removeClass(u).addClass(i)}var g=this.getCalculatedOffset(i,r,s,l);this.applyPlacement(g,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,i.offset(t).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==e&&c!=a&&(n=!0,t.top=t.top+a-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(u-o+l,l,"left")}else this.replaceArrow(c-a,c,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),a="object"==typeof n&&n;o||i.data("bs.tooltip",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),a="object"==typeof n&&n;o||i.data("bs.popover",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,i){var o,a=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(o=t(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var i=t(this),o=i.data("target")||i.attr("href"),a=/^#\w/.test(o)&&t(o);return a&&a.length&&[[a[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(e>=i)return r!=(t=a.last()[0])&&this.activate(t);for(t=o.length;t--;)r!=a[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(a[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),a="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(a),!a.isDefaultPrevented()){var r=t(i);this.activate(e.parent("li"),n),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,n,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),r=i&&t.support.transition&&a.hasClass("fade");r?a.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),a=this.options.offset,r=a.top,s=a.bottom;"object"!=typeof a&&(s=r=a),"function"==typeof r&&(r=a.top()),"function"==typeof s&&(s=a.bottom());var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=s&&o.top+this.$element.height()>=n-s?"bottom":null!=r&&r>=i?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("bs.affix"),a="object"==typeof n&&n;o||i.data("bs.affix",o=new e(this,a)),"string"==typeof n&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();
n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery);var ready;ready=function(){function t(){var t=$("#tree").data("family"),e=new $jit.ST({injectInto:"tree",duration:800,transition:$jit.Trans.Quart.easeInOut,levelDistance:50,Navigation:{enable:!0,panning:!0},Events:{enable:!0,onDragStart:function(t,e,n){n.preventDefault()},onRightClick:function(t){console.log(t.id),e.onClick(t.id,{Move:{offsetY:150}})}},orientation:"top",siblingOffset:20,Node:{height:160,width:350,type:"rectangle",color:"transparent",overridable:!1},Edge:{type:"bezier",overridable:!0},onCreateLabel:function(t,e){t.id=e.id,t.innerHTML=e.name,t.onclick=function(){};var n=t.style;n.width="350px",n.height="100px",n.cursor="pointer",n.color="#000",n.fontSize="2em",n.textAlign="center",n.paddingTop="3px",n.lineHeight="0.8",n.fontFamily="Georgia"},onBeforePlotNode:function(t){if(t.selected)t.data.$color="#ff7";else if(delete t.data.$color,!t.anySubnode("exist")){var e=0;t.eachSubnode(function(){e++}),t.data.$color=["#aaa","#baa","#caa","#daa","#eaa","#faa"][e]}},onBeforePlotLine:function(t){t.nodeFrom.selected&&t.nodeTo.selected?(t.data.$color="#000",t.data.$lineWidth=3):(delete t.data.$color,delete t.data.$lineWidth)}});e.loadJSON(t),e.compute(),e.geom.translate(new $jit.Complex(-400,-150),"current"),e.onClick(e.root,{Move:{offsetY:150}})}$("div.node > img").on("dragstart",function(t){t.preventDefault()}),$("#tree").html("");var e,n,i,o;!function(){var t=navigator.userAgent,a=t.match(/iPhone/i)||t.match(/iPad/i),r=typeof HTMLCanvasElement,s="object"==r||"function"==r,l=s&&"function"==typeof document.createElement("canvas").getContext("2d").fillText;e=!s||l&&!a?"Native":"HTML",i="Native"==e,n=s,o=!(a||!s)}(),$("#tree").length&&t()},$(document).ready(ready),$(document).on("page:load",ready),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var n=0,i=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(a){}o(e)},t.widget=function(e,n,i){var o,a,r,s,l={},c=e.split(".")[0];e=e.split(".")[1],o=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][e],r=t[c][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new r(t,e)},t.extend(r,a,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,a=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=a,e}}(),void 0):(l[e]=i,void 0)}),r.prototype=t.widget.extend(s,{widgetEventPrefix:a?s.widgetEventPrefix:e},l,{constructor:r,namespace:c,widgetName:e,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete a._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(n){for(var o,a,r=i.call(arguments,1),s=0,l=r.length;l>s;s++)for(o in r[s])a=r[s][o],r[s].hasOwnProperty(o)&&a!==e&&(n[o]=t.isPlainObject(a)?t.isPlainObject(n[o])?t.widget.extend({},n[o],a):t.widget.extend({},a):a);return n},t.widget.bridge=function(n,o){var a=o.prototype.widgetFullName||n;t.fn[n]=function(r){var s="string"==typeof r,l=i.call(arguments,1),c=this;return r=!s&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,s?this.each(function(){var i,o=t.data(this,a);return o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,l),i!==o&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,a);e?e.option(r||{})._init():t.data(this,a,new o(r,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var o,a,r,s=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(s={},o=n.split("."),n=o.shift(),o.length){for(a=s[n]=t.widget.extend({},this.options[n]),r=0;r<o.length-1;r++)a[o[r]]=a[o[r]]||{},a=a[o[r]];if(n=o.pop(),i===e)return a[n]===e?null:a[n];a[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var o,a=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,r){function s(){return e||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):void 0}"string"!=typeof r&&(s.guid=r.guid=r.guid||s.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,s):n.bind(c,s)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,a,r=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(o in a)o in n||(n[o]=a[o]);return this.element.trigger(n,i),!(t.isFunction(r)&&r.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,a){"string"==typeof o&&(o={effect:o});var r,s=o?o===!0||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=a,o.delay&&i.delay(o.delay),r&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,a):i.queue(function(n){t(this)[e](),a&&a.call(i[0]),n()})}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(n){if(n.async){var i,o,a;return{send:function(r,s){i=t('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),o=t('<iframe src="javascript:false;" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",function(){var e,a=t.isArray(n.paramName)?n.paramName:[n.paramName];o.unbind("load").bind("load",function(){var e;try{if(e=o.contents(),!e.length||!e[0].firstChild)throw new Error}catch(n){e=void 0}s(200,"success",{iframe:e}),t('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",o.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after(function(t){return e[t]}),n.paramName&&n.fileInput.each(function(e){t(this).prop("name",a[e]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),e&&e.length&&n.fileInput.each(function(n,i){var o=t(e[n]);t(i).prop("name",o.prop("name")),o.replaceWith(i)})}),i.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):t(window.jQuery)}(function(t){"use strict";t.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.propHooks.elements={get:function(e){return t.nodeName(e,"form")?t.grep(e.elements,function(e){return!t.nodeName(e,"input")||"file"!==e.type}):null}},t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:t(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(t){return t.serializeArray()},add:function(t,e){e.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"==typeof e.formData?e.formData(e.form):t.isArray(e.formData)?e.formData:e.formData?(n=[],t.each(e.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(e){var n=0;return t.each(e,function(t,e){n+=e.size||1}),n},_onProgress:function(t,e){if(t.lengthComputable){var n,i,o=+new Date;if(e._time&&e.progressInterval&&o-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=o,n=e.total||this._getTotal(e.files),i=parseInt(t.loaded/t.total*(e.chunkSize||n),10)+(e.uploadedBytes||0),this._loaded+=i-(e.loaded||e.uploadedBytes||0),e.lengthComputable=!0,e.loaded=i,e.total=n,e.bitrate=e._bitrateTimer.getBitrate(o,i,e.bitrateInterval),this._trigger("progress",t,e),this._trigger("progressall",t,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(o,this._loaded,e.bitrateInterval)})}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)}),e.xhr=function(){return i})},_initXHRData:function(e){var n,i=e.files[0],o=e.multipart||!t.support.xhrFileUpload,a=e.paramName[0];e.headers=e.headers||{},e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:a,value:e.blob}):t.each(e.files,function(t,i){n.push({name:e.paramName[t]||a,value:i})})):(e.formData instanceof FormData?n=e.formData:(n=new FormData,t.each(this._getFormData(e),function(t,e){n.append(e.name,e.value)})),e.blob?(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',n.append(a,e.blob,i.name)):t.each(e.files,function(t,i){(window.Blob&&i instanceof Blob||window.File&&i instanceof File)&&n.append(e.paramName[t]||a,i,i.name)})),e.data=n):(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',e.contentType=i.type,e.data=e.blob||i),e.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t,"iframe")},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var e=t(this),n=e.prop("name")||"files[]",o=(e.prop("files")||[1]).length;o;)i.push(n),o-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var o=t.Deferred(),a=o.promise();return n=n||this.options.context||a,e===!0?o.resolveWith(n,i):e===!1&&o.rejectWith(n,i),a.abort=o.promise,this._enhancePromise(a)},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){var i,o,a=this,r=e.files[0],s=r.size,l=e.uploadedBytes=e.uploadedBytes||0,c=e.maxChunkSize||s,u=r.slice||r.webkitSlice||r.mozSlice,h=t.Deferred(),d=h.promise();return this._isXHRUpload(e)&&u&&(l||s>c)&&!e.data?n?!0:l>=s?(r.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,e.context,[null,"error",r.error])):(o=function(){var n=t.extend({},e);n.blob=u.call(r,l,l+c,r.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,a._initXHRData(n),a._initProgressListener(n),i=(a._trigger("chunksend",null,n)!==!1&&t.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(i,r,c){l=a._getUploadedBytes(c)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&a._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=r,n.jqXHR=c,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),s>l?o():h.resolveWith(n.context,[i,r,c])}).fail(function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),h.rejectWith(n.context,[t,e,i])})},this._enhancePromise(d),d.abort=function(){return i.abort()},o(),d):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=e.uploadedBytes||0,this._total+=this._getTotal(e.files)},_onDone:function(e,n,i,o){if(!this._isXHRUpload(o)||!o.loaded||o.loaded<o.total){var a=this._getTotal(o.files)||1;this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:a,total:a}),o)}o.result=e,o.textStatus=n,o.jqXHR=i,this._trigger("done",null,o)},_onFail:function(t,e,n,i){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._loaded-=i.loaded||i.uploadedBytes||0,this._total-=i.total||this._getTotal(i.files))},_onAlways:function(t,e,n,i){this._active-=1,this._trigger("always",null,i),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(e,n){var i,o,a,r,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((o||s._trigger("send",e,l)===!1)&&s._getXHRPromise(!1,l.context,o)||s._chunkedUpload(l)||t.ajax(l)).done(function(t,e,n){s._onDone(t,e,n,l)}).fail(function(t,e,n){s._onFail(t,e,n,l)}).always(function(t,e,n){if(s._sending-=1,s._onAlways(t,e,n,l),l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i,o=s._slots.shift();o;){if(i=o.state?"pending"===o.state():!o.isRejected()){o.resolve();break}o=s._slots.shift()}})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=t.Deferred(),this._slots.push(a),r=a.pipe(c)):r=this._sequence=this._sequence.pipe(c,c),r.abort=function(){return o=[void 0,"abort","abort"],i?i.abort():(a&&a.rejectWith(l.context,o),c())},this._enhancePromise(r)):c()},_onAdd:function(e,n){var i,o,a,r,s=this,l=!0,c=t.extend({},this.options,n),u=c.limitMultiFileUploads,h=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(a=[],i=[],r=0;r<n.files.length;r+=u)a.push(n.files.slice(r,r+u)),o=h.slice(r,r+u),o.length||(o=h),i.push(o);else i=h;else a=[n.files],i=[h];return n.originalFiles=n.files,t.each(a||n.files,function(o,r){var c=t.extend({},n);return c.files=a?r:[r],c.paramName=i[o],c.submit=function(){return c.jqXHR=this.jqXHR=s._trigger("submit",e,this)!==!1&&s._onSend(e,this),this.jqXHR},l=s._trigger("add",e,c)}),l},_replaceFileInput:function(e){var n=e.clone(!0);t("<form></form>").append(n)[0].reset(),e.after(n).detach(),t.cleanData(e.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===e[0]?n[0]:i}),e[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,n){var i,o=this,a=t.Deferred(),r=function(t){t&&!t.entry&&(t.entry=e),a.resolve([t])};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,a.resolve(e._file)):e.file(function(t){t.relativePath=n,a.resolve(t)},r):e.isDirectory?(i=e.createReader(),i.readEntries(function(t){o._handleFileTreeEntries(t,n+e.name+"/").done(function(t){a.resolve(t)}).fail(r)},r)):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,function(t){return i._handleFileTreeEntry(t,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var n=e.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var n,i,o=e.prop("webkitEntries")||e.prop("entries");if(o&&o.length)return this._handleFileTreeEntries(o);if(n=t.makeArray(e.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&t.each(n,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(i=e.prop("value"),!i)return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",e,i)!==!1&&n._onAdd(e,i)})},_onPaste:function(e){var n=e.originalEvent.clipboardData,i=n&&n.items||[],o={files:[]};return t.each(i,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&o.files.push(n)}),this._trigger("paste",e,o)===!1||this._onAdd(e,o)===!1?!1:void 0},_onDrop:function(t){var e=this,n=t.dataTransfer=t.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&t.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,e._trigger("drop",t,i)!==!1&&e._onAdd(t,i)})},_onDragOver:function(e){var n=e.dataTransfer=e.originalEvent.dataTransfer;return this._trigger("dragover",e)===!1?!1:(n&&-1!==t.inArray("Files",n.types)&&(n.dropEffect="copy",e.preventDefault()),void 0)},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,n){var i=-1!==t.inArray(e,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_create:function(){var e=this.options;t.extend(e,t(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,o=this,a=t.Deferred(),r=a.promise();return r.abort=function(){return i=!0,n?n.abort():(a.reject(null,"abort","abort"),r)},this._getFileInputFiles(e.fileInput).always(function(t){i||(e.files=t,n=o._onSend(null,e).then(function(t,e,n){a.resolve(t,e,n)},function(t,e,n){a.reject(t,e,n)}))}),this._enhancePromise(r)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})}),function(t){"use strict";var e=function(t,n){var i=/[^\w\-\.:]/.test(t)?new Function(e.arg+",tmpl","var _e=tmpl.encode"+e.helper+",_s='"+t.replace(e.regexp,e.func)+"';return _s;"):e.cache[t]=e.cache[t]||e(e.load(t));return n?i(n,e):function(t){return i(t,e)}};e.cache={},e.load=function(t){return document.getElementById(t).innerHTML},e.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,e.func=function(t,e,n,i,o,a){return e?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+i+")+'":"'+("+i+"||'')+'":o?"';":a?"_s+='":void 0},e.encReg=/[<>&"'\x00]/g,e.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},e.encode=function(t){return String(t||"").replace(e.encReg,function(t){return e.encMap[t]||""})},e.arg="o",e.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return e}):t.tmpl=e}(this);var ready;ready=function(){$("form").on("click",".add_fields",function(t){var e=(new Date).getTime(),n=new RegExp($(this).data("id"),"g");$(this).parent().before($(this).data("fields").replace(n,e)),t.preventDefault()}),$("#member_full_account").prop("checked")&&$("#full_member_field").show("slow"),$(".add_fields").click(function(){$(this).parents("form").insertAfter($(this).parents("div.row")),$(this).parent().next("input").fadeIn()})},$(document).ready(ready),$(document).on("page:load",ready),function(){var t,e,n,i,o,a,r,s,l,c,u,h,d,p,f,g,m,v,y,b,w,x,C,T,S,D,N,k,L,j,_,A,E,$,M,P,O,z,H,F,I,q,R,B,W,X,U,Y,V,G,J,K,Q,Z,te,ee,ne,ie,oe,ae,re=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},se=[].slice;O={},u=10,te=!1,g=null,E=null,D=["html"],R=null,p=null,oe=null,w=function(t){var e;return Y(),c(),B(t),te&&(e=ee(t))?(x(e),C(t)):C(t,Q)},ee=function(t){var e;return e=O[t],e&&!e.transitionCacheDisabled?e:void 0},m=function(t){return null==t&&(t=!0),te=t},C=function(t,e){return null==e&&(e=function(){return function(){}}(this)),ne("page:fetch",{url:t}),null!=oe&&oe.abort(),oe=new XMLHttpRequest,oe.open("GET",G(t),!0),oe.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),oe.setRequestHeader("X-XHR-Referer",R),oe.onload=function(){var n;return ne("page:receive"),(n=I())?(h.apply(null,b(n)),W(),e(),ne("page:load")):document.location.href=t},oe.onloadend=function(){return oe=null},oe.onerror=function(){return document.location.href=t},oe.send()},x=function(t){return null!=oe&&oe.abort(),h(t.title,t.body),q(t),ne("page:restore")},c=function(){return O[g.url]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},d(u)},H=function(t){return null==t&&(t=u),/^[\d]+$/.test(t)?u=parseInt(t):void 0},d=function(t){var e,n,i,o,a,r;for(i=Object.keys(O),e=i.map(function(t){return O[t].cachedAt}).sort(function(t,e){return e-t}),r=[],o=0,a=i.length;a>o;o++)n=i[o],O[n].cachedAt<=e[t]&&(ne("page:expire",O[n]),r.push(delete O[n]));return r},h=function(e,n,i,o){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=i&&t.update(i),o&&v(),g=window.history.state,ne("page:change"),ne("page:update")},v=function(){var t,e,n,i,o,a,r,s,l,c,u,h;for(a=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),r=0,l=a.length;l>r;r++)if(o=a[r],""===(u=o.type)||"text/javascript"===u){for(e=document.createElement("script"),h=o.attributes,s=0,c=h.length;c>s;s++)t=h[s],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(o.innerHTML)),i=o.parentNode,n=o.nextSibling,i.removeChild(o),i.insertBefore(e,n)}},J=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},B=function(t){return t!==R?window.history.pushState({turbolinks:!0,url:t},"",t):void 0},W=function(){var t,e;return(t=oe.getResponseHeader("X-XHR-Redirected-To"))?(e=V(t)===t?document.location.hash:"",window.history.replaceState(g,"",t+e)):void 0},Y=function(){return R=document.location.href},U=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},X=function(){return g=window.history.state},q=function(t){return window.scrollTo(t.positionX,t.positionY)},Q=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},G=function(t){return V(t)},V=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},F=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},ne=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},z=function(){return!ne("page:before-change")},I=function(){var t,e,n,i,o,a;return e=function(){var t;return 400<=(t=oe.status)&&600>t},a=function(){return oe.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(t){var e,n,i,o,a;for(o=t.head.childNodes,a=[],n=0,i=o.length;i>n;n++)e=o[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&a.push(e.getAttribute("src")||e.getAttribute("href"));return a},t=function(t){var e;return E||(E=i(document)),e=i(t),e.length!==E.length||o(e,E).length!==E.length},o=function(t,e){var n,i,o,a,r;for(t.length>e.length&&(a=[e,t],t=a[0],e=a[1]),r=[],i=0,o=t.length;o>i;i++)n=t[i],re.call(e,n)>=0&&r.push(n);return r},!e()&&a()&&(n=p(oe.responseText),n&&!t(n))?n:void 0},b=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,J(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e?"function"==typeof e.getAttribute?e.getAttribute("content"):void 0:void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},i=function(){var t,e,n,i,o,a;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return o=e("<html><body><p>test"),e}catch(r){return i=r,o=t("<html><body><p>test"),t}finally{if(1!==(null!=o?null!=(a=o.body)?a.childNodes.length:void 0:void 0))return n}},L=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",T,!1),document.addEventListener("click",T,!1))},T=function(t){var e;return t.defaultPrevented||(e=y(t),"A"!==e.nodeName||N(t,e))?void 0:(z()||ie(e.href),t.preventDefault())},y=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},f=function(t){return location.protocol!==t.protocol||location.host!==t.host},n=function(t){return(t.hash&&V(t))===V(location)||t.href===location.href+"#"},M=function(t){var e;return e=V(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(new RegExp("\\.(?:"+D.join("|")+")?(\\?.*)?$","g"))},$=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},Z=function(t){return 0!==t.target.length},P=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},N=function(t,e){return f(e)||n(e)||M(e)||$(e)||Z(e)||P(t)},e=function(){var t,e,n,i;for(e=1<=arguments.length?se.call(arguments,0):[],n=0,i=e.length;i>n;n++)t=e[n],D.push(t);return D},l=function(t){return setTimeout(t,500)},j=function(){return document.addEventListener("DOMContentLoaded",function(){return ne("page:change"),ne("page:update")},!0)},A=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?ne("page:update"):void 0}):void 0},_=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=O[t.state.url])?(c(),x(e)):ie(t.target.location.href):void 0},k=function(){return U(),X(),p=i(),document.addEventListener("click",L,!0),l(function(){return window.addEventListener("popstate",_,!1)})},S=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),r=window.history&&window.history.pushState&&window.history.replaceState&&S,o=!navigator.userAgent.match(/CriOS\//),K="GET"===(ae=F("request_method"))||""===ae,s=r&&o&&K,a=document.addEventListener&&document.createEvent,a&&(j(),A()),s?(ie=w,k()):ie=function(t){return document.location.href=t},this.Turbolinks={visit:ie,pagesCached:H,enableTransitionCache:m,allowLinkExtensions:e,supported:s}
}.call(this),function(){window.$jit=function(t){t=t||window;for(var e in $jit)$jit[e].$extend&&(t[e]=$jit[e])},$jit.version="2.0.1";var t=function(t){return document.getElementById(t)};t.empty=function(){},t.extend=function(t,e){for(var n in e||{})t[n]=e[n];return t},t.lambda=function(t){return"function"==typeof t?t:function(){return t}},t.time=Date.now||function(){return+new Date},t.splat=function(e){var n=t.type(e);return n?"array"!=n?[e]:e:[]},t.type=function(e){var n=t.type.s.call(e).match(/^\[object\s(.*)\]$/)[1].toLowerCase();return"object"!=n?n:e&&e.$$family?e.$$family:e&&e.nodeName&&1==e.nodeType?"element":n},t.type.s=Object.prototype.toString,t.each=function(e,n){var i=t.type(e);if("object"==i)for(var o in e)n(e[o],o);else for(var a=0,r=e.length;r>a;a++)n(e[a],a)},t.indexOf=function(t,e){if(Array.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},t.map=function(e,n){var i=[];return t.each(e,function(t,e){i.push(n(t,e))}),i},t.reduce=function(t,e,n){var i=t.length;if(0==i)return n;for(var o=3==arguments.length?n:t[--i];i--;)o=e(o,t[i]);return o},t.merge=function(){for(var e={},n=0,i=arguments.length;i>n;n++){var o=arguments[n];if("object"==t.type(o))for(var a in o){var r=o[a],s=e[a];e[a]=s&&"object"==t.type(r)&&"object"==t.type(s)?t.merge(s,r):t.unlink(r)}}return e},t.unlink=function(e){var n;switch(t.type(e)){case"object":n={};for(var i in e)n[i]=t.unlink(e[i]);break;case"array":n=[];for(var o=0,a=e.length;a>o;o++)n[o]=t.unlink(e[o]);break;default:return e}return n},t.zip=function(){if(0===arguments.length)return[];for(var t=0,e=[],n=arguments.length,i=arguments[0].length;i>t;t++){for(var o=0,a=[];n>o;o++)a.push(arguments[o][t]);e.push(a)}return e},t.rgbToHex=function(t,e){if(t.length<3)return null;if(4==t.length&&0==t[3]&&!e)return"transparent";for(var n=[],i=0;3>i;i++){var o=(t[i]-0).toString(16);n.push(1==o.length?"0"+o:o)}return e?n:"#"+n.join("")},t.hexToRgb=function(t){if(7!=t.length){if(t=t.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/),t.shift(),3!=t.length)return null;for(var e=[],n=0;3>n;n++){var i=t[n];1==i.length&&(i+=i),e.push(parseInt(i,16))}return e}return t=parseInt(t.slice(1),16),[t>>16,t>>8&255,255&t]},t.destroy=function(e){t.clean(e),e.parentNode&&e.parentNode.removeChild(e),e.clearAttributes&&e.clearAttributes()},t.clean=function(e){for(var n=e.childNodes,i=0,o=n.length;o>i;i++)t.destroy(n[i])},t.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},t.addEvents=function(e,n){for(var i in n)t.addEvent(e,i,n[i])},t.hasClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},t.addClass=function(e,n){t.hasClass(e,n)||(e.className=e.className+" "+n)},t.removeClass=function(t,e){t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)"),"$1")},t.getPos=function(t){function e(t){for(var e={x:0,y:0};t&&!i(t);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e}function n(t){for(var e={x:0,y:0};t&&!i(t);)e.x+=t.scrollLeft,e.y+=t.scrollTop,t=t.parentNode;return e}function i(t){return/^(?:body|html)$/i.test(t.tagName)}var o=e(t),a=n(t);return{x:o.x-a.x,y:o.y-a.y}},t.event={get:function(t,e){return e=e||window,t||e.event},getWheel:function(t){return t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3},isRightClick:function(t){return 3==t.which||2==t.button},getPos:function(t,e){e=e||window,t=t||e.event;var n=e.document;n=n.documentElement||n.body,t.touches&&t.touches.length&&(t=t.touches[0]);var i={x:t.pageX||t.clientX+n.scrollLeft,y:t.pageY||t.clientY+n.scrollTop};return i},stop:function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1}},$jit.util=$jit.id=t;var e=function(n){n=n||{};var i=function(){for(var n in this)"function"!=typeof this[n]&&(this[n]=t.unlink(this[n]));if(this.constructor=i,e.prototyping)return this;var o=this.initialize?this.initialize.apply(this,arguments):this;return this.$$family="class",o};for(var o in e.Mutators)n[o]&&(n=e.Mutators[o](n,n[o]),delete n[o]);return t.extend(i,this),i.constructor=e,i.prototype=n,i};e.Mutators={Implements:function(n,i){return t.each(t.splat(i),function(t){e.prototyping=t;var i="function"==typeof t?new t:t;for(var o in i)o in n||(n[o]=i[o]);delete e.prototyping}),n}},t.extend(e,{inherit:function(n,i){for(var o in i){var a=i[o],r=n[o],s=t.type(a);r&&"function"==s?a!=r&&e.override(n,o,a):n[o]="object"==s?t.merge(r,a):a}return n},override:function(t,n,i){var o=e.prototyping;o&&t[n]!=o[n]&&(o=null);var a=function(){var e=this.parent;this.parent=o?o[n]:t[n];var a=i.apply(this,arguments);return this.parent=e,a};t[n]=a}}),e.prototype.implement=function(){var n=this.prototype;return t.each(Array.prototype.slice.call(arguments||[]),function(t){e.inherit(n,t)}),this},$jit.Class=e,$jit.json={prune:function(t,e){this.each(t,function(t,n){n==e&&t.children&&(delete t.children,t.children=[])})},getParent:function(t,e){if(t.id==e)return!1;var n=t.children;if(n&&n.length>0)for(var i=0;i<n.length;i++){if(n[i].id==e)return t;var o=this.getParent(n[i],e);if(o)return o}return!1},getSubtree:function(t,e){if(t.id==e)return t;for(var n=0,i=t.children;i&&n<i.length;n++){var o=this.getSubtree(i[n],e);if(null!=o)return o}return null},eachLevel:function(t,e,n,i){if(n>=e){if(i(t,e),!t.children)return;for(var o=0,a=t.children;o<a.length;o++)this.eachLevel(a[o],e+1,n,i)}},each:function(t,e){this.eachLevel(t,0,Number.MAX_VALUE,e)}},$jit.Trans={$extend:!0,linear:function(t){return t}};var n=$jit.Trans;!function(){var e=function(e,n){return n=t.splat(n),t.extend(e,{easeIn:function(t){return e(t,n)},easeOut:function(t){return 1-e(1-t,n)},easeInOut:function(t){return.5>=t?e(2*t,n)/2:(2-e(2*(1-t),n))/2}})},i={Pow:function(t,e){return Math.pow(t,e[0]||6)},Expo:function(t){return Math.pow(2,8*(t-1))},Circ:function(t){return 1-Math.sin(Math.acos(t))},Sine:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Back:function(t,e){return e=e[0]||1.618,Math.pow(t,2)*((e+1)*t-e)},Bounce:function(t){for(var e,n=0,i=1;1;n+=i,i/=2)if(t>=(7-4*n)/11){e=i*i-Math.pow((11-6*n-11*t)/4,2);break}return e},Elastic:function(t,e){return Math.pow(2,10*--t)*Math.cos(20*t*Math.PI*(e[0]||1)/3)}};t.each(i,function(t,i){n[i]=e(t)}),t.each(["Quad","Cubic","Quart","Quint"],function(t,i){n[t]=e(function(t){return Math.pow(t,[i+2])})})}();var i=new e({initialize:function(t){this.setOptions(t)},setOptions:function(e){var i={duration:2500,fps:40,transition:n.Quart.easeInOut,compute:t.empty,complete:t.empty,link:"ignore"};return this.opt=t.merge(i,e||{}),this},step:function(){var e=t.time(),n=this.opt;if(e<this.time+n.duration){var i=n.transition((e-this.time)/n.duration);n.compute(i)}else this.timer=clearInterval(this.timer),n.compute(1),n.complete()},start:function(){return this.check()?(this.time=0,this.startTimer(),this):this},startTimer:function(){var e=this,n=this.opt.fps;return this.timer?!1:(this.time=t.time()-this.time,this.timer=setInterval(function(){e.step()},Math.round(1e3/n)),!0)},pause:function(){return this.stopTimer(),this},resume:function(){return this.startTimer(),this},stopTimer:function(){return this.timer?(this.time=t.time()-this.time,this.timer=clearInterval(this.timer),!0):!1},check:function(){return this.timer?"cancel"==this.opt.link?(this.stopTimer(),!0):!1:!0}}),o=function(){for(var e=arguments,n=0,i=e.length,a={};i>n;n++){var r=o[e[n]];r.$extend?t.extend(a,r):a[e[n]]=r}return a};o.AreaChart={$extend:!0,animate:!0,labelOffset:3,type:"stacked",Tips:{enable:!1,onShow:t.empty,onHide:t.empty},Events:{enable:!1,onClick:t.empty},selectOnHover:!0,showAggregates:!0,showLabels:!0,filterOnClick:!1,restoreOnRightClick:!1},o.Margin={$extend:!1,top:0,left:0,right:0,bottom:0},o.Canvas={$extend:!0,injectInto:"id",type:"2D",width:!1,height:!1,useCanvas:!1,withLabels:!0,background:!1,Scene:{Lighting:{enable:!1,ambient:[1,1,1],directional:{direction:{x:-100,y:-100,z:-100},color:[.5,.3,.1]}}}},o.Tree={$extend:!0,orientation:"left",subtreeOffset:8,siblingOffset:5,indent:10,multitree:!1,align:"center"},o.Node={$extend:!1,overridable:!1,type:"circle",color:"#ccb",alpha:1,dim:3,height:20,width:90,autoHeight:!1,autoWidth:!1,lineWidth:1,transform:!0,align:"center",angularWidth:1,span:1,CanvasStyles:{}},o.Edge={$extend:!1,overridable:!1,type:"line",color:"#ccb",lineWidth:1,dim:15,alpha:1,epsilon:7,CanvasStyles:{}},o.Fx={$extend:!0,fps:40,duration:2500,transition:$jit.Trans.Quart.easeInOut,clearCanvas:!0},o.Label={$extend:!1,overridable:!1,type:"HTML",style:" ",size:10,family:"sans-serif",textAlign:"center",textBaseline:"alphabetic",color:"#fff"},o.Tips={$extend:!1,enable:!1,type:"auto",offsetX:20,offsetY:20,force:!1,onShow:t.empty,onHide:t.empty},o.NodeStyles={$extend:!1,enable:!1,type:"auto",stylesHover:!1,stylesClick:!1},o.Events={$extend:!1,enable:!1,enableForEdges:!1,type:"auto",onClick:t.empty,onRightClick:t.empty,onMouseMove:t.empty,onMouseEnter:t.empty,onMouseLeave:t.empty,onDragStart:t.empty,onDragMove:t.empty,onDragCancel:t.empty,onDragEnd:t.empty,onTouchStart:t.empty,onTouchMove:t.empty,onTouchEnd:t.empty,onMouseWheel:t.empty},o.Navigation={$extend:!1,enable:!1,type:"auto",panning:!1,zooming:!1},o.Controller={$extend:!0,onBeforeCompute:t.empty,onAfterCompute:t.empty,onCreateLabel:t.empty,onPlaceLabel:t.empty,onComplete:t.empty,onBeforePlotLine:t.empty,onAfterPlotLine:t.empty,onBeforePlotNode:t.empty,onAfterPlotNode:t.empty,request:!1};var a={initialize:function(t,e){this.viz=e,this.canvas=e.canvas,this.config=e.config[t],this.nodeTypes=e.fx.nodeTypes;var n=this.config.type;this.dom="auto"==n?"Native"!=e.config.Label.type:"Native"!=n,this.labelContainer=this.dom&&e.labels.getLabelContainer(),this.isEnabled()&&this.initializePost()},initializePost:t.empty,setAsProperty:t.lambda(!1),isEnabled:function(){return this.config.enable},isLabel:function(e,n,i){e=t.event.get(e,n);var o=this.labelContainer,a=e.target||e.srcElement,r=e.relatedTarget;return i?r&&r==this.viz.canvas.getCtx().canvas&&!!a&&this.isDescendantOf(a,o):this.isDescendantOf(a,o)},isDescendantOf:function(t,e){for(;t&&t.parentNode;){if(t.parentNode==e)return t;t=t.parentNode}return!1}},r={onMouseUp:t.empty,onMouseDown:t.empty,onMouseMove:t.empty,onMouseOver:t.empty,onMouseOut:t.empty,onMouseWheel:t.empty,onTouchStart:t.empty,onTouchMove:t.empty,onTouchEnd:t.empty,onTouchCancel:t.empty},s=new e({initialize:function(t){this.viz=t,this.canvas=t.canvas,this.node=!1,this.edge=!1,this.registeredObjects=[],this.attachEvents()},attachEvents:function(){var e=this.canvas.getElement(),n=this;e.oncontextmenu=t.lambda(!1),t.addEvents(e,{mouseup:function(e,i){var o=t.event.get(e,i);n.handleEvent("MouseUp",e,i,n.makeEventObject(e,i),t.event.isRightClick(o))},mousedown:function(e,i){var o=t.event.get(e,i);n.handleEvent("MouseDown",e,i,n.makeEventObject(e,i),t.event.isRightClick(o))},mousemove:function(t,e){n.handleEvent("MouseMove",t,e,n.makeEventObject(t,e))},mouseover:function(t,e){n.handleEvent("MouseOver",t,e,n.makeEventObject(t,e))},mouseout:function(t,e){n.handleEvent("MouseOut",t,e,n.makeEventObject(t,e))},touchstart:function(t,e){n.handleEvent("TouchStart",t,e,n.makeEventObject(t,e))},touchmove:function(t,e){n.handleEvent("TouchMove",t,e,n.makeEventObject(t,e))},touchend:function(t,e){n.handleEvent("TouchEnd",t,e,n.makeEventObject(t,e))}});var i=function(e,i){var o=t.event.get(e,i),a=t.event.getWheel(o);n.handleEvent("MouseWheel",e,i,a)};document.getBoxObjectFor||null!=window.mozInnerScreenX?e.addEventListener("DOMMouseScroll",i,!1):t.addEvent(e,"mousewheel",i)},register:function(t){this.registeredObjects.push(t)},handleEvent:function(){for(var t=Array.prototype.slice.call(arguments),e=t.shift(),n=0,i=this.registeredObjects,o=i.length;o>n;n++)i[n]["on"+e].apply(i[n],t)},makeEventObject:function(e,n){var i=this,o=this.viz.graph,a=this.viz.fx,r=a.nodeTypes,s=a.edgeTypes;return{pos:!1,node:!1,edge:!1,contains:!1,getNodeCalled:!1,getEdgeCalled:!1,getPos:function(){var o=i.viz.canvas,a=o.getSize(),r=o.getPos(),s=o.translateOffsetX,l=o.translateOffsetY,c=o.scaleOffsetX,u=o.scaleOffsetY,h=t.event.getPos(e,n);return this.pos={x:1*(h.x-r.x-a.width/2-s)/c,y:1*(h.y-r.y-a.height/2-l)/u},this.pos},getNode:function(){if(this.getNodeCalled)return this.node;this.getNodeCalled=!0;for(var t in o.nodes){var e=o.nodes[t],n=e&&r[e.getData("type")],s=n&&n.contains&&n.contains.call(a,e,this.getPos());if(s)return this.contains=s,i.node=this.node=e}return i.node=this.node=!1},getEdge:function(){if(this.getEdgeCalled)return this.edge;this.getEdgeCalled=!0;var t={};for(var e in o.edges){var n=o.edges[e];t[e]=!0;for(var r in n)if(!(r in t)){var l=n[r],c=l&&s[l.getData("type")],u=c&&c.contains&&c.contains.call(a,l,this.getPos());if(u)return this.contains=u,i.edge=this.edge=l}}return i.edge=this.edge=!1},getContains:function(){return this.getNodeCalled?this.contains:(this.getNode(),this.contains)}}}}),l={initializeExtras:function(){var e=new s(this),n=this;t.each(["NodeStyles","Tips","Navigation","Events"],function(t){var i=new l.Classes[t](t,n);i.isEnabled()&&e.register(i),i.setAsProperty()&&(n[t.toLowerCase()]=i)})}};l.Classes={},l.Classes.Events=new e({Implements:[a,r],initializePost:function(){this.fx=this.viz.fx,this.ntypes=this.viz.fx.nodeTypes,this.etypes=this.viz.fx.edgeTypes,this.hovered=!1,this.pressed=!1,this.touched=!1,this.touchMoved=!1,this.moved=!1},setAsProperty:t.lambda(!0),onMouseUp:function(e,n,i,o){var a=t.event.get(e,n);this.moved||(o?this.config.onRightClick(this.hovered,i,a):this.config.onClick(this.pressed,i,a)),this.pressed&&(this.moved?this.config.onDragEnd(this.pressed,i,a):this.config.onDragCancel(this.pressed,i,a),this.pressed=this.moved=!1)},onMouseOut:function(e,n,i){var o,a=t.event.get(e,n);if(this.dom&&(o=this.isLabel(e,n,!0)))return this.config.onMouseLeave(this.viz.graph.getNode(o.id),i,a),this.hovered=!1,void 0;for(var r=a.relatedTarget,s=this.canvas.getElement();r&&r.parentNode;){if(s==r.parentNode)return;r=r.parentNode}this.hovered&&(this.config.onMouseLeave(this.hovered,i,a),this.hovered=!1)},onMouseOver:function(e,n,i){var o,a=t.event.get(e,n);this.dom&&(o=this.isLabel(e,n,!0))&&(this.hovered=this.viz.graph.getNode(o.id),this.config.onMouseEnter(this.hovered,i,a))},onMouseMove:function(e,n,i){var o=t.event.get(e,n);if(this.pressed)return this.moved=!0,this.config.onDragMove(this.pressed,i,o),void 0;if(this.dom)this.config.onMouseMove(this.hovered,i,o);else{if(this.hovered){var a=this.hovered,r=a.nodeFrom?this.etypes[a.getData("type")]:this.ntypes[a.getData("type")],s=r&&r.contains&&r.contains.call(this.fx,a,i.getPos());if(s)return this.config.onMouseMove(a,i,o),void 0;this.config.onMouseLeave(a,i,o),this.hovered=!1}(this.hovered=i.getNode()||this.config.enableForEdges&&i.getEdge())?this.config.onMouseEnter(this.hovered,i,o):this.config.onMouseMove(!1,i,o)}},onMouseWheel:function(e,n,i){this.config.onMouseWheel(i,t.event.get(e,n))},onMouseDown:function(e,n,i){var o,a=t.event.get(e,n);this.dom?(o=this.isLabel(e,n))&&(this.pressed=this.viz.graph.getNode(o.id)):this.pressed=i.getNode()||this.config.enableForEdges&&i.getEdge(),this.pressed&&this.config.onDragStart(this.pressed,i,a)},onTouchStart:function(e,n,i){var o,a=t.event.get(e,n);this.touched=this.dom&&(o=this.isLabel(e,n))?this.viz.graph.getNode(o.id):i.getNode()||this.config.enableForEdges&&i.getEdge(),this.touched&&this.config.onTouchStart(this.touched,i,a)},onTouchMove:function(e,n,i){var o=t.event.get(e,n);this.touched&&(this.touchMoved=!0,this.config.onTouchMove(this.touched,i,o))},onTouchEnd:function(e,n,i){var o=t.event.get(e,n);this.touched&&(this.touchMoved?this.config.onTouchEnd(this.touched,i,o):this.config.onTouchCancel(this.touched,i,o),this.touched=this.touchMoved=!1)}}),l.Classes.Tips=new e({Implements:[a,r],initializePost:function(){if(document.body){var e=t("_tooltip")||document.createElement("div");e.id="_tooltip",e.className="tip",t.extend(e.style,{position:"absolute",display:"none",zIndex:13e3}),document.body.appendChild(e),this.tip=e,this.node=!1}},setAsProperty:t.lambda(!0),onMouseOut:function(e,n){t.event.get(e,n);if(this.dom&&this.isLabel(e,n,!0))return this.hide(!0),void 0;for(var i=e.relatedTarget,o=this.canvas.getElement();i&&i.parentNode;){if(o==i.parentNode)return;i=i.parentNode}this.hide(!1)},onMouseOver:function(t,e){var n;this.dom&&(n=this.isLabel(t,e,!1))&&(this.node=this.viz.graph.getNode(n.id),this.config.onShow(this.tip,this.node,n))},onMouseMove:function(e,n,i){if(this.dom&&this.isLabel(e,n)&&this.setTooltipPosition(t.event.getPos(e,n)),!this.dom){var o=i.getNode();if(!o)return this.hide(!0),void 0;(this.config.force||!this.node||this.node.id!=o.id)&&(this.node=o,this.config.onShow(this.tip,o,i.getContains())),this.setTooltipPosition(t.event.getPos(e,n))}},setTooltipPosition:function(t){var e=this.tip,n=e.style,i=this.config;n.display="";var o={height:document.body.clientHeight,width:document.body.clientWidth},a={width:e.offsetWidth,height:e.offsetHeight},r=i.offsetX,s=i.offsetY;n.top=(t.y+s+a.height>o.height?t.y-a.height-s:t.y+s)+"px",n.left=(t.x+a.width+r>o.width?t.x-a.width-r:t.x+r)+"px"},hide:function(t){this.tip.style.display="none",t&&this.config.onHide()}}),l.Classes.NodeStyles=new e({Implements:[a,r],initializePost:function(){this.fx=this.viz.fx,this.types=this.viz.fx.nodeTypes,this.nStyles=this.config,this.nodeStylesOnHover=this.nStyles.stylesHover,this.nodeStylesOnClick=this.nStyles.stylesClick,this.hoveredNode=!1,this.fx.nodeFxAnimation=new i,this.down=!1,this.move=!1},onMouseOut:function(t,e){if(this.down=this.move=!1,this.hoveredNode){this.dom&&this.isLabel(t,e,!0)&&this.toggleStylesOnHover(this.hoveredNode,!1);for(var n=t.relatedTarget,i=this.canvas.getElement();n&&n.parentNode;){if(i==n.parentNode)return;n=n.parentNode}this.toggleStylesOnHover(this.hoveredNode,!1),this.hoveredNode=!1}},onMouseOver:function(t,e){var n;if(this.dom&&(n=this.isLabel(t,e,!0))){var i=this.viz.graph.getNode(n.id);if(i.selected)return;this.hoveredNode=i,this.toggleStylesOnHover(this.hoveredNode,!0)}},onMouseDown:function(t,e,n,i){if(!i){var o;this.dom&&(o=this.isLabel(t,e))?this.down=this.viz.graph.getNode(o.id):this.dom||(this.down=n.getNode()),this.move=!1}},onMouseUp:function(t,e,n,i){i||(this.move||this.onClick(n.getNode()),this.down=this.move=!1)},getRestoredStyles:function(t,e){var n={},i=this["nodeStylesOn"+e];for(var o in i)n[o]=t.styles["$"+o];return n},toggleStylesOnHover:function(t,e){this.nodeStylesOnHover&&this.toggleStylesOn("Hover",t,e)},toggleStylesOnClick:function(t,e){this.nodeStylesOnClick&&this.toggleStylesOn("Click",t,e)},toggleStylesOn:function(e,i,o){{var a=this.viz;this.nStyles}if(o){var r=this;i.styles||(i.styles=t.merge(i.data,{}));for(var s in this["nodeStylesOn"+e]){var l="$"+s;l in i.styles||(i.styles[l]=i.getData(s))}a.fx.nodeFx(t.extend({elements:{id:i.id,properties:r["nodeStylesOn"+e]},transition:n.Quart.easeOut,duration:300,fps:40},this.config))}else{var c=this.getRestoredStyles(i,e);a.fx.nodeFx(t.extend({elements:{id:i.id,properties:c},transition:n.Quart.easeOut,duration:300,fps:40},this.config))}},onClick:function(t){if(t){var e=this.nodeStylesOnClick;e&&(t.selected?(this.toggleStylesOnClick(t,!1),delete t.selected):(this.viz.graph.eachNode(function(t){if(t.selected){for(var n in e)t.setData(n,t.styles["$"+n],"end");delete t.selected}}),this.toggleStylesOnClick(t,!0),t.selected=!0,delete t.hovered,this.hoveredNode=!1))}},onMouseMove:function(t,e,n){if(this.down&&(this.move=!0),!this.dom||!this.isLabel(t,e)){var i=this.nodeStylesOnHover;if(i&&!this.dom){if(this.hoveredNode){var o=this.types[this.hoveredNode.getData("type")],a=o&&o.contains&&o.contains.call(this.fx,this.hoveredNode,n.getPos());if(a)return}var r=n.getNode();if(!this.hoveredNode&&!r)return;if(r.hovered)return;r&&!r.selected?(this.fx.nodeFxAnimation.stopTimer(),this.viz.graph.eachNode(function(t){if(t.hovered&&!t.selected){for(var e in i)t.setData(e,t.styles["$"+e],"end");delete t.hovered}}),r.hovered=!0,this.hoveredNode=r,this.toggleStylesOnHover(r,!0)):this.hoveredNode&&!this.hoveredNode.selected&&(this.fx.nodeFxAnimation.stopTimer(),this.toggleStylesOnHover(this.hoveredNode,!1),delete this.hoveredNode.hovered,this.hoveredNode=!1)}}}}),l.Classes.Navigation=new e({Implements:[a,r],initializePost:function(){this.pos=!1,this.pressed=!1},onMouseWheel:function(e,n,i){if(this.config.zooming){t.event.stop(t.event.get(e,n));var o=this.config.zooming/1e3,a=1+i*o;this.canvas.scale(a,a)}},onMouseDown:function(t,e,n){if(this.config.panning&&("avoid nodes"!=this.config.panning||(this.dom?!this.isLabel(t,e):!n.getNode()))){this.pressed=!0,this.pos=n.getPos();var i=this.canvas,o=i.translateOffsetX,a=i.translateOffsetY,r=i.scaleOffsetX,s=i.scaleOffsetY;this.pos.x*=r,this.pos.x+=o,this.pos.y*=s,this.pos.y+=a}},onMouseMove:function(t,e,n){if(this.config.panning&&this.pressed&&("avoid nodes"!=this.config.panning||(this.dom?!this.isLabel(t,e):!n.getNode()))){var i=this.pos,o=n.getPos(),a=this.canvas,r=a.translateOffsetX,s=a.translateOffsetY,l=a.scaleOffsetX,c=a.scaleOffsetY;o.x*=l,o.y*=c,o.x+=r,o.y+=s;var u=o.x-i.x,h=o.y-i.y;this.pos=o,this.canvas.translate(1*u/l,1*h/c)}},onMouseUp:function(){this.config.panning&&(this.pressed=!1)}});var c;!function(){function n(e,n){var i=document.createElement(e);for(var a in n)"object"==typeof n[a]?t.extend(i[a],n[a]):i[a]=n[a];return"canvas"==e&&!o&&G_vmlCanvasManager&&(i=G_vmlCanvasManager.initElement(document.body.appendChild(i))),i}var i=typeof HTMLCanvasElement,o="object"==i||"function"==i;$jit.Canvas=c=new e({canvases:[],pos:!1,element:!1,labelContainer:!1,translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(e,i){this.viz=e,this.opt=this.config=i;var o="string"==t.type(i.injectInto)?i.injectInto:i.injectInto.id,a=i.type,r=o+"-label",s=t(o),l=i.width||s.offsetWidth,u=i.height||s.offsetHeight;this.id=o;var h={injectInto:o,width:l,height:u};this.element=n("div",{id:o+"-canvaswidget",style:{position:"relative",width:l+"px",height:u+"px"}}),this.labelContainer=this.createLabelContainer(i.Label.type,r,h),this.canvases.push(new c.Base[a]({config:t.extend({idSuffix:"-canvas"},h),plot:function(){e.fx.plot()},resize:function(){e.refresh()}}));var d=i.background;if(d){var p=new c.Background[d.type](e,t.extend(d,h));this.canvases.push(new c.Base[a](p))}for(var f=this.canvases.length;f--;)this.element.appendChild(this.canvases[f].canvas),f>0&&this.canvases[f].plot();this.element.appendChild(this.labelContainer),s.appendChild(this.element);var g=null,m=this;t.addEvent(window,"scroll",function(){clearTimeout(g),g=setTimeout(function(){m.getPos(!0)},500)})},getCtx:function(t){return this.canvases[t||0].getCtx()},getConfig:function(){return this.opt},getElement:function(){return this.element},getSize:function(t){return this.canvases[t||0].getSize()},resize:function(t,e){this.getPos(!0),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1;for(var n=0,i=this.canvases.length;i>n;n++)this.canvases[n].resize(t,e);var o=this.element.style;o.width=t+"px",o.height=e+"px",this.labelContainer&&(this.labelContainer.style.width=t+"px")},translate:function(t,e,n){this.translateOffsetX+=t*this.scaleOffsetX,this.translateOffsetY+=e*this.scaleOffsetY;for(var i=0,o=this.canvases.length;o>i;i++)this.canvases[i].translate(t,e,n)},scale:function(t,e){var n=this.scaleOffsetX*t,i=this.scaleOffsetY*e,o=this.translateOffsetX*(t-1)/n,a=this.translateOffsetY*(e-1)/i;this.scaleOffsetX=n,this.scaleOffsetY=i;for(var r=0,s=this.canvases.length;s>r;r++)this.canvases[r].scale(t,e,!0);this.translate(o,a,!1)},getPos:function(e){return e||!this.pos?this.pos=t.getPos(this.getElement()):this.pos},clear:function(t){this.canvases[t||0].clear()},path:function(t,e){var n=this.canvases[0].getCtx();n.beginPath(),e(n),n[t](),n.closePath()},createLabelContainer:function(t,e,i){var o="http://www.w3.org/2000/svg";if("HTML"==t||"Native"==t)return n("div",{id:e,style:{overflow:"visible",position:"absolute",top:0,left:0,width:i.width+"px",height:0}});if("SVG"==t){var a=document.createElementNS(o,"svg:svg");a.setAttribute("width",i.width),a.setAttribute("height",i.height);var r=a.style;r.position="absolute",r.left=r.top="0px";var s=document.createElementNS(o,"svg:g");return s.setAttribute("width",i.width),s.setAttribute("height",i.height),s.setAttribute("x",0),s.setAttribute("y",0),s.setAttribute("id",e),a.appendChild(s),a}}}),c.Base={},c.Base["2D"]=new e({translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(t){this.viz=t,this.opt=t.config,this.size=!1,this.createCanvas(),this.translateToCenter()},createCanvas:function(){var t=this.opt,e=t.width,i=t.height;this.canvas=n("canvas",{id:t.injectInto+t.idSuffix,width:e,height:i,style:{position:"absolute",top:0,left:0,width:e+"px",height:i+"px"}})},getCtx:function(){return this.ctx?this.ctx:this.ctx=this.canvas.getContext("2d")},getSize:function(){if(this.size)return this.size;var t=this.canvas;return this.size={width:t.width,height:t.height}},translateToCenter:function(t){var e=this.getSize(),n=t?e.width-t.width-2*this.translateOffsetX:e.width;height=t?e.height-t.height-2*this.translateOffsetY:e.height;var i=this.getCtx();t&&i.scale(1/this.scaleOffsetX,1/this.scaleOffsetY),i.translate(n/2,height/2)},resize:function(t,e){var n=this.getSize(),i=this.canvas,a=i.style;this.size=!1,i.width=t,i.height=e,a.width=t+"px",a.height=e+"px",o?this.translateToCenter():this.translateToCenter(n),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1,this.clear(),this.viz.resize(t,e,this)},translate:function(t,e,n){var i=this.scaleOffsetX,o=this.scaleOffsetY;this.translateOffsetX+=t*i,this.translateOffsetY+=e*o,this.getCtx().translate(t,e),!n&&this.plot()},scale:function(t,e,n){this.scaleOffsetX*=t,this.scaleOffsetY*=e,this.getCtx().scale(t,e),!n&&this.plot()},clear:function(){var t=this.getSize(),e=this.translateOffsetX,n=this.translateOffsetY,i=this.scaleOffsetX,o=this.scaleOffsetY;this.getCtx().clearRect(1*(-t.width/2-e)/i,1*(-t.height/2-n)/o,1*t.width/i,1*t.height/o)},plot:function(){this.clear(),this.viz.plot(this)}}),c.Background={},c.Background.Circles=new e({initialize:function(e,n){this.viz=e,this.config=t.merge({idSuffix:"-bkcanvas",levelDistance:100,numberOfCircles:6,CanvasStyles:{},offset:0},n)},resize:function(t,e,n){this.plot(n)},plot:function(t){var e=(t.canvas,t.getCtx()),n=this.config,i=n.CanvasStyles;for(var o in i)e[o]=i[o];for(var a=n.numberOfCircles,r=n.levelDistance,s=1;a>=s;s++)e.beginPath(),e.arc(0,0,r*s,0,2*Math.PI,!1),e.stroke(),e.closePath()}})}();var u=function(t,e){this.theta=t||0,this.rho=e||0};$jit.Polar=u,u.prototype={getc:function(t){return this.toComplex(t)},getp:function(){return this},set:function(t){t=t.getp(),this.theta=t.theta,this.rho=t.rho},setc:function(t,e){this.rho=Math.sqrt(t*t+e*e),this.theta=Math.atan2(e,t),this.theta<0&&(this.theta+=2*Math.PI)},setp:function(t,e){this.theta=t,this.rho=e},clone:function(){return new u(this.theta,this.rho)},toComplex:function(t){var e=Math.cos(this.theta)*this.rho,n=Math.sin(this.theta)*this.rho;return t?{x:e,y:n}:new d(e,n)},add:function(t){return new u(this.theta+t.theta,this.rho+t.rho)},scale:function(t){return new u(this.theta,this.rho*t)},equals:function(t){return this.theta==t.theta&&this.rho==t.rho},$add:function(t){return this.theta=this.theta+t.theta,this.rho+=t.rho,this},$madd:function(t){return this.theta=(this.theta+t.theta)%(2*Math.PI),this.rho+=t.rho,this},$scale:function(t){return this.rho*=t,this},isZero:function(){var t=1e-4,e=Math.abs;return e(this.theta)<t&&e(this.rho)<t},interpolate:function(t,e){var n,i=Math.PI,o=2*i,a=function(t){var e=0>t?t%o+o:t%o;return e},r=this.theta,s=t.theta,l=Math.abs(r-s);n=l==i?r>s?a(s+(r-o-s)*e):a(s-o+(r-s)*e):l>=i?r>s?a(s+(r-o-s)*e):a(s-o+(r-(s-o))*e):a(s+(r-s)*e);var c=(this.rho-t.rho)*e+t.rho;return{theta:n,rho:c}}};var h=function(t,e){return new u(t,e)};u.KER=h(0,0);var d=function(t,e){this.x=t||0,this.y=e||0};$jit.Complex=d,d.prototype={getc:function(){return this},getp:function(t){return this.toPolar(t)},set:function(t){t=t.getc(!0),this.x=t.x,this.y=t.y},setc:function(t,e){this.x=t,this.y=e},setp:function(t,e){this.x=Math.cos(t)*e,this.y=Math.sin(t)*e},clone:function(){return new d(this.x,this.y)},toPolar:function(t){var e=this.norm(),n=Math.atan2(this.y,this.x);return 0>n&&(n+=2*Math.PI),t?{theta:n,rho:e}:new u(n,e)},norm:function(){return Math.sqrt(this.squaredNorm())},squaredNorm:function(){return this.x*this.x+this.y*this.y},add:function(t){return new d(this.x+t.x,this.y+t.y)},prod:function(t){return new d(this.x*t.x-this.y*t.y,this.y*t.x+this.x*t.y)},conjugate:function(){return new d(this.x,-this.y)},scale:function(t){return new d(this.x*t,this.y*t)},equals:function(t){return this.x==t.x&&this.y==t.y},$add:function(t){return this.x+=t.x,this.y+=t.y,this},$prod:function(t){var e=this.x,n=this.y;return this.x=e*t.x-n*t.y,this.y=n*t.x+e*t.y,this},$conjugate:function(){return this.y=-this.y,this},$scale:function(t){return this.x*=t,this.y*=t,this},$div:function(t){var e=this.x,n=this.y,i=t.squaredNorm();return this.x=e*t.x+n*t.y,this.y=n*t.x-e*t.y,this.$scale(1/i)},isZero:function(){var t=1e-4,e=Math.abs;return e(this.x)<t&&e(this.y)<t}};var p=function(t,e){return new d(t,e)};d.KER=p(0,0),$jit.Graph=new e({initialize:function(e,n,i,o){var a={klass:d,Node:{}};this.Node=n,this.Edge=i,this.Label=o,this.opt=t.merge(a,e||{}),this.nodes={},this.edges={};var r=this;this.nodeList={};for(var s in f)r.nodeList[s]=function(t){return function(){var e=Array.prototype.slice.call(arguments);r.eachNode(function(n){n[t].apply(n,e)})}}(s)},getNode:function(t){return this.hasNode(t)?this.nodes[t]:!1},get:function(t){return this.getNode(t)},getByName:function(t){for(var e in this.nodes){var n=this.nodes[e];if(n.name==t)return n}return!1},getAdjacence:function(t,e){return t in this.edges?this.edges[t][e]:!1},addNode:function(e){if(!this.nodes[e.id]){var n=this.edges[e.id]={};this.nodes[e.id]=new g.Node(t.extend({id:e.id,name:e.name,data:t.merge(e.data||{},{}),adjacencies:n},this.opt.Node),this.opt.klass,this.Node,this.Edge,this.Label)}return this.nodes[e.id]},addAdjacence:function(t,e,n){if(this.hasNode(t.id)||this.addNode(t),this.hasNode(e.id)||this.addNode(e),t=this.nodes[t.id],e=this.nodes[e.id],!t.adjacentTo(e)){var i=this.edges[t.id]=this.edges[t.id]||{},o=this.edges[e.id]=this.edges[e.id]||{};return i[e.id]=o[t.id]=new g.Adjacence(t,e,n,this.Edge,this.Label),i[e.id]}return this.edges[t.id][e.id]},removeNode:function(t){if(this.hasNode(t)){delete this.nodes[t];var e=this.edges[t];for(var n in e)delete this.edges[n][t];delete this.edges[t]}},removeAdjacence:function(t,e){delete this.edges[t][e],delete this.edges[e][t]},hasNode:function(t){return t in this.nodes},empty:function(){this.nodes={},this.edges={}}});var f,g=$jit.Graph;!function(){var e=function(t,e,n,i,o){var a;n=n||"current",t="$"+(t?t+"-":""),"current"==n?a=this.data:"start"==n?a=this.startData:"end"==n&&(a=this.endData);var r=t+e;return i?a[r]:this.Config.overridable?r in a?a[r]:r in this.data?this.data[r]:o[e]||0:o[e]||0},n=function(t,e,n,i){i=i||"current",t="$"+(t?t+"-":"");var o;"current"==i?o=this.data:"start"==i?o=this.startData:"end"==i&&(o=this.endData),o[t+e]=n},i=function(e,n){e="$"+(e?e+"-":"");var i=this;t.each(n,function(t){var n=e+t;delete i.data[n],delete i.endData[n],delete i.startData[n]})};f={getData:function(t,n,i){return e.call(this,"",t,n,i,this.Config)},setData:function(t,e,i){n.call(this,"",t,e,i)},setDataset:function(e,n){e=t.splat(e);for(var i in n)for(var o=0,a=t.splat(n[i]),r=e.length;r>o;o++)this.setData(i,a[o],e[o])},removeData:function(){i.call(this,"",Array.prototype.slice.call(arguments))},getCanvasStyle:function(t,n,i){return e.call(this,"canvas",t,n,i,this.Config.CanvasStyles)},setCanvasStyle:function(t,e,i){n.call(this,"canvas",t,e,i)},setCanvasStyles:function(e,n){e=t.splat(e);for(var i in n)for(var o=0,a=t.splat(n[i]),r=e.length;r>o;o++)this.setCanvasStyle(i,a[o],e[o])},removeCanvasStyle:function(){i.call(this,"canvas",Array.prototype.slice.call(arguments))},getLabelData:function(t,n,i){return e.call(this,"label",t,n,i,this.Label)},setLabelData:function(t,e,i){n.call(this,"label",t,e,i)},setLabelDataset:function(e,n){e=t.splat(e);for(var i in n)for(var o=0,a=t.splat(n[i]),r=e.length;r>o;o++)this.setLabelData(i,a[o],e[o])},removeLabelData:function(){i.call(this,"label",Array.prototype.slice.call(arguments))}}}(),g.Node=new e({initialize:function(e,n,i,o,a){var r={id:"",name:"",data:{},startData:{},endData:{},adjacencies:{},selected:!1,drawn:!1,exist:!1,angleSpan:{begin:0,end:0},pos:new n,startPos:new n,endPos:new n};t.extend(this,t.extend(r,e)),this.Config=this.Node=i,this.Edge=o,this.Label=a},adjacentTo:function(t){return t.id in this.adjacencies},getAdjacency:function(t){return this.adjacencies[t]},getPos:function(t){return t=t||"current","current"==t?this.pos:"end"==t?this.endPos:"start"==t?this.startPos:void 0
},setPos:function(t,e){e=e||"current";var n;"current"==e?n=this.pos:"end"==e?n=this.endPos:"start"==e&&(n=this.startPos),n.set(t)}}),g.Node.implement(f),g.Adjacence=new e({initialize:function(t,e,n,i,o){this.nodeFrom=t,this.nodeTo=e,this.data=n||{},this.startData={},this.endData={},this.Config=this.Edge=i,this.Label=o}}),g.Adjacence.implement(f),g.Util={filter:function(e){if(!e||"string"!=t.type(e))return function(){return!0};var n=e.split(" ");return function(t){for(var e=0;e<n.length;e++)if(t[n[e]])return!1;return!0}},getNode:function(t,e){return t.nodes[e]},eachNode:function(t,e,n){var i=this.filter(n);for(var o in t.nodes)i(t.nodes[o])&&e(t.nodes[o])},each:function(t,e,n){this.eachNode(t,e,n)},eachAdjacency:function(t,e,n){var i=t.adjacencies,o=this.filter(n);for(var a in i){var r=i[a];if(o(r)){if(r.nodeFrom!=t){var s=r.nodeFrom;r.nodeFrom=r.nodeTo,r.nodeTo=s}e(r,a)}}},computeLevels:function(t,e,n,i){n=n||0;var o=this.filter(i);this.eachNode(t,function(t){t._flag=!1,t._depth=-1},i);var a=t.getNode(e);a._depth=n;for(var r=[a];0!=r.length;){var s=r.pop();s._flag=!0,this.eachAdjacency(s,function(t){var e=t.nodeTo;0==e._flag&&o(e)&&(e._depth<0&&(e._depth=s._depth+1+n),r.unshift(e))},i)}},eachBFS:function(t,e,n,i){var o=this.filter(i);this.clean(t);for(var a=[t.getNode(e)];0!=a.length;){var r=a.pop();r._flag=!0,n(r,r._depth),this.eachAdjacency(r,function(t){var e=t.nodeTo;0==e._flag&&o(e)&&(e._flag=!0,a.unshift(e))},i)}},eachLevel:function(t,e,n,i,o){var a=t._depth,r=this.filter(o),s=this;n=n===!1?Number.MAX_VALUE-a:n,function l(t,e,n){var o=t._depth;o>=e&&n>=o&&r(t)&&i(t,o),n>o&&s.eachAdjacency(t,function(t){var i=t.nodeTo;i._depth>o&&l(i,e,n)})}(t,e+a,n+a)},eachSubgraph:function(t,e,n){this.eachLevel(t,0,!1,e,n)},eachSubnode:function(t,e,n){this.eachLevel(t,1,1,e,n)},anySubnode:function(e,n,i){var o=!1;n=n||t.lambda(!0);var a="string"==t.type(n)?function(t){return t[n]}:n;return this.eachSubnode(e,function(t){a(t)&&(o=!0)},i),o},getSubnodes:function(e,n,i){var o=[];n=n||0;var a,r;return"array"==t.type(n)?(a=n[0],r=n[1]):(a=n,r=Number.MAX_VALUE-e._depth),this.eachLevel(e,a,r,function(t){o.push(t)},i),o},getParents:function(t){var e=[];return this.eachAdjacency(t,function(n){var i=n.nodeTo;i._depth<t._depth&&e.push(i)}),e},isDescendantOf:function(t,e){if(t.id==e)return!0;for(var n=this.getParents(t),i=!1,o=0;!i&&o<n.length;o++)i=i||this.isDescendantOf(n[o],e);return i},clean:function(t){this.eachNode(t,function(t){t._flag=!1})},getClosestNodeToOrigin:function(t,e,n){return this.getClosestNodeToPos(t,u.KER,e,n)},getClosestNodeToPos:function(t,e,n,i){var o=null;n=n||"current",e=e&&e.getc(!0)||d.KER;var a=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i};return this.eachNode(t,function(t){o=null==o||a(t.getPos(n).getc(!0),e)<a(o.getPos(n).getc(!0),e)?t:o},i),o}},t.each(["get","getNode","each","eachNode","computeLevels","eachBFS","clean","getClosestNodeToPos","getClosestNodeToOrigin"],function(t){g.prototype[t]=function(){return g.Util[t].apply(g.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),t.each(["eachAdjacency","eachLevel","eachSubgraph","eachSubnode","anySubnode","getSubnodes","getParents","isDescendantOf"],function(t){g.Node.prototype[t]=function(){return g.Util[t].apply(g.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),g.Op={options:{type:"nothing",duration:2e3,hideLabels:!0,fps:30},initialize:function(t){this.viz=t},removeNode:function(e,n){var i,o,a,r=this.viz,s=t.merge(this.options,r.controller,n),l=t.splat(e);switch(s.type){case"nothing":for(i=0;i<l.length;i++)r.graph.removeNode(l[i]);break;case"replot":this.removeNode(l,{type:"nothing"}),r.labels.clearLabels(),r.refresh(!0);break;case"fade:seq":case"fade":for(o=this,i=0;i<l.length;i++)a=r.graph.getNode(l[i]),a.setData("alpha",0,"end");r.fx.animate(t.merge(s,{modes:["node-property:alpha"],onComplete:function(){o.removeNode(l,{type:"nothing"}),r.labels.clearLabels(),r.reposition(),r.fx.animate(t.merge(s,{modes:["linear"]}))}}));break;case"fade:con":for(o=this,i=0;i<l.length;i++)a=r.graph.getNode(l[i]),a.setData("alpha",0,"end"),a.ignore=!0;r.reposition(),r.fx.animate(t.merge(s,{modes:["node-property:alpha","linear"],onComplete:function(){o.removeNode(l,{type:"nothing"}),s.onComplete&&s.onComplete()}}));break;case"iter":o=this,r.fx.sequence({condition:function(){return 0!=l.length},step:function(){o.removeNode(l.shift(),{type:"nothing"}),r.labels.clearLabels()},onComplete:function(){s.onComplete&&s.onComplete()},duration:Math.ceil(s.duration/l.length)});break;default:this.doError()}},removeEdge:function(e,n){var i,o,a,r=this.viz,s=t.merge(this.options,r.controller,n),l="string"==t.type(e[0])?[e]:e;switch(s.type){case"nothing":for(i=0;i<l.length;i++)r.graph.removeAdjacence(l[i][0],l[i][1]);break;case"replot":this.removeEdge(l,{type:"nothing"}),r.refresh(!0);break;case"fade:seq":case"fade":for(o=this,i=0;i<l.length;i++)a=r.graph.getAdjacence(l[i][0],l[i][1]),a&&a.setData("alpha",0,"end");r.fx.animate(t.merge(s,{modes:["edge-property:alpha"],onComplete:function(){o.removeEdge(l,{type:"nothing"}),r.reposition(),r.fx.animate(t.merge(s,{modes:["linear"]}))}}));break;case"fade:con":for(o=this,i=0;i<l.length;i++)a=r.graph.getAdjacence(l[i][0],l[i][1]),a&&(a.setData("alpha",0,"end"),a.ignore=!0);r.reposition(),r.fx.animate(t.merge(s,{modes:["edge-property:alpha","linear"],onComplete:function(){o.removeEdge(l,{type:"nothing"}),s.onComplete&&s.onComplete()}}));break;case"iter":o=this,r.fx.sequence({condition:function(){return 0!=l.length},step:function(){o.removeEdge(l.shift(),{type:"nothing"}),r.labels.clearLabels()},onComplete:function(){s.onComplete()},duration:Math.ceil(s.duration/l.length)});break;default:this.doError()}},sum:function(e,n){var i,o=this.viz,a=t.merge(this.options,o.controller,n),r=o.root;switch(o.root=n.id||o.root,a.type){case"nothing":i=o.construct(e),i.eachNode(function(t){t.eachAdjacency(function(t){o.graph.addAdjacence(t.nodeFrom,t.nodeTo,t.data)})});break;case"replot":o.refresh(!0),this.sum(e,{type:"nothing"}),o.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,i=o.construct(e);var s=this.preprocessSum(i),l=s?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];o.reposition(),"fade:con"!=a.type?o.fx.animate(t.merge(a,{modes:["linear"],onComplete:function(){o.fx.animate(t.merge(a,{modes:l,onComplete:function(){a.onComplete()}}))}})):(o.graph.eachNode(function(t){t.id!=r&&t.pos.isZero()&&(t.pos.set(t.endPos),t.startPos.set(t.endPos))}),o.fx.animate(t.merge(a,{modes:["linear"].concat(l)})));break;default:this.doError()}},morph:function(e,n,i){i=i||{};var o,a=this.viz,r=t.merge(this.options,a.controller,n),s=a.root;switch(a.root=n.id||a.root,r.type){case"nothing":o=a.construct(e),o.eachNode(function(t){var e=a.graph.hasNode(t.id);if(t.eachAdjacency(function(t){var e=!!a.graph.getAdjacence(t.nodeFrom.id,t.nodeTo.id);if(a.graph.addAdjacence(t.nodeFrom,t.nodeTo,t.data),e){var n=a.graph.getAdjacence(t.nodeFrom.id,t.nodeTo.id);for(var i in t.data||{})n.data[i]=t.data[i]}}),e){var n=a.graph.getNode(t.id);for(var i in t.data||{})n.data[i]=t.data[i]}}),a.graph.eachNode(function(t){t.eachAdjacency(function(t){o.getAdjacence(t.nodeFrom.id,t.nodeTo.id)||a.graph.removeAdjacence(t.nodeFrom.id,t.nodeTo.id)}),o.hasNode(t.id)||a.graph.removeNode(t.id)});break;case"replot":a.labels.clearLabels(!0),this.morph(e,{type:"nothing"}),a.refresh(!0),a.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,o=a.construct(e);var l="node-property"in i&&t.map(t.splat(i["node-property"]),function(t){return"$"+t});a.graph.eachNode(function(e){var n=o.getNode(e.id);if(n){var i=n.data;for(var a in i)l&&t.indexOf(l,a)>-1?e.endData[a]=i[a]:e.data[a]=i[a]}else e.setData("alpha",1),e.setData("alpha",1,"start"),e.setData("alpha",0,"end"),e.ignore=!0}),a.graph.eachNode(function(t){t.ignore||t.eachAdjacency(function(t){if(!t.nodeFrom.ignore&&!t.nodeTo.ignore){var e=o.getNode(t.nodeFrom.id),n=o.getNode(t.nodeTo.id);if(!e.adjacentTo(n)){var t=a.graph.getAdjacence(e.id,n.id);c=!0,t.setData("alpha",1),t.setData("alpha",1,"start"),t.setData("alpha",0,"end")}}})});var c=this.preprocessSum(o),h=c?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];h[0]=h[0]+("node-property"in i?":"+t.splat(i["node-property"]).join(":"):""),h[1]=(h[1]||"edge-property:alpha")+("edge-property"in i?":"+t.splat(i["edge-property"]).join(":"):""),"label-property"in i&&h.push("label-property:"+t.splat(i["label-property"]).join(":")),a.reposition?a.reposition():a.compute("end"),a.graph.eachNode(function(t){t.id!=s&&t.pos.getp().equals(u.KER)&&(t.pos.set(t.endPos),t.startPos.set(t.endPos))}),a.fx.animate(t.merge(r,{modes:[i.position||"polar"].concat(h),onComplete:function(){a.graph.eachNode(function(t){t.ignore&&a.graph.removeNode(t.id)}),a.graph.eachNode(function(t){t.eachAdjacency(function(t){t.ignore&&a.graph.removeAdjacence(t.nodeFrom.id,t.nodeTo.id)})}),r.onComplete()}}))}},contract:function(e,n){var i=this.viz;!e.collapsed&&e.anySubnode(t.lambda(!0))&&(n=t.merge(this.options,i.config,n||{},{modes:["node-property:alpha:span","linear"]}),e.collapsed=!0,function o(t){t.eachSubnode(function(t){t.ignore=!0,t.setData("alpha",0,"animate"==n.type?"end":"current"),o(t)})}(e),"animate"==n.type?(i.compute("end"),i.rotated&&i.rotate(i.rotated,"none",{property:"end"}),function a(t){t.eachSubnode(function(t){t.setPos(e.getPos("end"),"end"),a(t)})}(e),i.fx.animate(n)):"replot"==n.type&&i.refresh())},expand:function(e,n){if("collapsed"in e){var i=this.viz;n=t.merge(this.options,i.config,n||{},{modes:["node-property:alpha:span","linear"]}),delete e.collapsed,function o(t){t.eachSubnode(function(t){delete t.ignore,t.setData("alpha",1,"animate"==n.type?"end":"current"),o(t)})}(e),"animate"==n.type?(i.compute("end"),i.rotated&&i.rotate(i.rotated,"none",{property:"end"}),i.fx.animate(n)):"replot"==n.type&&i.refresh()}},preprocessSum:function(t){var e=this.viz;t.eachNode(function(t){if(!e.graph.hasNode(t.id)){e.graph.addNode(t);var n=e.graph.getNode(t.id);n.setData("alpha",0),n.setData("alpha",0,"start"),n.setData("alpha",1,"end")}});var n=!1;return t.eachNode(function(t){t.eachAdjacency(function(t){var i=e.graph.getNode(t.nodeFrom.id),o=e.graph.getNode(t.nodeTo.id);if(!i.adjacentTo(o)){var t=e.graph.addAdjacence(i,o,t.data);i.startAlpha==i.endAlpha&&o.startAlpha==o.endAlpha&&(n=!0,t.setData("alpha",0),t.setData("alpha",0,"start"),t.setData("alpha",1,"end"))}})}),n}};var m={none:{render:t.empty,contains:t.lambda(!1)},circle:{render:function(t,e,n,i){var o=i.getCtx();o.beginPath(),o.arc(e.x,e.y,n,0,2*Math.PI,!0),o.closePath(),o[t]()},contains:function(t,e,n){var i=t.x-e.x,o=t.y-e.y,a=i*i+o*o;return n*n>=a}},ellipse:{render:function(t,e,n,i,o){var a=o.getCtx(),r=1,s=1,l=1,c=1,u=0;n>i?(u=n/2,s=i/n,c=n/i):(u=i/2,r=n/i,l=i/n),a.save(),a.scale(r,s),a.beginPath(),a.arc(e.x*l,e.y*c,u,0,2*Math.PI,!0),a.closePath(),a[t](),a.restore()},contains:function(t,e,n,i){var o=0,a=1,r=1,s=0,l=0,c=0;return n>i?(o=n/2,r=i/n):(o=i/2,a=n/i),s=(t.x-e.x)*(1/a),l=(t.y-e.y)*(1/r),c=s*s+l*l,o*o>=c}},square:{render:function(t,e,n,i){i.getCtx()[t+"Rect"](e.x-n,e.y-n,2*n,2*n)},contains:function(t,e,n){return Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n}},rectangle:{render:function(t,e,n,i,o){o.getCtx()[t+"Rect"](e.x-n/2,e.y-i/2,n,i)},contains:function(t,e,n,i){return Math.abs(e.x-t.x)<=n/2&&Math.abs(e.y-t.y)<=i/2}},triangle:{render:function(t,e,n,i){var o=i.getCtx(),a=e.x,r=e.y-n,s=a-n,l=e.y+n,c=a+n,u=l;o.beginPath(),o.moveTo(a,r),o.lineTo(s,l),o.lineTo(c,u),o.closePath(),o[t]()},contains:function(t,e,n){return m.circle.contains(t,e,n)}},star:{render:function(t,e,n,i){var o=i.getCtx(),a=Math.PI/5;o.save(),o.translate(e.x,e.y),o.beginPath(),o.moveTo(n,0);for(var r=0;9>r;r++)o.rotate(a),r%2==0?o.lineTo(n/.525731*.200811,0):o.lineTo(n,0);o.closePath(),o[t](),o.restore()},contains:function(t,e,n){return m.circle.contains(t,e,n)}}},v={line:{render:function(t,e,n){var i=n.getCtx();i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke()},contains:function(t,e,n,i){var o=Math.min,a=Math.max,r=o(t.x,e.x),s=a(t.x,e.x),l=o(t.y,e.y),c=a(t.y,e.y);if(n.x>=r&&n.x<=s&&n.y>=l&&n.y<=c){if(Math.abs(e.x-t.x)<=i)return!0;var u=(e.y-t.y)/(e.x-t.x)*(n.x-t.x)+t.y;return Math.abs(u-n.y)<=i}return!1}},arrow:{render:function(t,e,n,i,o){var a=o.getCtx();if(i){var r=t;t=e,e=r}var s=new d(e.x-t.x,e.y-t.y);s.$scale(n/s.norm());var l=new d(e.x-s.x,e.y-s.y),c=new d(-s.y/2,s.x/2),u=l.add(c),h=l.$add(c.$scale(-1));a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(e.x,e.y),a.stroke(),a.beginPath(),a.moveTo(u.x,u.y),a.lineTo(h.x,h.y),a.lineTo(e.x,e.y),a.closePath(),a.fill()},contains:function(t,e,n,i){return v.line.contains(t,e,n,i)}},hyperline:{render:function(t,e,n,i){function o(t,e){var n=t.x*e.y-t.y*e.x,i=n,o=t.squaredNorm(),a=e.squaredNorm();if(0==n)return{x:0,y:0,ratio:-1};var r=(t.y*a-e.y*o+t.y-e.y)/n,s=(e.x*o-t.x*a+e.x-t.x)/i,l=-r/2,c=-s/2,u=(r*r+s*s)/4-1;if(0>u)return{x:0,y:0,ratio:-1};var h=Math.sqrt(u),d={x:l,y:c,ratio:h>1e3?-1:h,a:r,b:s};return d}function a(t,e){return e>t?t+Math.PI>e?!1:!0:e+Math.PI>t?!0:!1}var r=i.getCtx(),s=o(t,e);if(s.a>1e3||s.b>1e3||s.ratio<0)r.beginPath(),r.moveTo(t.x*n,t.y*n),r.lineTo(e.x*n,e.y*n),r.stroke();else{var l=Math.atan2(e.y-s.y,e.x-s.x),c=Math.atan2(t.y-s.y,t.x-s.x),a=a(l,c);r.beginPath(),r.arc(s.x*n,s.y*n,s.ratio*n,l,c,a),r.stroke()}},contains:t.lambda(!1)}};g.Plot={initialize:function(t,e){this.viz=t,this.config=t.config,this.node=t.config.Node,this.edge=t.config.Edge,this.animation=new i,this.nodeTypes=new e.Plot.NodeTypes,this.edgeTypes=new e.Plot.EdgeTypes,this.labels=t.labels},nodeHelper:m,edgeHelper:v,Interpolator:{map:{border:"color",color:"color",width:"number",height:"number",dim:"number",alpha:"number",lineWidth:"number",angularWidth:"number",span:"number",valueArray:"array-number",dimArray:"array-number"},canvas:{globalAlpha:"number",fillStyle:"color",strokeStyle:"color",lineWidth:"number",shadowBlur:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",miterLimit:"number"},label:{size:"number",color:"color"},compute:function(t,e,n){return t+(e-t)*n},moebius:function(t,e,n,i){var o=i.scale(-n);if(o.norm()<1){var a=o.x,r=o.y,s=t.startPos.getc().moebiusTransformation(o);t.pos.setc(s.x,s.y),o.x=a,o.y=r}},linear:function(t,e,n){var i=t.startPos.getc(!0),o=t.endPos.getc(!0);t.pos.setc(this.compute(i.x,o.x,n),this.compute(i.y,o.y,n))},polar:function(t,e,n){var i=t.startPos.getp(!0),o=t.endPos.getp(),a=o.interpolate(i,n);t.pos.setp(a.theta,a.rho)},number:function(t,e,n,i,o){var a=t[i](e,"start"),r=t[i](e,"end");t[o](e,this.compute(a,r,n))},color:function(e,n,i,o,a){var r=t.hexToRgb(e[o](n,"start")),s=t.hexToRgb(e[o](n,"end")),l=this.compute,c=t.rgbToHex([parseInt(l(r[0],s[0],i)),parseInt(l(r[1],s[1],i)),parseInt(l(r[2],s[2],i))]);e[a](n,c)},"array-number":function(t,e,n,i,o){for(var a=t[i](e,"start"),r=t[i](e,"end"),s=[],l=0,c=a.length;c>l;l++){var u=a[l],h=r[l];if(u.length){for(var d=0,p=u.length,f=[];p>d;d++)f.push(this.compute(u[d],h[d],n));s.push(f)}else s.push(this.compute(u,h,n))}t[o](e,s)},node:function(t,e,n,i,o,a){if(i=this[i],e)for(var r=e.length,s=0;r>s;s++){var l=e[s];this[i[l]](t,l,n,o,a)}else for(var l in i)this[i[l]](t,l,n,o,a)},edge:function(t,e,n,i,o,a){var r=t.adjacencies;for(var s in r)this.node(r[s],e,n,i,o,a)},"node-property":function(t,e,n){this.node(t,e,n,"map","getData","setData")},"edge-property":function(t,e,n){this.edge(t,e,n,"map","getData","setData")},"label-property":function(t,e,n){this.node(t,e,n,"label","getLabelData","setLabelData")},"node-style":function(t,e,n){this.node(t,e,n,"canvas","getCanvasStyle","setCanvasStyle")},"edge-style":function(t,e,n){this.edge(t,e,n,"canvas","getCanvasStyle","setCanvasStyle")}},sequence:function(e){var n=this;e=t.merge({condition:t.lambda(!1),step:t.empty,onComplete:t.empty,duration:200},e||{});var i=setInterval(function(){e.condition()?e.step():(clearInterval(i),e.onComplete()),n.viz.refresh(!0)},e.duration)},prepare:function(e){var n=this.viz.graph,i={"node-property":{getter:"getData",setter:"setData"},"edge-property":{getter:"getData",setter:"setData"},"node-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"},"edge-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"}},o={};if("array"==t.type(e))for(var a=0,r=e.length;r>a;a++){var s=e[a].split(":");o[s.shift()]=s}else for(var l in e)"position"==l?o[e.position]=[]:o[l]=t.splat(e[l]);return n.eachNode(function(e){e.startPos.set(e.pos),t.each(["node-property","node-style"],function(t){if(t in o)for(var n=o[t],a=0,r=n.length;r>a;a++)e[i[t].setter](n[a],e[i[t].getter](n[a]),"start")}),t.each(["edge-property","edge-style"],function(t){if(t in o){var n=o[t];e.eachAdjacency(function(e){for(var o=0,a=n.length;a>o;o++)e[i[t].setter](n[o],e[i[t].getter](n[o]),"start")})}})}),o},animate:function(e,n){e=t.merge(this.viz.config,e||{});var i=this,o=this.viz,a=o.graph,r=this.Interpolator,s="nodefx"===e.type?this.nodeFxAnimation:this.animation,l=this.prepare(e.modes);e.hideLabels&&this.labels.hideLabels(!0),s.setOptions(t.extend(e,{$animating:!1,compute:function(t){a.eachNode(function(e){for(var i in l)r[i](e,l[i],t,n)}),i.plot(e,this.$animating,t),this.$animating=!0},complete:function(){e.hideLabels&&i.labels.hideLabels(!1),i.plot(e),e.onComplete()}})).start()},nodeFx:function(e){var n=this.viz,i=n.graph,o=this.nodeFxAnimation,a=t.merge(this.viz.config,{elements:{id:!1,properties:{}},reposition:!1});e=t.merge(a,e||{},{onBeforeCompute:t.empty,onAfterCompute:t.empty}),o.stopTimer();var r=e.elements.properties;if(e.elements.id){var s=t.splat(e.elements.id);t.each(s,function(t){var e=i.getNode(t);if(e)for(var n in r)e.setData(n,r[n],"end")})}else i.eachNode(function(t){for(var e in r)t.setData(e,r[e],"end")});var l=[];for(var c in r)l.push(c);var u=["node-property:"+l.join(":")];e.reposition&&(u.push("linear"),n.compute("end")),this.animate(t.merge(e,{modes:u,type:"nodefx"}))},plot:function(t,e){var n=this.viz,i=n.graph,o=n.canvas,a=n.root,r=this,t=(o.getCtx(),Math.min,t||this.viz.controller);t.clearCanvas&&o.clear();var s=i.getNode(a);if(s){var l=!!s.visited;i.eachNode(function(n){var i=n.getData("alpha");n.eachAdjacency(function(i){var a=i.nodeTo;!!a.visited===l&&n.drawn&&a.drawn&&(!e&&t.onBeforePlotLine(i),r.plotLine(i,o,e),!e&&t.onAfterPlotLine(i))}),n.drawn&&(!e&&t.onBeforePlotNode(n),r.plotNode(n,o,e),!e&&t.onAfterPlotNode(n)),!r.labelsHidden&&t.withLabels&&(n.drawn&&i>=.95?r.labels.plotLabel(o,n,t):r.labels.hideLabel(n,!1)),n.visited=!l})}},plotTree:function(t,e,n){var i=this,o=this.viz,a=o.canvas,r=(this.config,a.getCtx(),t.getData("alpha"));t.eachSubnode(function(o){if(e.plotSubtree(t,o)&&o.exist&&o.drawn){var r=t.getAdjacency(o.id);!n&&e.onBeforePlotLine(r),i.plotLine(r,a,n),!n&&e.onAfterPlotLine(r),i.plotTree(o,e,n)}}),t.drawn?(!n&&e.onBeforePlotNode(t),this.plotNode(t,a,n),!n&&e.onAfterPlotNode(t),!e.hideLabels&&e.withLabels&&r>=.95?this.labels.plotLabel(a,t,e):this.labels.hideLabel(t,!1)):this.labels.hideLabel(t,!0)},plotNode:function(t,e,n){var i=t.getData("type"),o=this.node.CanvasStyles;if("none"!=i){var a=t.getData("lineWidth"),r=t.getData("color"),s=t.getData("alpha"),l=e.getCtx();l.save(),l.lineWidth=a,l.fillStyle=l.strokeStyle=r,l.globalAlpha=s;for(var c in o)l[c]=t.getCanvasStyle(c);this.nodeTypes[i].render.call(this,t,e,n),l.restore()}},plotLine:function(t,e,n){var i=t.getData("type"),o=this.edge.CanvasStyles;if("none"!=i){var a=t.getData("lineWidth"),r=t.getData("color"),s=e.getCtx(),l=t.nodeFrom,c=t.nodeTo;s.save(),s.lineWidth=a,s.fillStyle=s.strokeStyle=r,s.globalAlpha=Math.min(l.getData("alpha"),c.getData("alpha"),t.getData("alpha"));for(var u in o)s[u]=t.getCanvasStyle(u);this.edgeTypes[i].render.call(this,t,e,n),s.restore()}}},g.Plot3D=t.merge(g.Plot,{Interpolator:{linear:function(t,e,n){var i=t.startPos.getc(!0),o=t.endPos.getc(!0);t.pos.setc(this.compute(i.x,o.x,n),this.compute(i.y,o.y,n),this.compute(i.z,o.z,n))}},plotNode:function(t,e){"none"!=t.getData("type")&&this.plotElement(t,e,{getAlpha:function(){return t.getData("alpha")}})},plotLine:function(t,e){"none"!=t.getData("type")&&this.plotElement(t,e,{getAlpha:function(){return Math.min(t.nodeFrom.getData("alpha"),t.nodeTo.getData("alpha"),t.getData("alpha"))}})},plotElement:function(e,n,i){var o=n.getCtx(),a=new Matrix4,r=n.config.Scene.Lighting,s=n.canvases[0],l=s.program,c=s.camera;if(e.geometry||(e.geometry=new(O3D[e.getData("type")])),e.geometry.update(e),!e.webGLVertexBuffer){for(var u=[],h=[],d=[],p=0,f=e.geometry,g=0,m=f.vertices,v=f.faces,y=v.length;y>g;g++){var b=v[g],w=m[b.a],x=m[b.b],C=m[b.c],T=b.d?m[b.d]:!1,S=b.normal;u.push(w.x,w.y,w.z),u.push(x.x,x.y,x.z),u.push(C.x,C.y,C.z),T&&u.push(T.x,T.y,T.z),d.push(S.x,S.y,S.z),d.push(S.x,S.y,S.z),d.push(S.x,S.y,S.z),T&&d.push(S.x,S.y,S.z),h.push(p,p+1,p+2),T?(h.push(p,p+2,p+3),p+=4):p+=3}e.webGLVertexBuffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,e.webGLVertexBuffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(u),o.STATIC_DRAW),e.webGLFaceBuffer=o.createBuffer(),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.webGLFaceBuffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,new Uint16Array(h),o.STATIC_DRAW),e.webGLFaceCount=h.length,e.webGLNormalBuffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,e.webGLNormalBuffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(d),o.STATIC_DRAW)}a.multiply(c.matrix,e.geometry.matrix),o.uniformMatrix4fv(l.viewMatrix,!1,a.flatten()),o.uniformMatrix4fv(l.projectionMatrix,!1,c.projectionMatrix.flatten());var D=Matrix4.makeInvert(a);D.$transpose(),o.uniformMatrix4fv(l.normalMatrix,!1,D.flatten());var N=t.hexToRgb(e.getData("color"));if(N.push(i.getAlpha()),o.uniform4f(l.color,N[0]/255,N[1]/255,N[2]/255,N[3]),o.uniform1i(l.enableLighting,r.enable),r.enable){if(r.ambient){var k=r.ambient;o.uniform3f(l.ambientColor,k[0],k[1],k[2])}if(r.directional){var L=r.directional,N=L.color,j=L.direction,_=new Vector3(j.x,j.y,j.z).normalize().$scale(-1);o.uniform3f(l.lightingDirection,_.x,_.y,_.z),o.uniform3f(l.directionalColor,N[0],N[1],N[2])}}o.bindBuffer(o.ARRAY_BUFFER,e.webGLVertexBuffer),o.vertexAttribPointer(l.position,3,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,e.webGLNormalBuffer),o.vertexAttribPointer(l.normal,3,o.FLOAT,!1,0,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.webGLFaceBuffer),o.drawElements(o.TRIANGLES,e.webGLFaceCount,o.UNSIGNED_SHORT,0)}}),g.Label={},g.Label.Native=new e({initialize:function(t){this.viz=t},plotLabel:function(t,e,n){{var i=t.getCtx();e.pos.getc(!0)}i.font=e.getLabelData("style")+" "+e.getLabelData("size")+"px "+e.getLabelData("family"),i.textAlign=e.getLabelData("textAlign"),i.fillStyle=i.strokeStyle=e.getLabelData("color"),i.textBaseline=e.getLabelData("textBaseline"),this.renderLabel(t,e,n)},renderLabel:function(t,e){var n=t.getCtx(),i=e.pos.getc(!0);n.fillText(e.name,i.x,i.y+e.getData("height")/2)},hideLabel:t.empty,hideLabels:t.empty}),g.Label.DOM=new e({labelsHidden:!1,labelContainer:!1,labels:{},getLabelContainer:function(){return this.labelContainer?this.labelContainer:this.labelContainer=document.getElementById(this.viz.config.labelContainer)},getLabel:function(t){return t in this.labels&&null!=this.labels[t]?this.labels[t]:this.labels[t]=document.getElementById(t)},hideLabels:function(t){var e=this.getLabelContainer();e.style.display=t?"none":"",this.labelsHidden=t},clearLabels:function(t){for(var e in this.labels)(t||!this.viz.graph.hasNode(e))&&(this.disposeLabel(e),delete this.labels[e])},disposeLabel:function(t){var e=this.getLabel(t);e&&e.parentNode&&e.parentNode.removeChild(e)},hideLabel:function(e,n){e=t.splat(e);var i=n?"":"none",o=this;t.each(e,function(t){var e=o.getLabel(t.id);e&&(e.style.display=i)})},fitsInCanvas:function(t,e){var n=e.getSize();return t.x>=n.width||t.x<0||t.y>=n.height||t.y<0?!1:!0}}),g.Label.HTML=new e({Implements:g.Label.DOM,plotLabel:function(t,e,n){var i=e.id,o=this.getLabel(i);if(!o&&!(o=document.getElementById(i))){o=document.createElement("div");var a=this.getLabelContainer();o.id=i,o.className="node",o.style.position="absolute",n.onCreateLabel(o,e),a.appendChild(o),this.labels[e.id]=o}this.placeLabel(o,e,n)}}),g.Label.SVG=new e({Implements:g.Label.DOM,plotLabel:function(t,e,n){var i=e.id,o=this.getLabel(i);if(!o&&!(o=document.getElementById(i))){var a="http://www.w3.org/2000/svg";o=document.createElementNS(a,"svg:text");var r=document.createElementNS(a,"svg:tspan");o.appendChild(r);var s=this.getLabelContainer();o.setAttribute("id",i),o.setAttribute("class","node"),s.appendChild(o),n.onCreateLabel(o,e),this.labels[e.id]=o}this.placeLabel(o,e,n)}}),g.Geom=new e({initialize:function(t){this.viz=t,this.config=t.config,this.node=t.config.Node,this.edge=t.config.Edge},translate:function(e,n){n=t.splat(n),this.viz.graph.eachNode(function(i){t.each(n,function(t){i.getPos(t).$add(e)})})},setRightLevelToShow:function(e,n,i){var o=this.getRightLevelToShow(e,n),a=this.viz.labels,r=t.merge({execShow:!0,execHide:!0,onHide:t.empty,onShow:t.empty},i||{});e.eachLevel(0,this.config.levelsToShow,function(t){var n=t._depth-e._depth;n>o?(r.onHide(t),r.execHide&&(t.drawn=!1,t.exist=!1,a.hideLabel(t,!1))):(r.onShow(t),r.execShow&&(t.exist=!0))}),e.drawn=!0},getRightLevelToShow:function(t,e){var n=this.config,i=n.levelsToShow,o=n.constrained;if(!o)return i;for(;!this.treeFitsInCanvas(t,e,i)&&i>1;)i--;return i}});var y={construct:function(e){var n="array"==t.type(e),i=new g(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label);return n?function(e,n){for(var i=function(t){for(var i=0,o=n.length;o>i;i++)if(n[i].id==t)return n[i];var a={id:t,name:t};return e.addNode(a)},o=0,a=n.length;a>o;o++){e.addNode(n[o]);var r=n[o].adjacencies;if(r)for(var s=0,l=r.length;l>s;s++){var c=r[s],u={};"string"!=typeof r[s]&&(u=t.merge(c.data,{}),c=c.nodeTo),e.addAdjacence(n[o],i(c),u)}}}(i,e):function(t,e){if(t.addNode(e),e.children)for(var n=0,i=e.children;n<i.length;n++)t.addAdjacence(e,i[n]),arguments.callee(t,i[n])}(i,e),i},loadJSON:function(e,n){this.json=e,this.labels&&this.labels.clearLabels&&this.labels.clearLabels(!0),this.graph=this.construct(e),this.root="array"!=t.type(e)?e.id:e[n?n:0].id},toJSON:function(t){if(t=t||"tree","tree"==t){var e={},n=this.graph.getNode(this.root),e=function o(t){var e={};e.id=t.id,e.name=t.name,e.data=t.data;var n=[];return t.eachSubnode(function(t){n.push(o(t))}),e.children=n,e}(n);return e}var e=[],i=!!this.graph.getNode(this.root).visited;return this.graph.eachNode(function(t){var n={};n.id=t.id,n.name=t.name,n.data=t.data;var o=[];t.eachAdjacency(function(t){var e=t.nodeTo;if(!!e.visited===i){var n={};n.nodeTo=e.id,n.data=t.data,o.push(n)}}),n.adjacencies=o,e.push(n),t.visited=!i}),e}},b=$jit.Layouts={},w={label:null,compute:function(e,n,i){this.initializeLabel(i);var o=this.label,a=o.style;e.eachNode(function(e){var n=e.getData("autoWidth"),i=e.getData("autoHeight");if(n||i){delete e.data.$width,delete e.data.$height,delete e.data.$dim;var r=e.getData("width"),s=e.getData("height");a.width=n?"auto":r+"px",a.height=i?"auto":s+"px",o.innerHTML=e.name;var l=o.offsetWidth,c=o.offsetHeight,u=e.getData("type");if(-1===t.indexOf(["circle","square","triangle","star"],u))e.setData("width",l),e.setData("height",c);else{var h=l>c?l:c;e.setData("width",h),e.setData("height",h),e.setData("dim",h)}}})},initializeLabel:function(t){this.label||(this.label=document.createElement("div"),document.body.appendChild(this.label)),this.setLabelStyles(t)},setLabelStyles:function(){t.extend(this.label.style,{visibility:"hidden",position:"absolute",width:"auto",height:"auto"}),this.label.className="jit-autoadjust-label"}};b.Tree=function(){function n(t,e,n,i,o){var a=e.Node,r=e.multitree;if(a.overridable){var s=-1,l=-1;return t.eachNode(function(t){if(t._depth==n&&(!r||"$orn"in t.data&&t.data.$orn==i)){var e=t.getData("width",o),a=t.getData("height",o);s=e>s?e:s,l=a>l?a:l}}),{width:0>s?a.width:s,height:0>l?a.height:l}}return a}function i(t,e,n,i){var o="left"==i||"right"==i?"y":"x";t.getPos(e)[o]+=n}function o(e,n){var i=[];return t.each(e,function(t){t=d.call(t),t[0]+=n,t[1]+=n,i.push(t)}),i}function a(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=t.shift(),i=e.shift();return[[n[0],i[1]]].concat(a(t,e))}function r(t,e){if(e=e||[],0==t.length)return e;var n=t.pop();return r(t,a(n,e))}function s(t,e,n,i,o){if(t.length<=o||e.length<=o)return 0;var a=t[o][1],r=e[o][0];return Math.max(s(t,e,n,i,++o)+n,a-r+i)}function l(t,e,n){function i(t,r,l){if(r.length<=l)return[];var c=r[l],u=s(t,c,e,n,0);return[u].concat(i(a(t,o(c,u)),r,++l))}return i([],t,0)}function c(t,e,n){function i(t,r,l){if(r.length<=l)return[];var c=r[l],u=-s(c,t,e,n,0);return[u].concat(i(a(o(c,u),t),r,++l))}t=d.call(t);var r=i([],t.reverse(),0);return r.reverse()}function u(t,e,n,i){var o=l(t,e,n),a=c(t,e,n);"left"==i?a=o:"right"==i&&(o=a);for(var r=0,s=[];r<o.length;r++)s[r]=(o[r]+a[r])/2;return s}function h(t,e,a,s,l){function c(e,d,p){var f=e.getData(v,a),C=d||e.getData(y,a),T=[],S=[],D=!1,N=C+s.levelDistance;e.eachSubnode(function(e){if(e.exist&&(!h||"$orn"in e.data&&e.data.$orn==l)){D||(D=n(t,s,e._depth,l,a));var i=c(e,D[y],p+N);T.push(i.tree),S.push(i.extent)}});for(var k=u(S,w,b,x),L=0,j=[];L<T.length;L++)i(T[L],a,k[L],l),j.push(o(S[L],k[L]));var _=[[-f/2,f/2]].concat(r(j));return e.getPos(a)[g]=0,e.getPos(a)[m]="top"==l||"left"==l?p:-p,{tree:e,extent:_}}var h=s.multitree,d=["x","y"],p=["width","height"],f=+("left"==l||"right"==l),g=d[f],m=d[1-f],v=(s.Node,p[f]),y=p[1-f],b=s.siblingOffset,w=s.subtreeOffset,x=s.align;c(e,!1,0)}var d=Array.prototype.slice;return new e({compute:function(e,n){var i=e||"start",o=this.graph.getNode(this.root);t.extend(o,{drawn:!0,exist:!0,selected:!0}),w.compute(this.graph,i,this.config),!n&&"_depth"in o||this.graph.computeLevels(this.root,0,"ignore"),this.computePositions(o,i)},computePositions:function(e,n){var i=this.config,o=i.multitree,a=i.align,r="center"!==a&&i.indent,s=i.orientation,l=o?["top","right","bottom","left"]:[s],c=this;t.each(l,function(t){h(c.graph,e,n,c.config,t,n);var i=["x","y"][+("left"==t||"right"==t)];!function s(e){e.eachSubnode(function(l){l.exist&&(!o||"$orn"in l.data&&l.data.$orn==t)&&(l.getPos(n)[i]+=e.getPos(n)[i],r&&(l.getPos(n)[i]+="left"==a?r:-r),s(l))})}(e)})}})}(),$jit.ST=function(){function n(t){if(t=t||this.clickedNode,!this.config.constrained)return[];var e=this.geom,n=this.graph,i=this.canvas,o=t._depth,r=[];n.eachNode(function(e){e.exist&&!e.selected&&(e.isDescendantOf(t.id)?e._depth<=o&&r.push(e):r.push(e))});var s=e.getRightLevelToShow(t,i);t.eachLevel(s,s,function(t){t.exist&&!t.selected&&r.push(t)});for(var l=0;l<a.length;l++){var c=this.graph.getNode(a[l]);c.isDescendantOf(t.id)||r.push(c)}return r}function i(t){var e=[],n=this.config;return t=t||this.clickedNode,this.clickedNode.eachLevel(0,n.levelsToShow,function(t){!n.multitree||"$orn"in t.data||!t.anySubnode(function(t){return t.exist&&!t.drawn})?t.drawn&&!t.anySubnode("drawn")&&e.push(t):e.push(t)}),e}var a=[];return new e({Implements:[y,l,b.Tree],initialize:function(e){var n=$jit.ST,i={levelsToShow:2,levelDistance:30,constrained:!0,Node:{type:"rectangle"},duration:700,offsetX:0,offsetY:0};this.controller=this.config=t.merge(o("Canvas","Fx","Tree","Node","Edge","Controller","Tips","NodeStyles","Events","Navigation","Label"),i,e);var a=this.config;a.useCanvas?(this.canvas=a.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(a.background&&(a.background=t.merge({type:"Circles"},a.background)),this.canvas=new c(this,a),this.config.labelContainer=("string"==typeof a.injectInto?a.injectInto:a.injectInto.id)+"-label"),this.graphOptions={klass:d},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new n.Label[a.Label.type](this),this.fx=new n.Plot(this,n),this.op=new n.Op(this),this.group=new n.Group(this),this.geom=new n.Geom(this),this.clickedNode=null,this.initializeExtras()},plot:function(){this.fx.plot(this.controller)},switchPosition:function(t,e,n){var i=this.geom,o=this.fx,a=this;o.busy||(o.busy=!0,this.contract({onComplete:function(){i.switchOrientation(t),a.compute("end",!1),o.busy=!1,"animate"==e?a.onClick(a.clickedNode.id,n):"replot"==e&&a.select(a.clickedNode.id,n)}},t))},switchAlignment:function(t,e,n){this.config.align=t,"animate"==e?this.select(this.clickedNode.id,n):"replot"==e&&this.onClick(this.clickedNode.id,n)},addNodeInPath:function(t){a.push(t),this.select(this.clickedNode&&this.clickedNode.id||this.root)},clearNodesInPath:function(){a.length=0,this.select(this.clickedNode&&this.clickedNode.id||this.root)},refresh:function(){this.reposition(),this.select(this.clickedNode&&this.clickedNode.id||this.root)},reposition:function(){this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(this.clickedNode,this.canvas),this.graph.eachNode(function(t){t.exist&&(t.drawn=!0)
}),this.compute("end")},requestNodes:function(e,n){var i=t.merge(this.controller,n),o=this.config.levelsToShow;if(i.request){var a=[],r=e._depth;e.eachLevel(0,o,function(t){t.drawn&&!t.anySubnode()&&(a.push(t),t._level=o-(t._depth-r))}),this.group.requestNodes(a,i)}else i.onComplete()},contract:function(e,i){var o=this.config.orientation,a=this.geom,r=this.group;i&&a.switchOrientation(i);var s=n.call(this);i&&a.switchOrientation(o),r.contract(s,t.merge(this.controller,e))},move:function(e,n){this.compute("end",!1);var i=n.Move,o={x:i.offsetX,y:i.offsetY};i.enable&&this.geom.translate(e.endPos.add(o).$scale(-1),"end"),this.fx.animate(t.merge(this.controller,{modes:["linear"]},n))},expand:function(e,n){var o=i.call(this,e);this.group.expand(o,t.merge(this.controller,n))},selectPath:function(e){function n(e){if(null!=e&&!e.selected){e.selected=!0,t.each(i.group.getSiblings([e])[e.id],function(t){t.exist=!0,t.drawn=!0});var o=e.getParents();o=o.length>0?o[0]:null,n(o)}}var i=this;this.graph.eachNode(function(t){t.selected=!1});for(var o=0,r=[e.id].concat(a);o<r.length;o++)n(this.graph.getNode(r[o]))},setRoot:function(t,e,n){function i(){if(this.config.multitree&&s.data.$orn){var e=s.data.$orn,i={left:"right",right:"left",top:"bottom",bottom:"top"}[e];r.data.$orn=i,function l(e){e.eachSubnode(function(e){e.id!=t&&(e.data.$orn=i,l(e))})}(r),delete s.data.$orn}this.root=t,this.clickedNode=s,this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(s,a,{execHide:!1,onShow:function(t){t.drawn||(t.drawn=!0,t.setData("alpha",1,"end"),t.setData("alpha",0),t.pos.setc(s.pos.x,s.pos.y))}}),this.compute("end"),this.busy=!0,this.fx.animate({modes:["linear","node-property:alpha"],onComplete:function(){o.busy=!1,o.onClick(t,{onComplete:function(){n&&n.onComplete()}})}})}if(!this.busy){this.busy=!0;var o=this,a=this.canvas,r=this.graph.getNode(this.root),s=this.graph.getNode(t);delete r.data.$orns,"animate"==e?(i.call(this),o.selectPath(s)):"replot"==e&&(i.call(this),this.select(this.root))}},addSubtree:function(e,n,i){"replot"==n?this.op.sum(e,t.extend({type:"replot"},i||{})):"animate"==n&&this.op.sum(e,t.extend({type:"fade:seq"},i||{}))},removeSubtree:function(e,n,i,o){var a=this.graph.getNode(e),r=[];a.eachLevel(+!n,!1,function(t){r.push(t.id)}),"replot"==i?this.op.removeNode(r,t.extend({type:"replot"},o||{})):"animate"==i&&this.op.removeNode(r,t.extend({type:"fade:seq"},o||{}))},select:function(e,o){var a=this.group,r=this.geom,s=this.graph.getNode(e),l=this.canvas,c=(this.graph.getNode(this.root),t.merge(this.controller,o)),u=this;c.onBeforeCompute(s),this.selectPath(s),this.clickedNode=s,this.requestNodes(s,{onComplete:function(){a.hide(a.prepare(n.call(u)),c),r.setRightLevelToShow(s,l),u.compute("current"),u.graph.eachNode(function(t){var e=t.pos.getc(!0);t.startPos.setc(e.x,e.y),t.endPos.setc(e.x,e.y),t.visited=!1});var t={x:c.offsetX,y:c.offsetY};u.geom.translate(s.endPos.add(t).$scale(-1),["start","current","end"]),a.show(i.call(u)),u.plot(),c.onAfterCompute(u.clickedNode),c.onComplete()}})},onClick:function(e,n){var i=this.canvas,o=this,a=this.geom,r=this.config,s={Move:{enable:!0,offsetX:r.offsetX||0,offsetY:r.offsetY||0},setRightLevelToShowConfig:!1,onBeforeRequest:t.empty,onBeforeContract:t.empty,onBeforeMove:t.empty,onBeforeExpand:t.empty},l=t.merge(this.controller,s,n);if(!this.busy){this.busy=!0;var c=this.graph.getNode(e);this.selectPath(c,this.clickedNode),this.clickedNode=c,l.onBeforeCompute(c),l.onBeforeRequest(c),this.requestNodes(c,{onComplete:function(){l.onBeforeContract(c),o.contract({onComplete:function(){a.setRightLevelToShow(c,i,l.setRightLevelToShowConfig),l.onBeforeMove(c),o.move(c,{Move:l.Move,onComplete:function(){l.onBeforeExpand(c),o.expand(c,{onComplete:function(){o.busy=!1,l.onAfterCompute(e),l.onComplete()}})}})}})}})}}})}(),$jit.ST.$extend=!0,$jit.ST.Op=new e({Implements:g.Op}),$jit.ST.Group=new e({initialize:function(t){this.viz=t,this.canvas=t.canvas,this.config=t.config,this.animation=new i,this.nodes=null},requestNodes:function(t,e){var n=0,i=t.length,o={},a=function(){e.onComplete()},r=this.viz;0==i&&a();for(var s=0;i>s;s++)o[t[s].id]=t[s],e.request(t[s].id,t[s]._level,{onComplete:function(t,e){e&&e.children&&(e.id=t,r.op.sum(e,{type:"nothing"})),++n==i&&(r.graph.computeLevels(r.root,0),a())}})},contract:function(e,n){var i=(this.viz,this);e=this.prepare(e),this.animation.setOptions(t.merge(n,{$animating:!1,compute:function(t){1==t&&(t=.99),i.plotStep(1-t,n,this.$animating),this.$animating="contract"},complete:function(){i.hide(e,n)}})).start()},hide:function(e,n){for(var i=(this.viz,0);i<e.length;i++){e[i].eachLevel(1,!1,function(e){e.exist&&t.extend(e,{drawn:!1,exist:!1})})}n.onComplete()},expand:function(e,n){var i=this;this.show(e),this.animation.setOptions(t.merge(n,{$animating:!1,compute:function(t){i.plotStep(t,n,this.$animating),this.$animating="expand"},complete:function(){i.plotStep(void 0,n,!1),n.onComplete()}})).start()},show:function(e){var n=this.config;this.prepare(e),t.each(e,function(t){if(n.multitree&&!("$orn"in t.data)){delete t.data.$orns;var e=" ";t.eachSubnode(function(t){"$orn"in t.data&&e.indexOf(t.data.$orn)<0&&t.exist&&!t.drawn&&(e+=t.data.$orn+" ")}),t.data.$orns=e}t.eachLevel(0,n.levelsToShow,function(t){t.exist&&(t.drawn=!0)})})},prepare:function(t){return this.nodes=this.getNodesWithChildren(t),this.nodes},getNodesWithChildren:function(t){{var e=[],n=this.config;this.viz.root}t.sort(function(t,e){return(t._depth<=e._depth)-(t._depth>=e._depth)});for(var i=0;i<t.length;i++)if(t[i].anySubnode("exist")){for(var o=i+1,a=!1;!a&&o<t.length;o++)(!n.multitree||"$orn"in t[o].data)&&(a=a||t[i].isDescendantOf(t[o].id));a||e.push(t[i])}return e},plotStep:function(e,n,i){var o,a,r=this.viz,s=this.config,l=r.canvas,c=l.getCtx(),u=this.nodes,h={};for(o=0;o<u.length;o++){a=u[o],h[a.id]=[];var d=s.multitree&&!("$orn"in a.data),p=d&&a.data.$orns;a.eachSubgraph(function(t){d&&p&&p.indexOf(t.data.$orn)>0&&t.drawn?(t.drawn=!1,h[a.id].push(t)):d&&p||!t.drawn||(t.drawn=!1,h[a.id].push(t))}),a.drawn=!0}u.length>0&&r.fx.plot();for(o in h)t.each(h[o],function(t){t.drawn=!0});for(o=0;o<u.length;o++)a=u[o],c.save(),r.fx.plotSubtree(a,n,e,i),c.restore()},getSiblings:function(e){var n={};return t.each(e,function(t){var e=t.getParents();if(0==e.length)n[t.id]=[t];else{var i=[];e[0].eachSubnode(function(t){i.push(t)}),n[t.id]=i}}),n}}),$jit.ST.Geom=new e({Implements:g.Geom,switchOrientation:function(t){this.config.orientation=t},dispatch:function(){var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.length,i=function(t){return"function"==typeof t?t():t};if(2==n)return"top"==e||"bottom"==e?i(t[0]):i(t[1]);if(4==n)switch(e){case"top":return i(t[0]);case"right":return i(t[1]);case"bottom":return i(t[2]);case"left":return i(t[3])}return void 0},getSize:function(t,e){var n=t.data,i=this.config,o=i.siblingOffset,a=i.multitree&&"$orn"in n&&n.$orn||i.orientation,r=t.getData("width")+o,s=t.getData("height")+o;return e?this.dispatch(a,r,s):this.dispatch(a,s,r)},getTreeBaseSize:function(t,e,n){var i=this.getSize(t,!0),o=0,a=this;return n(e,t)?i:0===e?0:(t.eachSubnode(function(t){o+=a.getTreeBaseSize(t,e-1,n)}),(i>o?i:o)+this.config.subtreeOffset)},getEdge:function(t,e,n){var i=function(e,n){return function(){return t.pos.add(new d(e,n))}},o=this.node,a=t.getData("width"),r=t.getData("height");if("begin"==e){if("center"==o.align)return this.dispatch(n,i(0,r/2),i(-a/2,0),i(0,-r/2),i(a/2,0));if("left"==o.align)return this.dispatch(n,i(0,r),i(0,0),i(0,0),i(a,0));if("right"==o.align)return this.dispatch(n,i(0,0),i(-a,0),i(0,-r),i(0,0));throw"align: not implemented"}if("end"==e){if("center"==o.align)return this.dispatch(n,i(0,-r/2),i(a/2,0),i(0,r/2),i(-a/2,0));if("left"==o.align)return this.dispatch(n,i(0,0),i(a,0),i(0,r),i(0,0));if("right"==o.align)return this.dispatch(n,i(0,-r),i(0,0),i(0,0),i(-a,0));throw"align: not implemented"}},getScaledTreePosition:function(t,e){var n=this.node,i=t.getData("width"),o=t.getData("height"),a=this.config.multitree&&"$orn"in t.data&&t.data.$orn||this.config.orientation,r=function(n,i){return function(){return t.pos.add(new d(n,i)).$scale(1-e)}};if("left"==n.align)return this.dispatch(a,r(0,o),r(0,0),r(0,0),r(i,0));if("center"==n.align)return this.dispatch(a,r(0,o/2),r(-i/2,0),r(0,-o/2),r(i/2,0));if("right"==n.align)return this.dispatch(a,r(0,0),r(-i,0),r(0,-o),r(0,0));throw"align: not implemented"},treeFitsInCanvas:function(t,e,n){var i=e.getSize(),o=this.config.multitree&&"$orn"in t.data&&t.data.$orn||this.config.orientation,a=this.dispatch(o,i.width,i.height),r=this.getTreeBaseSize(t,n,function(t,e){return 0===t||!e.anySubnode()});return a>r}}),$jit.ST.Plot=new e({Implements:g.Plot,plotSubtree:function(e,n,i,o){var a=this.viz,r=a.canvas,s=a.config;if(i=Math.min(Math.max(.001,i),1),i>=0){e.drawn=!1;var l=r.getCtx(),c=a.geom.getScaledTreePosition(e,i);l.translate(c.x,c.y),l.scale(i,i)}this.plotTree(e,t.merge(n,{withLabels:!0,hideLabels:!!i,plotSubtree:function(){var t=s.multitree&&!("$orn"in e.data),n=t&&e.getData("orns");return!t||n.indexOf(e.getData("orn"))>-1}}),o),i>=0&&(e.drawn=!0)},getAlignedPos:function(t,e,n){var i,o,a=this.node;if("center"==a.align)i={x:t.x-e/2,y:t.y-n/2};else if("left"==a.align)o=this.config.orientation,i="bottom"==o||"top"==o?{x:t.x-e/2,y:t.y}:{x:t.x,y:t.y-n/2};else{if("right"!=a.align)throw"align: not implemented";o=this.config.orientation,i="bottom"==o||"top"==o?{x:t.x-e/2,y:t.y-n}:{x:t.x-e,y:t.y-n/2}}return i},getOrientation:function(t){var e=this.config,n=e.orientation;if(e.multitree){var i=t.nodeFrom,o=t.nodeTo;n="$orn"in i.data&&i.data.$orn||"$orn"in o.data&&o.data.$orn}return n}}),$jit.ST.Label={},$jit.ST.Label.Native=new e({Implements:g.Label.Native,renderLabel:function(t,e){var n=t.getCtx(),i=e.pos.getc(!0),o=e.getData("width"),a=e.getData("height"),r=this.viz.fx.getAlignedPos(i,o,a);n.fillText(e.name,r.x+o/2,r.y+a/2)}}),$jit.ST.Label.DOM=new e({Implements:g.Label.DOM,placeLabel:function(t,e,n){var i,o,a=e.pos.getc(!0),r=this.viz.config,s=r.Node,l=this.viz.canvas,c=e.getData("width"),u=e.getData("height"),h=l.getSize(),d=l.translateOffsetX,p=l.translateOffsetY,f=l.scaleOffsetX,g=l.scaleOffsetY,m=a.x*f+d,v=a.y*g+p;if("center"==s.align)i={x:Math.round(m-c/2+h.width/2),y:Math.round(v-u/2+h.height/2)};else if("left"==s.align)o=r.orientation,i="bottom"==o||"top"==o?{x:Math.round(m-c/2+h.width/2),y:Math.round(v+h.height/2)}:{x:Math.round(m+h.width/2),y:Math.round(v-u/2+h.height/2)};else{if("right"!=s.align)throw"align: not implemented";o=r.orientation,i="bottom"==o||"top"==o?{x:Math.round(m-c/2+h.width/2),y:Math.round(v-u+h.height/2)}:{x:Math.round(m-c+h.width/2),y:Math.round(v-u/2+h.height/2)}}var y=t.style;y.left=i.x+"px",y.top=i.y+"px",y.display=this.fitsInCanvas(i,l)?"":"none",n.onPlaceLabel(t,e)}}),$jit.ST.Label.SVG=new e({Implements:[$jit.ST.Label.DOM,g.Label.SVG],initialize:function(t){this.viz=t}}),$jit.ST.Label.HTML=new e({Implements:[$jit.ST.Label.DOM,g.Label.HTML],initialize:function(t){this.viz=t}}),$jit.ST.Plot.NodeTypes=new e({none:{render:t.empty,contains:t.lambda(!1)},circle:{render:function(t,e){var n=t.getData("dim"),i=this.getAlignedPos(t.pos.getc(!0),n,n),o=n/2;this.nodeHelper.circle.render("fill",{x:i.x+o,y:i.y+o},o,e)},contains:function(t,e){var n=t.getData("dim"),i=this.getAlignedPos(t.pos.getc(!0),n,n),o=n/2;this.nodeHelper.circle.contains({x:i.x+o,y:i.y+o},e,o)}},square:{render:function(t,e){var n=t.getData("dim"),i=n/2,o=this.getAlignedPos(t.pos.getc(!0),n,n);this.nodeHelper.square.render("fill",{x:o.x+i,y:o.y+i},i,e)},contains:function(t,e){var n=t.getData("dim"),i=this.getAlignedPos(t.pos.getc(!0),n,n),o=n/2;this.nodeHelper.square.contains({x:i.x+o,y:i.y+o},e,o)}},ellipse:{render:function(t,e){var n=t.getData("width"),i=t.getData("height"),o=this.getAlignedPos(t.pos.getc(!0),n,i);this.nodeHelper.ellipse.render("fill",{x:o.x+n/2,y:o.y+i/2},n,i,e)},contains:function(t,e){var n=t.getData("width"),i=t.getData("height"),o=this.getAlignedPos(t.pos.getc(!0),n,i);this.nodeHelper.ellipse.contains({x:o.x+n/2,y:o.y+i/2},e,n,i)}},rectangle:{render:function(t,e){var n=t.getData("width"),i=t.getData("height"),o=this.getAlignedPos(t.pos.getc(!0),n,i);this.nodeHelper.rectangle.render("fill",{x:o.x+n/2,y:o.y+i/2},n,i,e)},contains:function(t,e){var n=t.getData("width"),i=t.getData("height"),o=this.getAlignedPos(t.pos.getc(!0),n,i);this.nodeHelper.rectangle.contains({x:o.x+n/2,y:o.y+i/2},e,n,i)}}}),$jit.ST.Plot.EdgeTypes=new e({none:t.empty,line:{render:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=i._depth<o._depth,r=this.viz.geom.getEdge(a?i:o,"begin",n),s=this.viz.geom.getEdge(a?o:i,"end",n);this.edgeHelper.line.render(r,s,e)},contains:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=i._depth<o._depth,r=this.viz.geom.getEdge(a?i:o,"begin",n),s=this.viz.geom.getEdge(a?o:i,"end",n);return this.edgeHelper.line.contains(r,s,e,this.edge.epsilon)}},arrow:{render:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=t.getData("dim"),r=this.viz.geom.getEdge(i,"begin",n),s=this.viz.geom.getEdge(o,"end",n),l=t.data.$direction,c=l&&l.length>1&&l[0]!=i.id;this.edgeHelper.arrow.render(r,s,a,c,e)},contains:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=i._depth<o._depth,r=this.viz.geom.getEdge(a?i:o,"begin",n),s=this.viz.geom.getEdge(a?o:i,"end",n);return this.edgeHelper.arrow.contains(r,s,e,this.edge.epsilon)}},"quadratic:begin":{render:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=i._depth<o._depth,r=this.viz.geom.getEdge(a?i:o,"begin",n),s=this.viz.geom.getEdge(a?o:i,"end",n),l=t.getData("dim"),c=e.getCtx();switch(c.beginPath(),c.moveTo(r.x,r.y),n){case"left":c.quadraticCurveTo(r.x+l,r.y,s.x,s.y);break;case"right":c.quadraticCurveTo(r.x-l,r.y,s.x,s.y);break;case"top":c.quadraticCurveTo(r.x,r.y+l,s.x,s.y);break;case"bottom":c.quadraticCurveTo(r.x,r.y-l,s.x,s.y)}c.stroke()}},"quadratic:end":{render:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=i._depth<o._depth,r=this.viz.geom.getEdge(a?i:o,"begin",n),s=this.viz.geom.getEdge(a?o:i,"end",n),l=t.getData("dim"),c=e.getCtx();switch(c.beginPath(),c.moveTo(r.x,r.y),n){case"left":c.quadraticCurveTo(s.x-l,s.y,s.x,s.y);break;case"right":c.quadraticCurveTo(s.x+l,s.y,s.x,s.y);break;case"top":c.quadraticCurveTo(s.x,s.y-l,s.x,s.y);break;case"bottom":c.quadraticCurveTo(s.x,s.y+l,s.x,s.y)}c.stroke()}},bezier:{render:function(t,e){var n=this.getOrientation(t),i=t.nodeFrom,o=t.nodeTo,a=i._depth<o._depth,r=this.viz.geom.getEdge(a?i:o,"begin",n),s=this.viz.geom.getEdge(a?o:i,"end",n),l=t.getData("dim"),c=e.getCtx();switch(c.beginPath(),c.moveTo(r.x,r.y),n){case"left":c.bezierCurveTo(r.x+l,r.y,s.x-l,s.y,s.x,s.y);break;case"right":c.bezierCurveTo(r.x-l,r.y,s.x+l,s.y,s.x,s.y);break;case"top":c.bezierCurveTo(r.x,r.y+l,s.x,s.y-l,s.x,s.y);break;case"bottom":c.bezierCurveTo(r.x,r.y-l,s.x,s.y+l,s.x,s.y)}c.stroke()}}}),$jit.ST.Plot.NodeTypes.implement({"areachart-stacked":{render:function(e,n){var i=e.pos.getc(!0),o=e.getData("width"),a=e.getData("height"),r=this.getAlignedPos(i,o,a),s=r.x,l=r.y,c=e.getData("stringArray"),u=e.getData("dimArray"),h=e.getData("valueArray"),d=t.reduce(h,function(t,e){return t+e[0]},0),p=t.reduce(h,function(t,e){return t+e[1]},0),f=e.getData("colorArray"),g=f.length,m=e.getData("config"),v=e.getData("gradient"),y=m.showLabels,b=m.showAggregates,w=m.Label,x=e.getData("prev"),C=n.getCtx(),T=e.getData("border");if(f&&u&&c){for(var S=0,D=u.length,N=0,k=0,L=0;D>S;S++){if(C.fillStyle=C.strokeStyle=f[S%g],C.save(),v&&(u[S][0]>0||u[S][1]>0)){var j=N+u[S][0],_=k+u[S][1],A=Math.atan((_-j)/o),E=55,$=C.createLinearGradient(s+o/2,l-(j+_)/2,s+o/2+E*Math.sin(A),l-(j+_)/2+E*Math.cos(A)),M=t.rgbToHex(t.map(t.hexToRgb(f[S%g].slice(1)),function(t){return.85*t>>0}));$.addColorStop(0,f[S%g]),$.addColorStop(1,M),C.fillStyle=$}if(C.beginPath(),C.moveTo(s,l-N),C.lineTo(s+o,l-k),C.lineTo(s+o,l-k-u[S][1]),C.lineTo(s,l-N-u[S][0]),C.lineTo(s,l-N),C.fill(),C.restore(),T){var P=T.name==c[S],O=P?.7:.8,M=t.rgbToHex(t.map(t.hexToRgb(f[S%g].slice(1)),function(t){return t*O>>0}));C.strokeStyle=M,C.lineWidth=P?4:1,C.save(),C.beginPath(),0===T.index?(C.moveTo(s,l-N),C.lineTo(s,l-N-u[S][0])):(C.moveTo(s+o,l-k),C.lineTo(s+o,l-k-u[S][1])),C.stroke(),C.restore()}N+=u[S][0]||0,k+=u[S][1]||0,u[S][0]>0&&(L+=h[S][0]||0)}if(x&&"Native"==w.type){C.save(),C.beginPath(),C.fillStyle=C.strokeStyle=w.color,C.font=w.style+" "+w.size+"px "+w.family,C.textAlign="center",C.textBaseline="middle";var z=b(e.name,d,p,e,L);z!==!1&&C.fillText(z!==!0?z:L,s,l-N-m.labelOffset-w.size/2,o),y(e.name,d,p,e)&&C.fillText(e.name,s,l+w.size/2+m.labelOffset),C.restore()}}},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height"),a=this.getAlignedPos(n,i,o),r=a.x,s=a.y,l=t.getData("dimArray"),c=e.x-r;if(e.x<r||e.x>r+i||e.y>s||e.y<s-o)return!1;for(var u=0,h=l.length,d=s,p=s;h>u;u++){var f=l[u];d-=f[0],p-=f[1];var g=d+(p-d)*c/i;if(e.y>=g){var m=+(c>i/2);return{name:t.getData("stringArray")[u],color:t.getData("colorArray")[u],value:t.getData("valueArray")[u][m],index:m}}}return!1}}}),$jit.AreaChart=new e({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(e){this.controller=this.config=t.merge(o("Canvas","Margin","Label","AreaChart"),{Label:{type:"Native"}},e);var n=this.config.showLabels,i=t.type(n),a=this.config.showAggregates,r=t.type(a);this.config.showLabels="function"==i?n:t.lambda(n),this.config.showAggregates="function"==r?a:t.lambda(a),this.initializeViz()},initializeViz:function(){var e=this.config,n=this,i=e.type.split(":")[0],o={},a=new $jit.ST({injectInto:e.injectInto,width:e.width,height:e.height,orientation:"bottom",levelDistance:0,siblingOffset:0,subtreeOffset:0,withLabels:"Native"!=e.Label.type,useCanvas:e.useCanvas,Label:{type:e.Label.type},Node:{overridable:!0,type:"areachart-"+i,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:e.Tips.enable,type:"Native",force:!0,onShow:function(t,n,i){var o=i;e.Tips.onShow(t,o,n)}},Events:{enable:!0,type:"Native",onClick:function(t,i,o){if(e.filterOnClick||e.Events.enable){var a=i.getContains();a&&e.filterOnClick&&n.filter(a.name),e.Events.enable&&e.Events.onClick(a,i,o)}},onRightClick:function(){e.restoreOnRightClick&&n.restore()},onMouseMove:function(t,i){if(e.selectOnHover)if(t){var o=i.getContains();n.select(t.id,o.name,o.index)}else n.select(!1,!1,!1)}},onCreateLabel:function(n,i){var a=e.Label,r=i.getData("valueArray"),s=t.reduce(r,function(t,e){return t+e[0]},0),l=t.reduce(r,function(t,e){return t+e[1]},0);if(i.getData("prev")){var c={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},u=c.wrapper,h=c.label,d=c.aggregate,p=u.style,f=h.style,g=d.style;o[i.id]=c,u.appendChild(h),u.appendChild(d),e.showLabels(i.name,s,l,i)||(h.style.display="none"),e.showAggregates(i.name,s,l,i)||(d.style.display="none"),p.position="relative",p.overflow="visible",p.fontSize=a.size+"px",p.fontFamily=a.family,p.color=a.color,p.textAlign="center",g.position=f.position="absolute",n.style.width=i.getData("width")+"px",n.style.height=i.getData("height")+"px",h.innerHTML=i.name,n.appendChild(u)}},onPlaceLabel:function(n,i){if(i.getData("prev")){{var a=o[i.id],r=a.wrapper.style,s=a.label.style,l=a.aggregate.style,c=i.getData("width"),u=(i.getData("height"),i.getData("dimArray")),h=i.getData("valueArray"),d=t.reduce(h,function(t,e){return t+e[0]},0),p=t.reduce(h,function(t,e){return t+e[1]},0),f=parseInt(r.fontSize,10);n.style}if(u&&h){s.display=e.showLabels(i.name,d,p,i)?"":"none";var g=e.showAggregates(i.name,d,p,i);l.display=g!==!1?"":"none",r.width=l.width=s.width=n.style.width=c+"px",l.left=s.left=-c/2+"px";for(var m=0,v=h.length,y=0,b=0;v>m;m++)u[m][0]>0&&(y+=h[m][0],b+=u[m][0]);l.top=-f-e.labelOffset+"px",s.top=e.labelOffset+b+"px",n.style.top=parseInt(n.style.top,10)-b+"px",n.style.height=r.height=b+"px",a.aggregate.innerHTML=g!==!0?g:y}}}}),r=a.canvas.getSize(),s=e.Margin;a.config.offsetY=-r.height/2+s.bottom+(e.showLabels&&e.labelOffset+e.Label.size),a.config.offsetX=(s.right-s.left)/2,this.delegate=a,this.canvas=this.delegate.canvas},loadJSON:function(e){for(var n=t.time(),i=[],o=this.delegate,a=t.splat(e.label),r=t.splat(e.color||this.colors),s=this.config,l=!!s.type.split(":")[1],c=s.animate,u=0,h=e.values,d=h.length;d-1>u;u++){var p=h[u],f=h[u-1],g=h[u+1],m=t.splat(h[u].values),v=t.splat(h[u+1].values),y=t.zip(m,v);i.push({id:n+p.label,name:p.label,data:{value:y,$valueArray:y,$colorArray:r,$stringArray:a,$next:g.label,$prev:f?f.label:!1,$config:s,$gradient:l},children:[]})}var b={id:n+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:i};o.loadJSON(b),this.normalizeDims(),o.compute(),o.select(o.root),c&&o.fx.animate({modes:["node-property:height:dimArray"],duration:1500})},updateJSON:function(e,n){if(!this.busy){this.busy=!0;for(var i=this.delegate,o=i.graph,a=e.label&&t.splat(e.label),r=e.values,s=this.config.animate,l=this,c={},u=0,h=r.length;h>u;u++)c[r[u].label]=r[u];o.eachNode(function(e){var n=c[e.name],i=e.getData("stringArray"),o=e.getData("valueArray"),r=e.getData("next");n&&(n.values=t.splat(n.values),t.each(o,function(t,e){t[0]=n.values[e],a&&(i[e]=a[e])}),e.setData("valueArray",o)),r&&(n=c[r],n&&t.each(o,function(t,e){t[1]=n.values[e]}))}),this.normalizeDims(),i.compute(),i.select(i.root),s&&i.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){l.busy=!1,n&&n.onComplete()}})}},filter:function(e,n){if(!this.busy){this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1);var i=t.splat(e),o=this.delegate.graph.getNode(this.delegate.root),a=this;this.normalizeDims(),o.eachAdjacency(function(e){var n=e.nodeTo,o=n.getData("dimArray","end"),a=n.getData("stringArray");n.setData("dimArray",t.map(o,function(e,n){return t.indexOf(i,a[n])>-1?e:[0,0]}),"end")}),this.delegate.fx.animate({modes:["node-property:dimArray"],duration:1500,onComplete:function(){a.busy=!1,n&&n.onComplete()}})}},restore:function(t){if(!this.busy){this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1),this.normalizeDims();var e=this;this.delegate.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){e.busy=!1,t&&t.onComplete()}})}},select:function(t,e,n){if(this.config.selectOnHover){var i=this.selected;if(i.id!=t||i.name!=e||i.index!=n){if(i.id=t,i.name=e,i.index=n,this.delegate.graph.eachNode(function(t){t.setData("border",!1)}),t){var o=this.delegate.graph.getNode(t);o.setData("border",i);var a=0===n?"prev":"next";a=o.getData(a),a&&(o=this.delegate.graph.getByName(a),o&&o.setData("border",{name:e,index:1-n}))}this.delegate.plot()}}},getLegend:function(){var e,n={};this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(t){e=t.nodeTo});var i=e.getData("colorArray"),o=i.length;return t.each(e.getData("stringArray"),function(t,e){n[t]=i[e%o]}),n},getMaxValue:function(){var e=0;return this.delegate.graph.eachNode(function(n){var i=n.getData("valueArray"),o=0,a=0;t.each(i,function(t){o+=+t[0],a+=+t[1]});var r=a>o?a:o;e=e>r?e:r}),e},normalizeDims:function(){var e=this.delegate.graph.getNode(this.delegate.root),n=0;e.eachAdjacency(function(){n++});var i=this.getMaxValue()||1,o=this.delegate.canvas.getSize(),a=this.config,r=a.Margin,s=a.labelOffset+a.Label.size,l=(o.width-(r.left+r.right))/n,c=a.animate,u=o.height-(r.top+r.bottom)-(a.showAggregates&&s)-(a.showLabels&&s);this.delegate.graph.eachNode(function(e){var n=0,o=0,a=[];t.each(e.getData("valueArray"),function(t){n+=+t[0],o+=+t[1],a.push([0,0])});var r=o>n?o:n;if(e.setData("width",l),c){e.setData("height",r*u/i,"end"),e.setData("dimArray",t.map(e.getData("valueArray"),function(t){return[t[0]*u/i,t[1]*u/i]}),"end");var s=e.getData("dimArray");s||e.setData("dimArray",a)}else e.setData("height",r*u/i),e.setData("dimArray",t.map(e.getData("valueArray"),function(t){return[t[0]*u/i,t[1]*u/i]}))})}}),o.BarChart={$extend:!0,animate:!0,type:"stacked",labelOffset:3,barsOffset:0,hoveredColor:"#9fd4ff",orientation:"horizontal",showAggregates:!0,showLabels:!0,Tips:{enable:!1,onShow:t.empty,onHide:t.empty},Events:{enable:!1,onClick:t.empty}},$jit.ST.Plot.NodeTypes.implement({"barchart-stacked":{render:function(e,n){var i=e.pos.getc(!0),o=e.getData("width"),a=e.getData("height"),r=this.getAlignedPos(i,o,a),s=r.x,l=r.y,c=e.getData("dimArray"),u=e.getData("valueArray"),h=e.getData("colorArray"),d=h.length,p=e.getData("stringArray"),f=n.getCtx(),g={},m=e.getData("border"),v=e.getData("gradient"),y=e.getData("config"),b="horizontal"==y.orientation,w=y.showAggregates,x=y.showLabels,C=y.Label;if(h&&c&&p){for(var T=0,S=c.length,D=0,N=0;S>T;T++){if(f.fillStyle=f.strokeStyle=h[T%d],v){var k;k=b?f.createLinearGradient(s+D+c[T]/2,l,s+D+c[T]/2,l+a):f.createLinearGradient(s,l-D-c[T]/2,s+o,l-D-c[T]/2);var L=t.rgbToHex(t.map(t.hexToRgb(h[T%d].slice(1)),function(t){return.5*t>>0}));k.addColorStop(0,L),k.addColorStop(.5,h[T%d]),k.addColorStop(1,L),f.fillStyle=k}b?f.fillRect(s+D,l,c[T],a):f.fillRect(s,l-D-c[T],o,c[T]),m&&m.name==p[T]&&(g.acum=D,g.dimValue=c[T]),D+=c[T]||0,N+=u[T]||0}if(m&&(f.save(),f.lineWidth=2,f.strokeStyle=m.color,b?f.strokeRect(s+g.acum+1,l+1,g.dimValue-2,a-2):f.strokeRect(s+1,l-g.acum-g.dimValue+1,o-2,g.dimValue-2),f.restore()),"Native"==C.type){f.save(),f.fillStyle=f.strokeStyle=C.color,f.font=C.style+" "+C.size+"px "+C.family,f.textBaseline="middle";var j=w(e.name,N,e);j!==!1&&(j=j!==!0?j:N,b?(f.textAlign="right",f.fillText(j,s+D-y.labelOffset,l+a/2)):(f.textAlign="center",f.fillText(j,s+o/2,l-a-C.size/2-y.labelOffset))),x(e.name,N,e)&&(b?(f.textAlign="center",f.translate(s-y.labelOffset-C.size/2,l+a/2),f.rotate(Math.PI/2),f.fillText(e.name,0,0)):(f.textAlign="center",f.fillText(e.name,s+o/2,l+C.size/2+y.labelOffset))),f.restore()}}},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height"),a=this.getAlignedPos(n,i,o),r=a.x,s=a.y,l=t.getData("dimArray"),c=t.getData("config"),u=(e.x-r,"horizontal"==c.orientation);if(u){if(e.x<r||e.x>r+i||e.y>s+o||e.y<s)return!1}else if(e.x<r||e.x>r+i||e.y>s||e.y<s-o)return!1;for(var h=0,d=l.length,p=u?r:s;d>h;h++){var f=l[h];if(u){p+=f;var g=p;if(e.x<=g)return{name:t.getData("stringArray")[h],color:t.getData("colorArray")[h],value:t.getData("valueArray")[h],label:t.name}}else{p-=f;var g=p;if(e.y>=g)return{name:t.getData("stringArray")[h],color:t.getData("colorArray")[h],value:t.getData("valueArray")[h],label:t.name}}}return!1}},"barchart-grouped":{render:function(e,n){var i=e.pos.getc(!0),o=e.getData("width"),a=e.getData("height"),r=this.getAlignedPos(i,o,a),s=r.x,l=r.y,c=e.getData("dimArray"),u=e.getData("valueArray"),h=u.length,d=e.getData("colorArray"),p=d.length,f=e.getData("stringArray"),g=n.getCtx(),m={},v=e.getData("border"),y=e.getData("gradient"),b=e.getData("config"),w="horizontal"==b.orientation,x=b.showAggregates,C=b.showLabels,T=b.Label,S=(w?a:o)/h;if(d&&c&&f){for(var D=0,N=h,k=0,L=0;N>D;D++){if(g.fillStyle=g.strokeStyle=d[D%p],y){var j;j=w?g.createLinearGradient(s+c[D]/2,l+S*D,s+c[D]/2,l+S*(D+1)):g.createLinearGradient(s+S*D,l-c[D]/2,s+S*(D+1),l-c[D]/2);var _=t.rgbToHex(t.map(t.hexToRgb(d[D%p].slice(1)),function(t){return.5*t>>0}));j.addColorStop(0,_),j.addColorStop(.5,d[D%p]),j.addColorStop(1,_),g.fillStyle=j}w?g.fillRect(s,l+S*D,c[D],S):g.fillRect(s+S*D,l-c[D],S,c[D]),v&&v.name==f[D]&&(m.acum=S*D,m.dimValue=c[D]),k+=c[D]||0,L+=u[D]||0}if(v&&(g.save(),g.lineWidth=2,g.strokeStyle=v.color,w?g.strokeRect(s+1,l+m.acum+1,m.dimValue-2,S-2):g.strokeRect(s+m.acum+1,l-m.dimValue+1,S-2,m.dimValue-2),g.restore()),"Native"==T.type){g.save(),g.fillStyle=g.strokeStyle=T.color,g.font=T.style+" "+T.size+"px "+T.family,g.textBaseline="middle";var A=x(e.name,L,e);A!==!1&&(A=A!==!0?A:L,w?(g.textAlign="right",g.fillText(A,s+Math.max.apply(null,c)-b.labelOffset,l+a/2)):(g.textAlign="center",g.fillText(A,s+o/2,l-Math.max.apply(null,c)-T.size/2-b.labelOffset))),C(e.name,L,e)&&(w?(g.textAlign="center",g.translate(s-b.labelOffset-T.size/2,l+a/2),g.rotate(Math.PI/2),g.fillText(e.name,0,0)):(g.textAlign="center",g.fillText(e.name,s+o/2,l+T.size/2+b.labelOffset))),g.restore()}}},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height"),a=this.getAlignedPos(n,i,o),r=a.x,s=a.y,l=t.getData("dimArray"),c=l.length,u=t.getData("config"),h=(e.x-r,"horizontal"==u.orientation),d=(h?o:i)/c;if(h){if(e.x<r||e.x>r+i||e.y>s+o||e.y<s)return!1}else if(e.x<r||e.x>r+i||e.y>s||e.y<s-o)return!1;for(var p=0,f=l.length;f>p;p++){var g=l[p];if(h){var m=s+d*p;if(e.x<=r+g&&e.y>=m&&e.y<=m+d)return{name:t.getData("stringArray")[p],color:t.getData("colorArray")[p],value:t.getData("valueArray")[p],label:t.name}}else{var m=r+d*p;if(e.x>=m&&e.x<=m+d&&e.y>=s-g)return{name:t.getData("stringArray")[p],color:t.getData("colorArray")[p],value:t.getData("valueArray")[p],label:t.name}}}return!1}}}),$jit.BarChart=new e({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(e){this.controller=this.config=t.merge(o("Canvas","Margin","Label","BarChart"),{Label:{type:"Native"}},e);var n=this.config.showLabels,i=t.type(n),a=this.config.showAggregates,r=t.type(a);this.config.showLabels="function"==i?n:t.lambda(n),this.config.showAggregates="function"==r?a:t.lambda(a),this.initializeViz()},initializeViz:function(){var e=this.config,n=this,i=e.type.split(":")[0],o="horizontal"==e.orientation,a={},r=new $jit.ST({injectInto:e.injectInto,width:e.width,height:e.height,orientation:o?"left":"bottom",levelDistance:0,siblingOffset:e.barsOffset,subtreeOffset:0,withLabels:"Native"!=e.Label.type,useCanvas:e.useCanvas,Label:{type:e.Label.type},Node:{overridable:!0,type:"barchart-"+i,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:e.Tips.enable,type:"Native",force:!0,onShow:function(t,n,i){var o=i;e.Tips.onShow(t,o,n)}},Events:{enable:!0,type:"Native",onClick:function(t,n,i){if(e.Events.enable){var o=n.getContains();e.Events.onClick(o,n,i)}},onMouseMove:function(t,i){if(e.hoveredColor)if(t){var o=i.getContains();n.select(t.id,o.name,o.index)}else n.select(!1,!1,!1)}},onCreateLabel:function(n,i){var o=e.Label,r=i.getData("valueArray"),s=t.reduce(r,function(t,e){return t+e},0),l={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},c=l.wrapper,u=l.label,h=l.aggregate,d=c.style,p=u.style,f=h.style;a[i.id]=l,c.appendChild(u),c.appendChild(h),e.showLabels(i.name,s,i)||(p.display="none"),e.showAggregates(i.name,s,i)||(f.display="none"),d.position="relative",d.overflow="visible",d.fontSize=o.size+"px",d.fontFamily=o.family,d.color=o.color,d.textAlign="center",f.position=p.position="absolute",n.style.width=i.getData("width")+"px",n.style.height=i.getData("height")+"px",f.left=p.left="0px",u.innerHTML=i.name,n.appendChild(c)},onPlaceLabel:function(t,n){if(a[n.id]){{var i=a[n.id],o=i.wrapper.style,r=i.label.style,s=i.aggregate.style,l="grouped"==e.type.split(":")[0],c="horizontal"==e.orientation,u=n.getData("dimArray"),h=n.getData("valueArray"),d=l&&c?Math.max.apply(null,u):n.getData("width"),p=l&&!c?Math.max.apply(null,u):n.getData("height"),f=parseInt(o.fontSize,10);t.style}if(u&&h){o.width=s.width=r.width=t.style.width=d+"px";for(var g=0,m=h.length,v=0;m>g;g++)u[g]>0&&(v+=h[g]);r.display=e.showLabels(n.name,v,n)?"":"none";var y=e.showAggregates(n.name,v,n);s.display=y!==!1?"":"none","horizontal"==e.orientation?(s.textAlign="right",r.textAlign="left",r.textIndex=s.textIndent=e.labelOffset+"px",s.top=r.top=(p-f)/2+"px",t.style.height=o.height=p+"px"):(s.top=-f-e.labelOffset+"px",r.top=e.labelOffset+p+"px",t.style.top=parseInt(t.style.top,10)-p+"px",t.style.height=o.height=p+"px"),i.aggregate.innerHTML=y!==!0?y:v}}}}),s=r.canvas.getSize(),l=e.Margin;o?(r.config.offsetX=s.width/2-l.left-(e.showLabels&&e.labelOffset+e.Label.size),r.config.offsetY=(l.bottom-l.top)/2):(r.config.offsetY=-s.height/2+l.bottom+(e.showLabels&&e.labelOffset+e.Label.size),r.config.offsetX=(l.right-l.left)/2),this.delegate=r,this.canvas=this.delegate.canvas},loadJSON:function(e){if(!this.busy){this.busy=!0;for(var n=t.time(),i=[],o=this.delegate,a=t.splat(e.label),r=t.splat(e.color||this.colors),s=this.config,l=!!s.type.split(":")[1],c=s.animate,u="horizontal"==s.orientation,h=this,d=0,p=e.values,f=p.length;f>d;d++){var g=p[d],m=t.splat(p[d].values);i.push({id:n+g.label,name:g.label,data:{value:m,$valueArray:m,$colorArray:r,$stringArray:a,$gradient:l,$config:s},children:[]})}var v={id:n+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:i};o.loadJSON(v),this.normalizeDims(),o.compute(),o.select(o.root),c?u?o.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){h.busy=!1
}}):o.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){h.busy=!1}}):this.busy=!1}},updateJSON:function(e,n){if(!this.busy){this.busy=!0,this.select(!1,!1,!1);var i=this.delegate,o=i.graph,a=e.values,r=this.config.animate,s=this,l="horizontal"==this.config.orientation;t.each(a,function(n){var i=o.getByName(n.label);i&&(i.setData("valueArray",t.splat(n.values)),e.label&&i.setData("stringArray",t.splat(e.label)))}),this.normalizeDims(),i.compute(),i.select(i.root),r&&(l?i.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){s.busy=!1,n&&n.onComplete()}}):i.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){s.busy=!1,n&&n.onComplete()}}))}},select:function(t,e){if(this.config.hoveredColor){var n=this.selected;(n.id!=t||n.name!=e)&&(n.id=t,n.name=e,n.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(e){t==e.id?e.setData("border",n):e.setData("border",!1)}),this.delegate.plot())}},getLegend:function(){var e,n={};this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(t){e=t.nodeTo});var i=e.getData("colorArray"),o=i.length;return t.each(e.getData("stringArray"),function(t,e){n[t]=i[e%o]}),n},getMaxValue:function(){var e=0,n="stacked"==this.config.type.split(":")[0];return this.delegate.graph.eachNode(function(i){var o=i.getData("valueArray"),a=0;o&&(n?t.each(o,function(t){a+=+t}):a=Math.max.apply(null,o),e=e>a?e:a)}),e},setBarType:function(t){this.config.type=t,this.delegate.config.Node.type="barchart-"+t.split(":")[0]},normalizeDims:function(){var e=this.delegate.graph.getNode(this.delegate.root),n=0;e.eachAdjacency(function(){n++});var i=this.getMaxValue()||1,o=this.delegate.canvas.getSize(),a=this.config,r=a.Margin,s=r.left+r.right,l=r.top+r.bottom,c="horizontal"==a.orientation,u=(o[c?"height":"width"]-(c?l:s)-(n-1)*a.barsOffset)/n,h=a.animate,d=o[c?"width":"height"]-(c?s:l)-(!c&&a.showAggregates&&a.Label.size+a.labelOffset)-(a.showLabels&&a.Label.size+a.labelOffset),p=c?"height":"width",f=c?"width":"height";this.delegate.graph.eachNode(function(e){var n=0,o=[];if(t.each(e.getData("valueArray"),function(t){n+=+t,o.push(0)}),e.setData(p,u),h){e.setData(f,n*d/i,"end"),e.setData("dimArray",t.map(e.getData("valueArray"),function(t){return t*d/i}),"end");var a=e.getData("dimArray");a||e.setData("dimArray",o)}else e.setData(f,n*d/i),e.setData("dimArray",t.map(e.getData("valueArray"),function(t){return t*d/i}))})}}),o.PieChart={$extend:!0,animate:!0,offset:25,sliceOffset:0,labelOffset:3,type:"stacked",hoveredColor:"#9fd4ff",Events:{enable:!1,onClick:t.empty},Tips:{enable:!1,onShow:t.empty,onHide:t.empty},showLabels:!0,resizeLabels:!1,updateHeights:!1},b.Radial=new e({compute:function(e){var n=t.splat(e||["current","start","end"]);w.compute(this.graph,n,this.config),this.graph.computeLevels(this.root,0,"ignore");var i=this.createLevelDistanceFunc();this.computeAngularWidths(n),this.computePositions(n,i)},computePositions:function(t,e){for(var n=t,i=this.graph,o=i.getNode(this.root),a=this.parent,r=(this.config,0),s=n.length;s>r;r++){var l=n[r];o.setPos(h(0,0),l),o.setData("span",2*Math.PI,l)}o.angleSpan={begin:0,end:2*Math.PI},i.eachBFS(this.root,function(t){var i=t.angleSpan.end-t.angleSpan.begin,o=t.angleSpan.begin,r=e(t),s=0,l=[],c={};t.eachSubnode(function(t){s+=t._treeAngularWidth;for(var e=0,i=n.length;i>e;e++){var o=n[e],a=t.getData("dim",o);c[o]=o in c?a>c[o]?a:c[o]:a}l.push(t)},"ignore"),a&&a.id==t.id&&l.length>0&&l[0].dist&&l.sort(function(t,e){return(t.dist>=e.dist)-(t.dist<=e.dist)});for(var u=0,d=l.length;d>u;u++){var p=l[u];if(!p._flag){for(var f=p._treeAngularWidth/s*i,g=o+f/2,m=0,v=n.length;v>m;m++){var y=n[m];p.setPos(h(g,r),y),p.setData("span",f,y),p.setData("dim-quotient",p.getData("dim",y)/c[y],y)}p.angleSpan={begin:o,end:o+f},o+=f}}},"ignore")},setAngularWidthForNodes:function(t){this.graph.eachBFS(this.root,function(e,n){var i=e.getData("angularWidth",t[0])||5;e._angularWidth=i/n},"ignore")},setSubtreesAngularWidth:function(){var t=this;this.graph.eachNode(function(e){t.setSubtreeAngularWidth(e)},"ignore")},setSubtreeAngularWidth:function(t){var e=this,n=t._angularWidth,i=0;t.eachSubnode(function(t){e.setSubtreeAngularWidth(t),i+=t._treeAngularWidth},"ignore"),t._treeAngularWidth=Math.max(n,i)},computeAngularWidths:function(t){this.setAngularWidthForNodes(t),this.setSubtreesAngularWidth()}}),$jit.Sunburst=new e({Implements:[y,l,b.Radial],initialize:function(e){var n=$jit.Sunburst,i={interpolation:"linear",levelDistance:100,Node:{type:"multipie",height:0},Edge:{type:"none"},Label:{textAlign:"start",textBaseline:"middle"}};this.controller=this.config=t.merge(o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),i,e);var a=this.config;a.useCanvas?(this.canvas=a.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(a.background&&(a.background=t.merge({type:"Circles"},a.background)),this.canvas=new c(this,a),this.config.labelContainer=("string"==typeof a.injectInto?a.injectInto:a.injectInto.id)+"-label"),this.graphOptions={klass:u,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new n.Label[a.Label.type](this),this.fx=new n.Plot(this,n),this.op=new n.Op(this),this.json=null,this.root=null,this.rotated=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var t=this.config.levelDistance;return function(e){return(e._depth+1)*t}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},rotate:function(t,e,n){var i=t.getPos(n.property||"current").getp(!0).theta;this.rotated=t,this.rotateAngle(-i,e,n)},rotateAngle:function(e,n,i){var o=t.merge(this.config,i||{},{modes:["polar"]}),a=i.property||("animate"===n?"end":"current");"animate"===n&&this.fx.animation.pause(),this.graph.eachNode(function(t){var n=t.getPos(a);n.theta+=e,n.theta<0&&(n.theta+=2*Math.PI)}),"animate"==n?this.fx.animate(o):"replot"==n&&(this.fx.plot(),this.busy=!1)},plot:function(){this.fx.plot()}}),$jit.Sunburst.$extend=!0,function(n){n.Op=new e({Implements:g.Op}),n.Plot=new e({Implements:g.Plot}),n.Label={},n.Label.Native=new e({Implements:g.Label.Native,initialize:function(t){this.viz=t,this.label=t.config.Label,this.config=t.config},renderLabel:function(t,e,n){var i=e.getData("span");if(!(i<Math.PI/2&&Math.tan(i)*this.config.levelDistance*e._depth<10)){var o=t.getCtx(),a=o.measureText(e.name);if(e.id==this.viz.root)var r=-a.width/2,s=0,l=0;else{var c=5,u=(n.levelDistance-c,e.pos.clone());u.rho+=c;var h=u.getp(!0),d=u.getc(!0),r=d.x,s=d.y,p=Math.PI,f=h.theta>p/2&&h.theta<3*p/2,l=f?h.theta+p:h.theta;f?(r-=Math.abs(Math.cos(h.theta)*a.width),s+=Math.sin(h.theta)*a.width):e.id==this.viz.root&&(r-=a.width/2)}o.save(),o.translate(r,s),o.rotate(l),o.fillText(e.name,0,0),o.restore()}}}),n.Label.SVG=new e({Implements:g.Label.SVG,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz,a=this.viz.canvas,r=a.getSize(),s={x:Math.round(i.x+r.width/2),y:Math.round(i.y+r.height/2)};t.setAttribute("x",s.x),t.setAttribute("y",s.y);var l=t.getBBox();if(l){var c=t.getAttribute("x"),u=t.getAttribute("y"),h=e.pos.getp(!0),d=Math.PI,p=h.theta>d/2&&h.theta<3*d/2;p?(t.setAttribute("x",c-l.width),t.setAttribute("y",u-l.height)):e.id==o.root&&t.setAttribute("x",c-l.width/2);var f=p?h.theta+d:h.theta;e._depth&&t.setAttribute("transform","rotate("+360*f/(2*d)+" "+c+" "+u+")")}n.onPlaceLabel(t,e)}}),n.Label.HTML=new e({Implements:g.Label.HTML,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.clone(),o=this.viz.canvas,a=e.getData("height"),r=(a||0==e._depth?a:this.viz.config.levelDistance)/2,s=o.getSize();i.rho+=r,i=i.getc(!0);var l={x:Math.round(i.x+s.width/2),y:Math.round(i.y+s.height/2)},c=t.style;c.left=l.x+"px",c.top=l.y+"px",c.display=this.fitsInCanvas(l,o)?"":"none",n.onPlaceLabel(t,e)}}),n.Plot.NodeTypes=new e({none:{render:t.empty,contains:t.lambda(!1),anglecontains:function(t,e){var n=t.getData("span")/2,i=t.pos.theta,o=i-n,a=i+n;0>o&&(o+=2*Math.PI);var r=Math.atan2(e.y,e.x);return 0>r&&(r+=2*Math.PI),o>a?r>o&&r<=2*Math.PI||a>r:r>o&&a>r}},pie:{render:function(t,e){var n=t.getData("span")/2,i=t.pos.theta,o=i-n,a=i+n,r=t.pos.getp(!0),s=new u(r.rho,o),l=s.getc(!0);s.theta=a;var c=s.getc(!0),h=e.getCtx();h.beginPath(),h.moveTo(0,0),h.lineTo(l.x,l.y),h.moveTo(0,0),h.lineTo(c.x,c.y),h.moveTo(0,0),h.arc(0,0,r.rho*t.getData("dim-quotient"),o,a,!1),h.fill()},contains:function(t,e){if(this.nodeTypes.none.anglecontains.call(this,t,e)){var n=Math.sqrt(e.x*e.x+e.y*e.y),i=this.config.levelDistance,o=t._depth;return i*o>=n}return!1}},multipie:{render:function(t,e){var n=t.getData("height"),i=n?n:this.config.levelDistance,o=t.getData("span")/2,a=t.pos.theta,r=a-o,s=a+o,l=t.pos.getp(!0),c=new u(l.rho,r),h=c.getc(!0);c.theta=s;var d=c.getc(!0);c.rho+=i;var p=c.getc(!0);c.theta=r;var f=c.getc(!0),g=e.getCtx();g.moveTo(0,0),g.beginPath(),g.arc(0,0,l.rho,r,s,!1),g.arc(0,0,l.rho+i,s,r,!0),g.moveTo(h.x,h.y),g.lineTo(f.x,f.y),g.moveTo(d.x,d.y),g.lineTo(p.x,p.y),g.fill(),t.collapsed&&(g.save(),g.lineWidth=2,g.moveTo(0,0),g.beginPath(),g.arc(0,0,l.rho+i+5,s-.01,r+.01,!0),g.stroke(),g.restore())},contains:function(t,e){if(this.nodeTypes.none.anglecontains.call(this,t,e)){var n=Math.sqrt(e.x*e.x+e.y*e.y),i=t.getData("height"),o=i?i:this.config.levelDistance,a=this.config.levelDistance,r=t._depth;return n>=a*r&&a*r+o>=n}return!1}},"gradient-multipie":{render:function(e,n){var i=n.getCtx(),o=e.getData("height"),a=o?o:this.config.levelDistance,r=i.createRadialGradient(0,0,e.getPos().rho,0,0,e.getPos().rho+a),s=t.hexToRgb(e.getData("color")),l=[];t.each(s,function(t){l.push(parseInt(.5*t,10))});var c=t.rgbToHex(l);r.addColorStop(0,c),r.addColorStop(1,e.getData("color")),i.fillStyle=r,this.nodeTypes.multipie.render.call(this,e,n)},contains:function(t,e){return this.nodeTypes.multipie.contains.call(this,t,e)}},"gradient-pie":{render:function(e,n){var i=n.getCtx(),o=i.createRadialGradient(0,0,0,0,0,e.getPos().rho),a=t.hexToRgb(e.getData("color")),r=[];t.each(a,function(t){r.push(parseInt(.5*t,10))});var s=t.rgbToHex(r);o.addColorStop(1,s),o.addColorStop(0,e.getData("color")),i.fillStyle=o,this.nodeTypes.pie.render.call(this,e,n)},contains:function(t,e){return this.nodeTypes.pie.contains.call(this,t,e)}}}),n.Plot.EdgeTypes=new e({none:t.empty,line:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);this.edgeHelper.line.render(n,i,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(n,i,e,this.edge.epsilon)}},arrow:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.getData("dim"),a=t.data.$direction,r=a&&a.length>1&&a[0]!=t.nodeFrom.id;this.edgeHelper.arrow.render(n,i,o,r,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(n,i,e,this.edge.epsilon)}},hyperline:{render:function(t,e){var n=t.nodeFrom.pos.getc(),i=t.nodeTo.pos.getc(),o=Math.max(n.norm(),i.norm());this.edgeHelper.hyperline.render(n.$scale(1/o),i.$scale(1/o),o,e)},contains:t.lambda(!1)}})}($jit.Sunburst),$jit.Sunburst.Plot.NodeTypes.implement({"piechart-stacked":{render:function(e,n){var i=(e.pos.getp(!0),e.getData("dimArray")),o=e.getData("valueArray"),a=e.getData("colorArray"),r=a.length,s=e.getData("stringArray"),l=e.getData("span")/2,c=e.pos.theta,h=c-l,d=c+l,p=new u,f=n.getCtx(),g={},m=e.getData("gradient"),v=e.getData("border"),y=e.getData("config"),b=y.showLabels,w=y.resizeLabels,x=y.Label,C=y.sliceOffset*Math.cos((h+d)/2),T=y.sliceOffset*Math.sin((h+d)/2);if(a&&i&&s){for(var S=0,D=i.length,N=0,k=0;D>S;S++){var L=i[S],j=a[S%r];if(!(0>=L)){if(f.fillStyle=f.strokeStyle=j,m&&L){var _=f.createRadialGradient(C,T,N+y.sliceOffset,C,T,N+L+y.sliceOffset),A=t.hexToRgb(j),E=t.map(A,function(t){return.8*t>>0}),$=t.rgbToHex(E);_.addColorStop(0,j),_.addColorStop(.5,j),_.addColorStop(1,$),f.fillStyle=_}p.rho=N+y.sliceOffset,p.theta=h;{p.getc(!0)}p.theta=d;{p.getc(!0)}p.rho+=L;{p.getc(!0)}p.theta=h;{p.getc(!0)}f.beginPath(),f.arc(C,T,N+.01,h,d,!1),f.arc(C,T,N+L+.01,d,h,!0),f.fill(),v&&v.name==s[S]&&(g.acum=N,g.dimValue=i[S],g.begin=h,g.end=d),N+=L||0,k+=o[S]||0}}if(v){f.save(),f.globalCompositeOperation="source-over",f.lineWidth=2,f.strokeStyle=v.color;f.beginPath(),f.arc(C,T,g.acum+.01+1,g.begin,g.end,!1),f.arc(C,T,g.acum+g.dimValue+.01-1,g.end,g.begin,!0),f.closePath(),f.stroke(),f.restore()}if(b&&"Native"==x.type){f.save(),f.fillStyle=f.strokeStyle=x.color;var M=w?e.getData("normalizedDim"):1,P=x.size*M>>0;P=+w>P?+w:P,f.font=x.style+" "+P+"px "+x.family,f.textBaseline="middle",f.textAlign="center",p.rho=N+y.labelOffset+y.sliceOffset,p.theta=e.pos.theta;var O=p.getc(!0);f.fillText(e.name,O.x,O.y),f.restore()}}},contains:function(t,e){if(this.nodeTypes.none.anglecontains.call(this,t,e)){var n=Math.sqrt(e.x*e.x+e.y*e.y),i=this.config.levelDistance,o=t._depth,a=t.getData("config");if(n<=i*o+a.sliceOffset)for(var r=t.getData("dimArray"),s=0,l=r.length,c=a.sliceOffset;l>s;s++){var u=r[s];if(n>=c&&c+u>=n)return{name:t.getData("stringArray")[s],color:t.getData("colorArray")[s],value:t.getData("valueArray")[s],label:t.name};c+=u}return!1}return!1}}}),$jit.PieChart=new e({sb:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(e){this.controller=this.config=t.merge(o("Canvas","PieChart","Label"),{Label:{type:"Native"}},e),this.initializeViz()},initializeViz:function(){var t=this.config,e=this,n=t.type.split(":")[0],i=new $jit.Sunburst({injectInto:t.injectInto,width:t.width,height:t.height,useCanvas:t.useCanvas,withLabels:"Native"!=t.Label.type,Label:{type:t.Label.type},Node:{overridable:!0,type:"piechart-"+n,width:1,height:1},Edge:{type:"none"},Tips:{enable:t.Tips.enable,type:"Native",force:!0,onShow:function(e,n,i){var o=i;t.Tips.onShow(e,o,n)}},Events:{enable:!0,type:"Native",onClick:function(e,n,i){if(t.Events.enable){var o=n.getContains();t.Events.onClick(o,n,i)}},onMouseMove:function(n,i){if(t.hoveredColor)if(n){var o=i.getContains();e.select(n.id,o.name,o.index)}else e.select(!1,!1,!1)}},onCreateLabel:function(e,n){var i=t.Label;if(t.showLabels){var o=e.style;o.fontSize=i.size+"px",o.fontFamily=i.family,o.color=i.color,o.textAlign="center",e.innerHTML=n.name}},onPlaceLabel:function(n,i){if(t.showLabels){var o=i.pos.getp(!0),a=i.getData("dimArray"),r=i.getData("span")/2,s=i.pos.theta,l=s-r,c=s+r,h=new u,d=(t.showLabels,t.resizeLabels),p=t.Label;if(a){for(var f=0,g=a.length,m=0;g>f;f++)m+=a[f];var v=d?i.getData("normalizedDim"):1,y=p.size*v>>0;y=+d>y?+d:y,n.style.fontSize=y+"px",h.rho=m+t.labelOffset+t.sliceOffset,h.theta=(l+c)/2;var o=h.getc(!0),b=e.canvas.getSize(),w={x:Math.round(o.x+b.width/2),y:Math.round(o.y+b.height/2)};n.style.left=w.x+"px",n.style.top=w.y+"px"}}}}),o=i.canvas.getSize(),a=Math.min;i.config.levelDistance=a(o.width,o.height)/2-t.offset-t.sliceOffset,this.delegate=i,this.canvas=this.delegate.canvas,this.canvas.getCtx().globalCompositeOperation="lighter"},loadJSON:function(e){for(var n=t.time(),i=[],o=this.delegate,a=t.splat(e.label),r=a.length,s=t.splat(e.color||this.colors),l=s.length,c=this.config,u=!!c.type.split(":")[1],h=c.animate,d=1==r,p=0,f=e.values,g=f.length;g>p;p++){var m=f[p],v=t.splat(m.values);i.push({id:n+m.label,name:m.label,data:{value:v,$valueArray:v,$colorArray:d?t.splat(s[p%l]):s,$stringArray:a,$gradient:u,$config:c,$angularWidth:t.reduce(v,function(t,e){return t+e})},children:[]})}var y={id:n+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:i};o.loadJSON(y),this.normalizeDims(),o.refresh(),h&&o.fx.animate({modes:["node-property:dimArray"],duration:1500})},updateJSON:function(e,n){if(!this.busy){this.busy=!0;var i=this.delegate,o=i.graph,a=e.values,r=this.config.animate,s=this;t.each(a,function(n){var i=o.getByName(n.label),a=t.splat(n.values);i&&(i.setData("valueArray",a),i.setData("angularWidth",t.reduce(a,function(t,e){return t+e})),e.label&&i.setData("stringArray",t.splat(e.label)))}),this.normalizeDims(),r?(i.compute("end"),i.fx.animate({modes:["node-property:dimArray:span","linear"],duration:1500,onComplete:function(){s.busy=!1,n&&n.onComplete()}})):i.refresh()}},select:function(t,e){if(this.config.hoveredColor){var n=this.selected;(n.id!=t||n.name!=e)&&(n.id=t,n.name=e,n.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(e){t==e.id?e.setData("border",n):e.setData("border",!1)}),this.delegate.plot())}},getLegend:function(){var e,n={};this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(t){e=t.nodeTo});var i=e.getData("colorArray"),o=i.length;return t.each(e.getData("stringArray"),function(t,e){n[t]=i[e%o]}),n},getMaxValue:function(){var e=0;return this.delegate.graph.eachNode(function(n){var i=n.getData("valueArray"),o=0;t.each(i,function(t){o+=+t}),e=e>o?e:o}),e},normalizeDims:function(){var e=this.delegate.graph.getNode(this.delegate.root),n=0;e.eachAdjacency(function(){n++});var i=this.getMaxValue()||1,o=this.config,a=o.animate,r=this.delegate.config.levelDistance;this.delegate.graph.eachNode(function(e){var n=0,s=[];t.each(e.getData("valueArray"),function(t){n+=+t,s.push(1)});var l=1==s.length&&!o.updateHeights;if(a){e.setData("dimArray",t.map(e.getData("valueArray"),function(t){return l?r:t*r/i}),"end");var c=e.getData("dimArray");c||e.setData("dimArray",s)}else e.setData("dimArray",t.map(e.getData("valueArray"),function(t){return l?r:t*r/i}));e.setData("normalizedDim",n/i)})}}),b.TM={},b.TM.SliceAndDice=new e({compute:function(t){var e=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(e);var n=this.canvas.getSize(),i=this.config,o=n.width,a=n.height;this.graph.computeLevels(this.root,0,"ignore"),e.getPos(t).setc(-o/2,-a/2),e.setData("width",o,t),e.setData("height",a+i.titleHeight,t),this.computePositions(e,e,this.layout.orientation,t),this.controller.onAfterCompute(e)},computePositions:function(t,e,n,i){var o=0;t.eachSubnode(function(t){o+=t.getData("area",i)});var a,r,s,l,c,u,h,d=this.config,p=(d.offset,t.getData("width",i)),f=Math.max(t.getData("height",i)-d.titleHeight,0),g=t==e?1:e.getData("area",i)/o,m="h"==n;m?(n="v",a=f,r=p*g,s="height",l="y",c="x",u=d.titleHeight,h=0):(n="h",a=f*g,r=p,s="width",l="x",c="y",u=0,h=d.titleHeight);var v=e.getPos(i);e.setData("width",r,i),e.setData("height",a,i);var y=0,b=this;e.eachSubnode(function(t){var o=t.getPos(i);o[l]=y+v[l]+u,o[c]=v[c]+h,b.computePositions(e,t,n,i),y+=t.getData(s,i)})}}),b.TM.Area={compute:function(t){t=t||"current";var e=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(e);var n=this.config,i=this.canvas.getSize(),o=i.width,a=i.height,r=n.offset,s=o-r,l=a-r;this.graph.computeLevels(this.root,0,"ignore"),e.getPos(t).setc(-o/2,-a/2),e.setData("width",o,t),e.setData("height",a,t);var c={top:-a/2+n.titleHeight,left:-o/2,width:s,height:l-n.titleHeight};this.computePositions(e,c,t),this.controller.onAfterCompute(e)},computeDim:function(t,e,n,i,o,a){if(t.length+e.length==1){var r=1==t.length?t:e;return this.layoutLast(r,n,i,a),void 0}if(t.length>=2&&0==e.length&&(e=[t.shift()]),0==t.length)return e.length>0&&this.layoutRow(e,n,i,a),void 0;var s=t[0];if(o(e,n)>=o([s].concat(e),n))this.computeDim(t.slice(1),e.concat([s]),n,i,o,a);else{var l=this.layoutRow(e,n,i,a);this.computeDim(t,[],l.dim,l,o,a)}},worstAspectRatio:function(t,e){if(!t||0==t.length)return Number.MAX_VALUE;for(var n=0,i=0,o=Number.MAX_VALUE,a=0,r=t.length;r>a;a++){var s=t[a]._area;n+=s,o=s>o?o:s,i=i>s?i:s}var l=e*e,c=n*n;return Math.max(l*i/c,c/(l*o))},avgAspectRatio:function(t,e){if(!t||0==t.length)return Number.MAX_VALUE;for(var n=0,i=0,o=t.length;o>i;i++){var a=t[i]._area,r=a/e;n+=e>r?e/r:r/e}return n/o},layoutLast:function(t,e,n,i){var o=t[0];o.getPos(i).setc(n.left,n.top),o.setData("width",n.width,i),o.setData("height",n.height,i)}},b.TM.Squarified=new e({Implements:b.TM.Area,computePositions:function(t,e,n){var i=this.config,o=Math.max;this.layout.orientation=e.width>=e.height?"h":"v";var a=t.getSubnodes([1,1],"ignore");if(a.length>0){this.processChildrenLayout(t,a,e,n);for(var r=0,s=a.length;s>r;r++){var l=a[r],c=i.offset,u=o(l.getData("height",n)-c-i.titleHeight,0),h=o(l.getData("width",n)-c,0),d=l.getPos(n);e={width:h,height:u,top:d.y+i.titleHeight,left:d.x},this.computePositions(l,e,n)}}},processChildrenLayout:function(t,e,n,i){var o,a=n.width*n.height,r=e.length,s=0,l=[];for(o=0;r>o;o++)l[o]=parseFloat(e[o].getData("area",i)),s+=l[o];for(o=0;r>o;o++)e[o]._area=a*l[o]/s;var c=this.layout.horizontal()?n.height:n.width;e.sort(function(t,e){var n=e._area-t._area;return n?n:e.id==t.id?0:e.id<t.id?1:-1});var u=[e[0]],h=e.slice(1);this.squarify(h,u,c,n,i)},squarify:function(t,e,n,i,o){this.computeDim(t,e,n,i,this.worstAspectRatio,o)},layoutRow:function(t,e,n,i){return this.layout.horizontal()?this.layoutV(t,e,n,i):this.layoutH(t,e,n,i)},layoutV:function(e,n,i,o){var a=0,r=function(t){return t};t.each(e,function(t){a+=t._area});for(var s=r(a/n),l=0,c=0,u=e.length;u>c;c++){var h=r(e[c]._area/s),d=e[c];d.getPos(o).setc(i.left,i.top+l),d.setData("width",s,o),d.setData("height",h,o),l+=h}var p={height:i.height,width:i.width-s,top:i.top,left:i.left+s};return p.dim=Math.min(p.width,p.height),p.dim!=p.height&&this.layout.change(),p},layoutH:function(e,n,i,o){var a=0;t.each(e,function(t){a+=t._area});for(var r=a/n,s=i.top,l=0,c=0,u=e.length;u>c;c++){var h=e[c],n=h._area/r;h.getPos(o).setc(i.left+l,s),h.setData("width",n,o),h.setData("height",r,o),l+=n}var d={height:i.height-r,width:i.width,top:i.top+r,left:i.left};return d.dim=Math.min(d.width,d.height),d.dim!=d.width&&this.layout.change(),d}}),b.TM.Strip=new e({Implements:b.TM.Area,computePositions:function(t,e,n){var i=t.getSubnodes([1,1],"ignore"),o=this.config,a=Math.max;if(i.length>0){this.processChildrenLayout(t,i,e,n);for(var r=0,s=i.length;s>r;r++){var l=i[r],c=o.offset,u=a(l.getData("height",n)-c-o.titleHeight,0),h=a(l.getData("width",n)-c,0),d=l.getPos(n);e={width:h,height:u,top:d.y+o.titleHeight,left:d.x},this.computePositions(l,e,n)}}},processChildrenLayout:function(t,e,n,i){var o,a=n.width*n.height,r=e.length,s=0,l=[];for(o=0;r>o;o++)l[o]=+e[o].getData("area",i),s+=l[o];for(o=0;r>o;o++)e[o]._area=a*l[o]/s;var c=this.layout.horizontal()?n.width:n.height,u=[e[0]],h=e.slice(1);this.stripify(h,u,c,n,i)},stripify:function(t,e,n,i,o){this.computeDim(t,e,n,i,this.avgAspectRatio,o)},layoutRow:function(t,e,n,i){return this.layout.horizontal()?this.layoutH(t,e,n,i):this.layoutV(t,e,n,i)},layoutV:function(e,n,i,o){var a=0;t.each(e,function(t){a+=t._area});for(var r=a/n,s=0,l=0,c=e.length;c>l;l++){var u=e[l],h=u._area/r;u.getPos(o).setc(i.left,i.top+(n-h-s)),u.setData("width",r,o),u.setData("height",h,o),s+=h}return{height:i.height,width:i.width-r,top:i.top,left:i.left+r,dim:n}},layoutH:function(e,n,i,o){var a=0;t.each(e,function(t){a+=t._area});for(var r=a/n,s=i.height-r,l=0,c=0,u=e.length;u>c;c++){var h=e[c],d=h._area/r;h.getPos(o).setc(i.left+l,i.top+s),h.setData("width",d,o),h.setData("height",r,o),l+=d}return{height:i.height-r,width:i.width,top:i.top,left:i.left,dim:n}}}),b.Icicle=new e({compute:function(t){t=t||"current";var e=this.graph.getNode(this.root),n=this.config,i=this.canvas.getSize(),o=i.width,a=i.height,r=(n.offset,n.constrained?n.levelsToShow:Number.MAX_VALUE);this.controller.onBeforeCompute(e),g.Util.computeLevels(this.graph,e.id,0,"ignore");var s=0;g.Util.eachLevel(e,0,!1,function(t,e){e>s&&(s=e)});var l=this.graph.getNode(this.clickedNode&&this.clickedNode.id||e.id),c=Math.min(s,r-1),u=l._depth;this.layout.horizontal()?this.computeSubtree(l,-o/2,-a/2,o/(c+1),a,u,c,t):this.computeSubtree(l,-o/2,-a/2,o,a/(c+1),u,c,t)},computeSubtree:function(e,n,i,o,a,r,s,l){e.getPos(l).setc(n,i),e.setData("width",o,l),e.setData("height",a,l);var c,u=0,h=g.Util.getSubnodes(e,[1,1],"ignore");if(h.length){t.each(h,function(t){u+=t.getData("dim")});for(var d=0,p=h.length;p>d;d++)this.layout.horizontal()?(c=a*h[d].getData("dim")/u,this.computeSubtree(h[d],n+o,i,o,c,r,s,l),i+=c):(c=o*h[d].getData("dim")/u,this.computeSubtree(h[d],n,i+a,c,a,r,s,l),n+=c)}}}),$jit.Icicle=new e({Implements:[y,l,b.Icicle],layout:{orientation:"h",vertical:function(){return"v"==this.orientation},horizontal:function(){return"h"==this.orientation},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(e){var n={animate:!1,orientation:"h",offset:2,levelsToShow:Number.MAX_VALUE,constrained:!1,Node:{type:"rectangle",overridable:!0},Edge:{type:"none"},Label:{type:"Native"},duration:700,fps:45},i=o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label");this.controller=this.config=t.merge(i,n,e),this.layout.orientation=this.config.orientation;var a=this.config;a.useCanvas?(this.canvas=a.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(this.canvas=new c(this,a),this.config.labelContainer=("string"==typeof a.injectInto?a.injectInto:a.injectInto.id)+"-label"),this.graphOptions={klass:d,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label),this.labels=new $jit.Icicle.Label[this.config.Label.type](this),this.fx=new $jit.Icicle.Plot(this,$jit.Icicle),this.op=new $jit.Icicle.Op(this),this.group=new $jit.Icicle.Group(this),this.clickedNode=null,this.initializeExtras()},refresh:function(){var t=this.config.Label.type;if("Native"!=t){var e=this;this.graph.eachNode(function(t){e.labels.hideLabel(t,!1)})}this.compute(),this.plot()},plot:function(){this.fx.plot(this.config)},enter:function(t){if(!this.busy){this.busy=!0;var e=this,n=this.config,i={onComplete:function(){n.request&&e.compute(),n.animate?(e.graph.nodeList.setDataset(["current","end"],{alpha:[1,0]}),g.Util.eachSubgraph(t,function(t){t.setData("alpha",1,"end")},"ignore"),e.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){e.clickedNode=t,e.compute("end"),e.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){e.busy=!1,e.clickedNode=t}})}})):(e.clickedNode=t,e.busy=!1,e.refresh())}};n.request?this.requestNodes(clickedNode,i):i.onComplete()}},out:function(){if(!this.busy){var t=this,e=g.Util,n=this.config,i=this.graph,o=e.getParents(i.getNode(this.clickedNode&&this.clickedNode.id||this.root)),a=o[0],r=a,s=this.clickedNode;if(this.busy=!0,this.events.hoveredNode=!1,!a)return this.busy=!1,void 0;callback={onComplete:function(){t.clickedNode=a,n.request?t.requestNodes(a,{onComplete:function(){t.compute(),t.plot(),t.busy=!1}}):(t.compute(),t.plot(),t.busy=!1)}},n.animate?(this.clickedNode=r,this.compute("end"),this.clickedNode=s,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){t.clickedNode=r,i.nodeList.setDataset(["current","end"],{alpha:[0,1]}),e.eachSubgraph(s,function(t){t.setData("alpha",1)},"ignore"),t.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete()}})}})):callback.onComplete()}},requestNodes:function(e,n){var i=t.merge(this.controller,n),o=this.config.constrained?this.config.levelsToShow:Number.MAX_VALUE;if(i.request){var a=[],r=e._depth;g.Util.eachLevel(e,0,o,function(t){t.drawn&&!g.Util.anySubnode(t)&&(a.push(t),t._level=t._depth-r,this.config.constrained&&(t._level=o-t._level))}),this.group.requestNodes(a,i)}else i.onComplete()}}),$jit.Icicle.Op=new e({Implements:g.Op}),$jit.Icicle.Group=new e({initialize:function(t){this.viz=t,this.canvas=t.canvas,this.config=t.config},requestNodes:function(t,e){var n=0,i=t.length,o={},a=function(){e.onComplete()},r=this.viz;0==i&&a();for(var s=0;i>s;s++)o[t[s].id]=t[s],e.request(t[s].id,t[s]._level,{onComplete:function(t,e){e&&e.children&&(e.id=t,r.op.sum(e,{type:"nothing"})),++n==i&&(g.Util.computeLevels(r.graph,r.root,0),a())}})}}),$jit.Icicle.Plot=new e({Implements:g.Plot,plot:function(e,n){e=e||this.viz.controller;var i=this.viz,o=i.graph,a=o.getNode(i.clickedNode&&i.clickedNode.id||i.root),r=a._depth;i.canvas.clear(),this.plotTree(a,t.merge(e,{withLabels:!0,hideLabels:!1,plotSubtree:function(t,e){return!i.config.constrained||e._depth-r<i.config.levelsToShow}}),n)}}),$jit.Icicle.Label={},$jit.Icicle.Label.Native=new e({Implements:g.Label.Native,renderLabel:function(t,e){var n=t.getCtx(),i=e.getData("width"),o=e.getData("height"),a=e.getLabelData("size"),r=n.measureText(e.name);if(!(1.5*a>o||i<r.width)){var s=e.pos.getc(!0);n.fillText(e.name,s.x+i/2,s.y+o/2)}}}),$jit.Icicle.Label.SVG=new e({Implements:g.Label.SVG,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.getSize(),r={x:Math.round(i.x+a.width/2),y:Math.round(i.y+a.height/2)};t.setAttribute("x",r.x),t.setAttribute("y",r.y),n.onPlaceLabel(t,e)}}),$jit.Icicle.Label.HTML=new e({Implements:g.Label.HTML,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.getSize(),r={x:Math.round(i.x+a.width/2),y:Math.round(i.y+a.height/2)},s=t.style;s.left=r.x+"px",s.top=r.y+"px",s.display="",n.onPlaceLabel(t,e)}}),$jit.Icicle.Plot.NodeTypes=new e({none:{render:t.empty},rectangle:{render:function(e,n){var i=this.viz.config,o=i.offset,a=e.getData("width"),r=e.getData("height"),s=e.getData("border"),l=e.pos.getc(!0),c=l.x+o/2,u=l.y+o/2,h=n.getCtx();if(!(2>a-o||2>r-o)){if(i.cushion){var d=e.getData("color"),p=h.createRadialGradient(c+(a-o)/2,u+(r-o)/2,1,c+(a-o)/2,u+(r-o)/2,r>a?r:a),f=t.rgbToHex(t.map(t.hexToRgb(d),function(t){return.3*t>>0}));p.addColorStop(0,d),p.addColorStop(1,f),h.fillStyle=p}s&&(h.strokeStyle=s,h.lineWidth=3),h.fillRect(c,u,Math.max(0,a-o),Math.max(0,r-o)),s&&h.strokeRect(l.x,l.y,a,r)}},contains:function(t,e){if(this.viz.clickedNode&&!$jit.Graph.Util.isDescendantOf(t,this.viz.clickedNode.id))return!1;var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");return this.nodeHelper.rectangle.contains({x:n.x+i/2,y:n.y+o/2},e,i,o)}}}),$jit.Icicle.Plot.EdgeTypes=new e({none:t.empty}),b.ForceDirected=new e({getOptions:function(){var t=this.canvas.getSize(),e=t.width,n=t.height,i=0;this.graph.eachNode(function(){i++});var o=e*n/i,a=Math.sqrt(o),r=this.config.levelDistance;return{width:e,height:n,tstart:.1*e,nodef:function(t){return o/(t||1)},edgef:function(t){return a*(t-r)}}},compute:function(e,n){var i=t.splat(e||["current","start","end"]),o=this.getOptions();w.compute(this.graph,i,this.config),this.graph.computeLevels(this.root,0,"ignore"),this.graph.eachNode(function(e){t.each(i,function(n){var a=e.getPos(n);a.equals(d.KER)&&(a.x=o.width/5*(Math.random()-.5),a.y=o.height/5*(Math.random()-.5)),e.disp={},t.each(i,function(t){e.disp[t]=p(0,0)})})}),this.computePositions(i,o,n)},computePositions:function(t,e,n){var i=this.config.iterations,o=0,a=this;if(n)!function r(){for(var s=n.iter,l=0;s>l;l++)if(e.t=e.tstart,i&&(e.t*=1-o++/(i-1)),a.computePositionStep(t,e),i&&o>=i)return n.onComplete(),void 0;n.onStep(Math.round(o/(i-1)*100)),setTimeout(r,1)}();else for(;i>o;o++)e.t=e.tstart*(1-o/(i-1)),this.computePositionStep(t,e)},computePositionStep:function(e,n){var i=this.graph,o=Math.min,a=Math.max,r=p(0,0);i.eachNode(function(o){t.each(e,function(t){o.disp[t].x=0,o.disp[t].y=0}),i.eachNode(function(i){i.id!=o.id&&t.each(e,function(t){var e=o.getPos(t),a=i.getPos(t);r.x=e.x-a.x,r.y=e.y-a.y;var s=r.norm()||1;o.disp[t].$add(r.$scale(n.nodef(s)/s))})})});var s=!!i.getNode(this.root).visited;i.eachNode(function(i){i.eachAdjacency(function(o){var a=o.nodeTo;!!a.visited===s&&t.each(e,function(t){var e=i.getPos(t),o=a.getPos(t);r.x=e.x-o.x,r.y=e.y-o.y;var s=r.norm()||1;i.disp[t].$add(r.$scale(-n.edgef(s)/s)),a.disp[t].$add(r.$scale(-1))})}),i.visited=!s});var l=n.t,c=n.width/2,u=n.height/2;i.eachNode(function(n){t.each(e,function(t){var e=n.disp[t],i=e.norm()||1,t=n.getPos(t);t.$add(p(e.x*o(Math.abs(e.x),l)/i,e.y*o(Math.abs(e.y),l)/i)),t.x=o(c,a(-c,t.x)),t.y=o(u,a(-u,t.y))})})}}),$jit.ForceDirected=new e({Implements:[y,l,b.ForceDirected],initialize:function(e){var n=$jit.ForceDirected,i={iterations:50,levelDistance:50};this.controller=this.config=t.merge(o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),i,e);var a=this.config;a.useCanvas?(this.canvas=a.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(a.background&&(a.background=t.merge({type:"Circles"},a.background)),this.canvas=new c(this,a),this.config.labelContainer=("string"==typeof a.injectInto?a.injectInto:a.injectInto.id)+"-label"),this.graphOptions={klass:d,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new n.Label[a.Label.type](this),this.fx=new n.Plot(this,n),this.op=new n.Op(this),this.json=null,this.busy=!1,this.initializeExtras()
},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},computeIncremental:function(e){e=t.merge({iter:20,property:"end",onStep:t.empty,onComplete:t.empty},e||{}),this.config.onBeforeCompute(this.graph.getNode(this.root)),this.compute(e.property,e)},plot:function(){this.fx.plot()},animate:function(e){this.fx.animate(t.merge({modes:["linear"]},e||{}))}}),$jit.ForceDirected.$extend=!0,function(n){n.Op=new e({Implements:g.Op}),n.Plot=new e({Implements:g.Plot}),n.Label={},n.Label.Native=new e({Implements:g.Label.Native}),n.Label.SVG=new e({Implements:g.Label.SVG,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u={x:Math.round(i.x*s+a+c.width/2),y:Math.round(i.y*l+r+c.height/2)};t.setAttribute("x",u.x),t.setAttribute("y",u.y),n.onPlaceLabel(t,e)}}),n.Label.HTML=new e({Implements:g.Label.HTML,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u={x:Math.round(i.x*s+a+c.width/2),y:Math.round(i.y*l+r+c.height/2)},h=t.style;h.left=u.x+"px",h.top=u.y+"px",h.display=this.fitsInCanvas(u,o)?"":"none",n.onPlaceLabel(t,e)}}),n.Plot.NodeTypes=new e({none:{render:t.empty,contains:t.lambda(!1)},circle:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.circle.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.circle.contains(n,e,i)}},ellipse:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");this.nodeHelper.ellipse.render("fill",n,i,o,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");return this.nodeHelper.ellipse.contains(n,e,i,o)}},square:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.square.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.square.contains(n,e,i)}},rectangle:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");this.nodeHelper.rectangle.render("fill",n,i,o,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");return this.nodeHelper.rectangle.contains(n,e,i,o)}},triangle:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.triangle.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.triangle.contains(n,e,i)}},star:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.star.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.star.contains(n,e,i)}}}),n.Plot.EdgeTypes=new e({none:t.empty,line:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);this.edgeHelper.line.render(n,i,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(n,i,e,this.edge.epsilon)}},arrow:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.getData("dim"),a=t.data.$direction,r=a&&a.length>1&&a[0]!=t.nodeFrom.id;this.edgeHelper.arrow.render(n,i,o,r,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(n,i,e,this.edge.epsilon)}}})}($jit.ForceDirected),$jit.TM={};var x=$jit.TM;$jit.TM.$extend=!0,x.Base={layout:{orientation:"h",vertical:function(){return"v"==this.orientation},horizontal:function(){return"h"==this.orientation},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(e){var n={orientation:"h",titleHeight:13,offset:2,levelsToShow:0,constrained:!1,animate:!1,Node:{type:"rectangle",overridable:!0,width:3,height:3,color:"#444"},Label:{textAlign:"center",textBaseline:"top"},Edge:{type:"none"},duration:700,fps:45};this.controller=this.config=t.merge(o("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),n,e),this.layout.orientation=this.config.orientation;var i=this.config;i.useCanvas?(this.canvas=i.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(i.background&&(i.background=t.merge({type:"Circles"},i.background)),this.canvas=new c(this,i),this.config.labelContainer=("string"==typeof i.injectInto?i.injectInto:i.injectInto.id)+"-label"),this.graphOptions={klass:d,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new x.Label[i.Label.type](this),this.fx=new x.Plot(this),this.op=new x.Op(this),this.group=new x.Group(this),this.geom=new x.Geom(this),this.clickedNode=null,this.busy=!1,this.initializeExtras()},refresh:function(){if(!this.busy){this.busy=!0;var e=this;if(this.config.animate)this.compute("end"),this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.fx.animate(t.merge(this.config,{modes:["linear","node-property:width:height"],onComplete:function(){e.busy=!1}}));else{var n=this.config.Label.type;if("Native"!=n){var e=this;this.graph.eachNode(function(t){e.labels.hideLabel(t,!1)})}this.busy=!1,this.compute(),this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.plot()}}},plot:function(){this.fx.plot()},leaf:function(t){return 0==t.getSubnodes([1,1],"ignore").length},enter:function(t){if(!this.busy){this.busy=!0;var e=this,n=this.config,i=this.graph,o=t,a=this.clickedNode,r={onComplete:function(){n.levelsToShow>0&&e.geom.setRightLevelToShow(t),(n.levelsToShow>0||n.request)&&e.compute(),n.animate?(i.nodeList.setData("alpha",0,"end"),t.eachSubgraph(function(t){t.setData("alpha",1,"end")},"ignore"),e.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){e.clickedNode=o,e.compute("end"),e.clickedNode=a,e.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){e.busy=!1,e.clickedNode=o}})}})):(e.busy=!1,e.clickedNode=t,e.refresh())}};n.request?this.requestNodes(o,r):r.onComplete()}},out:function(){if(!this.busy){this.busy=!0,this.events.hoveredNode=!1;var t=this,e=this.config,n=this.graph,i=n.getNode(this.clickedNode&&this.clickedNode.id||this.root).getParents(),o=i[0],a=o,r=this.clickedNode;if(!o)return this.busy=!1,void 0;callback={onComplete:function(){t.clickedNode=o,e.request?t.requestNodes(o,{onComplete:function(){t.compute(),t.plot(),t.busy=!1}}):(t.compute(),t.plot(),t.busy=!1)}},e.levelsToShow>0&&this.geom.setRightLevelToShow(o),e.animate?(this.clickedNode=a,this.compute("end"),this.clickedNode=r,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){t.clickedNode=a,n.eachNode(function(t){t.setDataset(["current","end"],{alpha:[0,1]})},"ignore"),r.eachSubgraph(function(t){t.setData("alpha",1)},"ignore"),t.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete()}})}})):callback.onComplete()}},requestNodes:function(e,n){var i=t.merge(this.controller,n),o=this.config.levelsToShow;if(i.request){var a=[],r=e._depth;e.eachLevel(0,o,function(t){var e=o-(t._depth-r);t.drawn&&!t.anySubnode()&&e>0&&(a.push(t),t._level=e)}),this.group.requestNodes(a,i)}else i.onComplete()},reposition:function(){this.compute("end")}},x.Op=new e({Implements:g.Op,initialize:function(t){this.viz=t}}),x.Geom=new e({Implements:g.Geom,getRightLevelToShow:function(){return this.viz.config.levelsToShow},setRightLevelToShow:function(t){var e=this.getRightLevelToShow(),n=this.viz.labels;t.eachLevel(0,e+1,function(i){var o=i._depth-t._depth;o>e?(i.drawn=!1,i.exist=!1,i.ignore=!0,n.hideLabel(i,!1)):(i.drawn=!0,i.exist=!0,delete i.ignore)}),t.drawn=!0,delete t.ignore}}),x.Group=new e({initialize:function(t){this.viz=t,this.canvas=t.canvas,this.config=t.config},requestNodes:function(t,e){var n=0,i=t.length,o={},a=function(){e.onComplete()},r=this.viz;0==i&&a();for(var s=0;i>s;s++)o[t[s].id]=t[s],e.request(t[s].id,t[s]._level,{onComplete:function(t,e){e&&e.children&&(e.id=t,r.op.sum(e,{type:"nothing"})),++n==i&&(r.graph.computeLevels(r.root,0),a())}})}}),x.Plot=new e({Implements:g.Plot,initialize:function(t){this.viz=t,this.config=t.config,this.node=this.config.Node,this.edge=this.config.Edge,this.animation=new i,this.nodeTypes=new x.Plot.NodeTypes,this.edgeTypes=new x.Plot.EdgeTypes,this.labels=t.labels},plot:function(e,n){var i=this.viz,o=i.graph;i.canvas.clear(),this.plotTree(o.getNode(i.clickedNode&&i.clickedNode.id||i.root),t.merge(i.config,e||{},{withLabels:!0,hideLabels:!1,plotSubtree:function(t){return t.anySubnode("exist")}}),n)}}),x.Label={},x.Label.Native=new e({Implements:g.Label.Native,initialize:function(t){this.config=t.config,this.leaf=t.leaf},renderLabel:function(t,e){if(this.leaf(e)||this.config.titleHeight){var n=e.pos.getc(!0),i=t.getCtx(),o=e.getData("width"),a=(e.getData("height"),n.x+o/2),r=n.y;i.fillText(e.name,a,r,o)}}}),x.Label.SVG=new e({Implements:g.Label.SVG,initialize:function(t){this.viz=t,this.leaf=t.leaf,this.config=t.config},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u={x:Math.round(i.x*s+a+c.width/2),y:Math.round(i.y*l+r+c.height/2)};t.setAttribute("x",u.x),t.setAttribute("y",u.y),this.leaf(e)||this.config.titleHeight||(t.style.display="none"),n.onPlaceLabel(t,e)}}),x.Label.HTML=new e({Implements:g.Label.HTML,initialize:function(t){this.viz=t,this.leaf=t.leaf,this.config=t.config},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u={x:Math.round(i.x*s+a+c.width/2),y:Math.round(i.y*l+r+c.height/2)},h=t.style;h.left=u.x+"px",h.top=u.y+"px",h.width=e.getData("width")*s+"px",h.height=e.getData("height")*l+"px",h.zIndex=100*e._depth,h.display="",this.leaf(e)||this.config.titleHeight||(t.style.display="none"),n.onPlaceLabel(t,e)}}),x.Plot.NodeTypes=new e({none:{render:t.empty},rectangle:{render:function(e,n){var i=this.viz.leaf(e),o=this.config,a=o.offset,r=o.titleHeight,s=e.pos.getc(!0),l=e.getData("width"),c=e.getData("height"),u=e.getData("border"),h=n.getCtx(),d=s.x+a/2,p=s.y+a/2;if(!(a>=l||a>=c))if(i){if(o.cushion){var f=h.createRadialGradient(d+(l-a)/2,p+(c-a)/2,1,d+(l-a)/2,p+(c-a)/2,c>l?c:l),g=e.getData("color"),m=t.rgbToHex(t.map(t.hexToRgb(g),function(t){return.2*t>>0}));f.addColorStop(0,g),f.addColorStop(1,m),h.fillStyle=f}h.fillRect(d,p,l-a,c-a),u&&(h.save(),h.strokeStyle=u,h.strokeRect(d,p,l-a,c-a),h.restore())}else r>0&&(h.fillRect(s.x+a/2,s.y+a/2,l-a,r-a),u&&(h.save(),h.strokeStyle=u,h.strokeRect(s.x+a/2,s.y+a/2,l-a,c-a),h.restore()))},contains:function(t,e){if(this.viz.clickedNode&&!t.isDescendantOf(this.viz.clickedNode.id)||t.ignore)return!1;var n=t.pos.getc(!0),i=t.getData("width"),o=this.viz.leaf(t),a=o?t.getData("height"):this.config.titleHeight;return this.nodeHelper.rectangle.contains({x:n.x+i/2,y:n.y+a/2},e,i,a)}}}),x.Plot.EdgeTypes=new e({none:t.empty}),x.SliceAndDice=new e({Implements:[y,l,x.Base,b.TM.SliceAndDice]}),x.Squarified=new e({Implements:[y,l,x.Base,b.TM.Squarified]}),x.Strip=new e({Implements:[y,l,x.Base,b.TM.Strip]}),$jit.RGraph=new e({Implements:[y,l,b.Radial],initialize:function(e){var n=$jit.RGraph,i={interpolation:"linear",levelDistance:100};this.controller=this.config=t.merge(o("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),i,e);var a=this.config;a.useCanvas?(this.canvas=a.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(a.background&&(a.background=t.merge({type:"Circles"},a.background)),this.canvas=new c(this,a),this.config.labelContainer=("string"==typeof a.injectInto?a.injectInto:a.injectInto.id)+"-label"),this.graphOptions={klass:u,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new n.Label[a.Label.type](this),this.fx=new n.Plot(this,n),this.op=new n.Op(this),this.json=null,this.root=null,this.busy=!1,this.parent=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var t=this.config.levelDistance;return function(e){return(e._depth+1)*t}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},plot:function(){this.fx.plot()},getNodeAndParentAngle:function(t){var e=!1,n=this.graph.getNode(t),i=n.getParents(),o=i.length>0?i[0]:!1;if(o){var a=o.pos.getc(),r=n.pos.getc(),s=a.add(r.scale(-1));e=Math.atan2(s.y,s.x),0>e&&(e+=2*Math.PI)}return{parent:o,theta:e}},tagChildren:function(t,e){if(t.angleSpan){var n=[];t.eachAdjacency(function(t){n.push(t.nodeTo)},"ignore");for(var i=n.length,o=0;i>o&&e!=n[o].id;o++);for(var a=(o+1)%i,r=0;e!=n[a].id;a=(a+1)%i)n[a].dist=r++}},onClick:function(e,n){if(this.root!=e&&!this.busy){this.busy=!0,this.root=e;var i=this;this.controller.onBeforeCompute(this.graph.getNode(e));var o=this.getNodeAndParentAngle(e);this.tagChildren(o.parent,e),this.parent=o.parent,this.compute("end");var a=o.theta-o.parent.endPos.theta;this.graph.eachNode(function(t){t.endPos.set(t.endPos.getp().add(h(a,0)))});var r=this.config.interpolation;n=t.merge({onComplete:t.empty},n||{}),this.fx.animate(t.merge({hideLabels:!0,modes:[r]},n,{onComplete:function(){i.busy=!1,n.onComplete()}}))}}}),$jit.RGraph.$extend=!0,function(n){n.Op=new e({Implements:g.Op}),n.Plot=new e({Implements:g.Plot}),n.Label={},n.Label.Native=new e({Implements:g.Label.Native}),n.Label.SVG=new e({Implements:g.Label.SVG,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u={x:Math.round(i.x*s+a+c.width/2),y:Math.round(i.y*l+r+c.height/2)};t.setAttribute("x",u.x),t.setAttribute("y",u.y),n.onPlaceLabel(t,e)}}),n.Label.HTML=new e({Implements:g.Label.HTML,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u={x:Math.round(i.x*s+a+c.width/2),y:Math.round(i.y*l+r+c.height/2)},h=t.style;h.left=u.x+"px",h.top=u.y+"px",h.display=this.fitsInCanvas(u,o)?"":"none",n.onPlaceLabel(t,e)}}),n.Plot.NodeTypes=new e({none:{render:t.empty,contains:t.lambda(!1)},circle:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.circle.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.circle.contains(n,e,i)}},ellipse:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");this.nodeHelper.ellipse.render("fill",n,i,o,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");return this.nodeHelper.ellipse.contains(n,e,i,o)}},square:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.square.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.square.contains(n,e,i)}},rectangle:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");this.nodeHelper.rectangle.render("fill",n,i,o,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("width"),o=t.getData("height");return this.nodeHelper.rectangle.contains(n,e,i,o)}},triangle:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.triangle.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.triangle.contains(n,e,i)}},star:{render:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");this.nodeHelper.star.render("fill",n,i,e)},contains:function(t,e){var n=t.pos.getc(!0),i=t.getData("dim");return this.nodeHelper.star.contains(n,e,i)}}}),n.Plot.EdgeTypes=new e({none:t.empty,line:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);this.edgeHelper.line.render(n,i,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(n,i,e,this.edge.epsilon)}},arrow:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.getData("dim"),a=t.data.$direction,r=a&&a.length>1&&a[0]!=t.nodeFrom.id;this.edgeHelper.arrow.render(n,i,o,r,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(n,i,e,this.edge.epsilon)}}})}($jit.RGraph),d.prototype.moebiusTransformation=function(t){var e=this.add(t),n=t.$conjugate().$prod(this);return n.x++,e.$div(n)},g.Util.moebiusTransformation=function(t,e,n,i,o){this.eachNode(t,function(t){for(var o=0;o<n.length;o++){var a=e[o].scale(-1),r=i?i:n[o];t.getPos(n[o]).set(t.getPos(r).getc().moebiusTransformation(a))}},o)},$jit.Hypertree=new e({Implements:[y,l,b.Radial],initialize:function(e){var n=$jit.Hypertree,i={radius:"auto",offset:0,Edge:{type:"hyperline"},duration:1500,fps:35};this.controller=this.config=t.merge(o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),i,e);var a=this.config;a.useCanvas?(this.canvas=a.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(a.background&&(a.background=t.merge({type:"Circles"},a.background)),this.canvas=new c(this,a),this.config.labelContainer=("string"==typeof a.injectInto?a.injectInto:a.injectInto.id)+"-label"),this.graphOptions={klass:u,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new g(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new n.Label[a.Label.type](this),this.fx=new n.Plot(this,n),this.op=new n.Op(this),this.json=null,this.root=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var t=this.getRadius(),e=0,n=Math.max,i=this.config;this.graph.eachNode(function(t){e=n(t._depth,e)},"ignore"),e++;for(var o=function(e){return function(n){n.scale=t;for(var o=n._depth+1,a=0,r=Math.pow;o;)a+=r(e,o--);return a-i.offset}},a=.51;1>=a;a+=.01){var r=(1-Math.pow(a,e))/(1-a);if(r>=2)return o(a-.01)}return o(.75)},getRadius:function(){var t=this.config.radius;if("auto"!==t)return t;var e=this.canvas.getSize();return Math.min(e.width,e.height)/2},refresh:function(t){t?(this.reposition(),this.graph.eachNode(function(t){t.startPos.rho=t.pos.rho=t.endPos.rho,t.startPos.theta=t.pos.theta=t.endPos.theta})):this.compute(),this.plot()},reposition:function(){this.compute("end");var t=this.graph.getNode(this.root).pos.getc().scale(-1);g.Util.moebiusTransformation(this.graph,[t],["end"],"end","ignore"),this.graph.eachNode(function(t){t.ignore&&(t.endPos.rho=t.pos.rho,t.endPos.theta=t.pos.theta)})},plot:function(){this.fx.plot()},onClick:function(t,e){var n=this.graph.getNode(t).pos.getc(!0);this.move(n,e)},move:function(e,n){var i=p(e.x,e.y);if(this.busy===!1&&i.norm()<1){this.busy=!0;var o=this.graph.getClosestNodeToPos(i),a=this;this.graph.computeLevels(o.id,0),this.controller.onBeforeCompute(o),n=t.merge({onComplete:t.empty},n||{}),this.fx.animate(t.merge({modes:["moebius"],hideLabels:!0},n,{onComplete:function(){a.busy=!1,n.onComplete()}}),i)}}}),$jit.Hypertree.$extend=!0,function(n){n.Op=new e({Implements:g.Op}),n.Plot=new e({Implements:g.Plot}),n.Label={},n.Label.Native=new e({Implements:g.Label.Native,initialize:function(t){this.viz=t},renderLabel:function(t,e){var n=t.getCtx(),i=e.pos.getc(!0),o=this.viz.getRadius();n.fillText(e.name,i.x*o,i.y*o)}}),n.Label.SVG=new e({Implements:g.Label.SVG,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u=this.viz.getRadius(),h={x:Math.round(i.x*s*u+a+c.width/2),y:Math.round(i.y*l*u+r+c.height/2)};t.setAttribute("x",h.x),t.setAttribute("y",h.y),n.onPlaceLabel(t,e)}}),n.Label.HTML=new e({Implements:g.Label.HTML,initialize:function(t){this.viz=t},placeLabel:function(t,e,n){var i=e.pos.getc(!0),o=this.viz.canvas,a=o.translateOffsetX,r=o.translateOffsetY,s=o.scaleOffsetX,l=o.scaleOffsetY,c=o.getSize(),u=this.viz.getRadius(),h={x:Math.round(i.x*s*u+a+c.width/2),y:Math.round(i.y*l*u+r+c.height/2)},d=t.style;d.left=h.x+"px",d.top=h.y+"px",d.display=this.fitsInCanvas(h,o)?"":"none",n.onPlaceLabel(t,e)}}),n.Plot.NodeTypes=new e({none:{render:t.empty,contains:t.lambda(!1)},circle:{render:function(t,e){var n=this.node,i=t.getData("dim"),o=t.pos.getc();i=n.transform?i*(1-o.squaredNorm()):i,o.$scale(t.scale),i>.2&&this.nodeHelper.circle.render("fill",o,i,e)},contains:function(t,e){var n=t.getData("dim"),i=t.pos.getc().$scale(t.scale);return this.nodeHelper.circle.contains(i,e,n)}},ellipse:{render:function(t,e){var n=t.pos.getc().$scale(t.scale),i=t.getData("width"),o=t.getData("height");this.nodeHelper.ellipse.render("fill",n,i,o,e)},contains:function(t,e){var n=t.getData("width"),i=t.getData("height"),o=t.pos.getc().$scale(t.scale);return this.nodeHelper.circle.contains(o,e,n,i)}},square:{render:function(t,e){var n=this.node,i=t.getData("dim"),o=t.pos.getc();i=n.transform?i*(1-o.squaredNorm()):i,o.$scale(t.scale),i>.2&&this.nodeHelper.square.render("fill",o,i,e)},contains:function(t,e){var n=t.getData("dim"),i=t.pos.getc().$scale(t.scale);return this.nodeHelper.square.contains(i,e,n)}},rectangle:{render:function(t,e){var n=this.node,i=t.getData("width"),o=t.getData("height"),a=t.pos.getc();i=n.transform?i*(1-a.squaredNorm()):i,o=n.transform?o*(1-a.squaredNorm()):o,a.$scale(t.scale),i>.2&&o>.2&&this.nodeHelper.rectangle.render("fill",a,i,o,e)},contains:function(t,e){var n=t.getData("width"),i=t.getData("height"),o=t.pos.getc().$scale(t.scale);return this.nodeHelper.rectangle.contains(o,e,n,i)}},triangle:{render:function(t,e){var n=this.node,i=t.getData("dim"),o=t.pos.getc();i=n.transform?i*(1-o.squaredNorm()):i,o.$scale(t.scale),i>.2&&this.nodeHelper.triangle.render("fill",o,i,e)},contains:function(t,e){var n=t.getData("dim"),i=t.pos.getc().$scale(t.scale);return this.nodeHelper.triangle.contains(i,e,n)}},star:{render:function(t,e){var n=this.node,i=t.getData("dim"),o=t.pos.getc();i=n.transform?i*(1-o.squaredNorm()):i,o.$scale(t.scale),i>.2&&this.nodeHelper.star.render("fill",o,i,e)},contains:function(t,e){var n=t.getData("dim"),i=t.pos.getc().$scale(t.scale);return this.nodeHelper.star.contains(i,e,n)}}}),n.Plot.EdgeTypes=new e({none:t.empty,line:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.nodeFrom.scale;this.edgeHelper.line.render({x:n.x*o,y:n.y*o},{x:i.x*o,y:i.y*o},e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.nodeFrom.scale;this.edgeHelper.line.contains({x:n.x*o,y:n.y*o},{x:i.x*o,y:i.y*o},e,this.edge.epsilon)}},arrow:{render:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.nodeFrom.scale,a=t.getData("dim"),r=t.data.$direction,s=r&&r.length>1&&r[0]!=t.nodeFrom.id;this.edgeHelper.arrow.render({x:n.x*o,y:n.y*o},{x:i.x*o,y:i.y*o},a,s,e)},contains:function(t,e){var n=t.nodeFrom.pos.getc(!0),i=t.nodeTo.pos.getc(!0),o=t.nodeFrom.scale;this.edgeHelper.arrow.contains({x:n.x*o,y:n.y*o},{x:i.x*o,y:i.y*o},e,this.edge.epsilon)}},hyperline:{render:function(t,e){var n=t.nodeFrom.pos.getc(),i=t.nodeTo.pos.getc(),o=this.viz.getRadius();this.edgeHelper.hyperline.render(n,i,o,e)},contains:t.lambda(!1)}})}($jit.Hypertree)}(),function(t){t.Jcrop=function(e,n){function i(t){return Math.round(t)+"px"}function o(t){return P.baseClass+"-"+t}function a(){return t.fx.step.hasOwnProperty("backgroundColor")}function r(e){var n=t(e).offset();return[n.left,n.top]}function s(t){return[t.pageX-M[0],t.pageY-M[1]]}function l(e){"object"!=typeof e&&(e={}),P=t.extend(P,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof P[e]&&(P[e]=function(){})})}function c(t,e,n){if(M=r(B),fe.setCursor("move"===t?t:t+"-resize"),"move"===t)return fe.activateHandlers(h(e),m,n);var i=he.getFixed(),o=d(t),a=he.getCorner(d(o));he.setPressed(he.getCorner(o)),he.setCurrent(a),fe.activateHandlers(u(t,i),m,n)}function u(t,e){return function(n){if(P.aspectRatio)switch(t){case"e":n[1]=e.y+1;break;case"w":n[1]=e.y+1;break;case"n":n[0]=e.x+1;break;case"s":n[0]=e.x+1}else switch(t){case"e":n[1]=e.y2;break;case"w":n[1]=e.y2;break;case"n":n[0]=e.x2;break;case"s":n[0]=e.x2}he.setCurrent(n),pe.update()}}function h(t){var e=t;return ge.watchKeys(),function(t){he.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,pe.update()}}function d(t){switch(t){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function p(t){return function(e){return P.disabled?!1:"move"!==t||P.allowMove?(M=r(B),ie=!0,c(t,s(e)),e.stopPropagation(),e.preventDefault(),!1):!1}}function f(t,e,n){var i=t.width(),o=t.height();i>e&&e>0&&(i=e,o=e/t.width()*t.height()),o>n&&n>0&&(o=n,i=n/t.height()*t.width()),ee=t.width()/i,ne=t.height()/o,t.width(i).height(o)}function g(t){return{x:t.x*ee,y:t.y*ne,x2:t.x2*ee,y2:t.y2*ne,w:t.w*ee,h:t.h*ne}}function m(){var t=he.getFixed();t.w>P.minSelect[0]&&t.h>P.minSelect[1]?(pe.enableHandles(),pe.done()):pe.release(),fe.setCursor(P.allowSelect?"crosshair":"default")}function v(t){if(P.disabled)return!1;if(!P.allowSelect)return!1;ie=!0,M=r(B),pe.disableHandles(),fe.setCursor("crosshair");var e=s(t);return he.setPressed(e),pe.update(),fe.activateHandlers(y,m,"touch"===t.type.substring(0,5)),ge.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function y(t){he.setCurrent(t),pe.update()}function b(){var e=t("<div></div>").addClass(o("tracker"));return z&&e.css({opacity:0,backgroundColor:"white"}),e}function w(t){U.removeClass().addClass(o("holder")).addClass(t)}function x(t,e){function n(){window.setTimeout(y,h)}var i=t[0]/ee,o=t[1]/ne,a=t[2]/ee,r=t[3]/ne;if(!oe){var s=he.flipCoords(i,o,a,r),l=he.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,h=P.animationDelay,d=s[0]-c[0],p=s[1]-c[1],f=s[2]-c[2],g=s[3]-c[3],m=0,v=P.swingSpeed;i=u[0],o=u[1],a=u[2],r=u[3],pe.animMode(!0);var y=function(){return function(){m+=(100-m)/v,u[0]=Math.round(i+m/100*d),u[1]=Math.round(o+m/100*p),u[2]=Math.round(a+m/100*f),u[3]=Math.round(r+m/100*g),m>=99.8&&(m=100),100>m?(T(u),n()):(pe.done(),pe.animMode(!1),"function"==typeof e&&e.call(me))}}();n()}}function C(t){T([t[0]/ee,t[1]/ne,t[2]/ee,t[3]/ne]),P.onSelect.call(me,g(he.getFixed())),pe.enableHandles()}function T(t){he.setPressed([t[0],t[1]]),he.setCurrent([t[2],t[3]]),pe.update()}function S(){return g(he.getFixed())}function D(){return he.getFixed()}function N(t){l(t),$()}function k(){P.disabled=!0,pe.disableHandles(),pe.setCursor("default"),fe.setCursor("default")}function L(){P.disabled=!1,$()}function j(){pe.done(),fe.activateHandlers(null,null)}function _(){U.remove(),I.show(),I.css("visibility","visible"),t(e).removeData("Jcrop")}function A(t,e){pe.release(),k();var n=new Image;n.onload=function(){var i=n.width,o=n.height,a=P.boxWidth,r=P.boxHeight;B.width(i).height(o),B.attr("src",t),Y.attr("src",t),f(B,a,r),W=B.width(),X=B.height(),Y.width(W).height(X),se.width(W+2*re).height(X+2*re),U.width(W).height(X),de.resize(W,X),L(),"function"==typeof e&&e.call(me)},n.src=t}function E(t,e,n){var i=e||P.bgColor;P.bgFade&&a()&&P.fadeTime&&!n?t.animate({backgroundColor:i},{queue:!1,duration:P.fadeTime}):t.css("backgroundColor",i)}function $(t){P.allowResize?t?pe.enableOnly():pe.enableHandles():pe.disableHandles(),fe.setCursor(P.allowSelect?"crosshair":"default"),pe.setCursor(P.allowMove?"move":"default"),P.hasOwnProperty("trueSize")&&(ee=P.trueSize[0]/W,ne=P.trueSize[1]/X),P.hasOwnProperty("setSelect")&&(C(P.setSelect),pe.done(),delete P.setSelect),de.refresh(),P.bgColor!=le&&(E(P.shade?de.getShades():U,P.shade?P.shadeColor||P.bgColor:P.bgColor),le=P.bgColor),ce!=P.bgOpacity&&(ce=P.bgOpacity,P.shade?de.refresh():pe.setBgOpacity(ce)),K=P.maxSize[0]||0,Q=P.maxSize[1]||0,Z=P.minSize[0]||0,te=P.minSize[1]||0,P.hasOwnProperty("outerImage")&&(B.attr("src",P.outerImage),delete P.outerImage),pe.refresh()}var M,P=t.extend({},t.Jcrop.defaults),O=navigator.userAgent.toLowerCase(),z=/msie/.test(O),H=/msie [1-6]\./.test(O);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof n&&(n={}),l(n);var F={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},I=t(e),q=!0;if("IMG"==e.tagName){if(0!=I[0].width&&0!=I[0].height)I.width(I[0].width),I.height(I[0].height);else{var R=new Image;R.src=I[0].src,I.width(R.width),I.height(R.height)}var B=I.clone().removeAttr("id").css(F).show();B.width(I.width()),B.height(I.height()),I.after(B).hide()}else B=I.css(F).show(),q=!1,null===P.shade&&(P.shade=!0);f(B,P.boxWidth,P.boxHeight);var W=B.width(),X=B.height(),U=t("<div />").width(W).height(X).addClass(o("holder")).css({position:"relative",backgroundColor:P.bgColor}).insertAfter(I).append(B);P.addClass&&U.addClass(P.addClass);var Y=t("<div />"),V=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),G=t("<div />").width("100%").height("100%").css("zIndex",320),J=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=he.getFixed();P.onDblClick.call(me,t)}).insertBefore(B).append(V,G);q&&(Y=t("<img />").attr("src",B.attr("src")).css(F).width(W).height(X),V.append(Y)),H&&J.css({overflowY:"hidden"});var K,Q,Z,te,ee,ne,ie,oe,ae,re=P.boundary,se=b().width(W+2*re).height(X+2*re).css({position:"absolute",top:i(-re),left:i(-re),zIndex:290}).mousedown(v),le=P.bgColor,ce=P.bgOpacity;M=r(B);var ue=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(t=0;t<n.length;t++){var o=n[t];o="on"+o;var a=o in i;a||(i.setAttribute(o,"return;"),a="function"==typeof i[o]),e[n[t]]=a}return e.touchstart&&e.touchend&&e.touchmove}catch(r){return!1}}function e(){return P.touchSupport===!0||P.touchSupport===!1?P.touchSupport:t()}return{createDragger:function(t){return function(e){return P.disabled?!1:"move"!==t||P.allowMove?(M=r(B),ie=!0,c(t,s(ue.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1):!1}},newSelection:function(t){return v(ue.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),he=function(){function t(t){t=r(t),f=d=t[0],g=p=t[1]}function e(t){t=r(t),u=t[0]-f,h=t[1]-g,f=t[0],g=t[1]}function n(){return[u,h]}function i(t){var e=t[0],n=t[1];0>d+e&&(e-=e+d),0>p+n&&(n-=n+p),g+n>X&&(n+=X-(g+n)),f+e>W&&(e+=W-(f+e)),d+=e,f+=e,p+=n,g+=n}function o(t){var e=a();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function a(){if(!P.aspectRatio)return l();var t,e,n,i,o=P.aspectRatio,a=P.minSize[0]/ee,r=P.maxSize[0]/ee,u=P.maxSize[1]/ne,h=f-d,m=g-p,v=Math.abs(h),y=Math.abs(m),b=v/y;return 0===r&&(r=10*W),0===u&&(u=10*X),o>b?(e=g,n=y*o,t=0>h?d-n:n+d,0>t?(t=0,i=Math.abs((t-d)/o),e=0>m?p-i:i+p):t>W&&(t=W,i=Math.abs((t-d)/o),e=0>m?p-i:i+p)):(t=f,i=v/o,e=0>m?p-i:p+i,0>e?(e=0,n=Math.abs((e-p)*o),t=0>h?d-n:n+d):e>X&&(e=X,n=Math.abs(e-p)*o,t=0>h?d-n:n+d)),t>d?(a>t-d?t=d+a:t-d>r&&(t=d+r),e=e>p?p+(t-d)/o:p-(t-d)/o):d>t&&(a>d-t?t=d-a:d-t>r&&(t=d-r),e=e>p?p+(d-t)/o:p-(d-t)/o),0>t?(d-=t,t=0):t>W&&(d-=t-W,t=W),0>e?(p-=e,e=0):e>X&&(p-=e-X,e=X),c(s(d,p,t,e))}function r(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>W&&(t[0]=W),t[1]>X&&(t[1]=X),[Math.round(t[0]),Math.round(t[1])]}function s(t,e,n,i){var o=t,a=n,r=e,s=i;return t>n&&(o=n,a=t),e>i&&(r=i,s=e),[o,r,a,s]}function l(){var t,e=f-d,n=g-p;return K&&Math.abs(e)>K&&(f=e>0?d+K:d-K),Q&&Math.abs(n)>Q&&(g=n>0?p+Q:p-Q),te/ne&&Math.abs(n)<te/ne&&(g=n>0?p+te/ne:p-te/ne),Z/ee&&Math.abs(e)<Z/ee&&(f=e>0?d+Z/ee:d-Z/ee),0>d&&(f-=d,d-=d),0>p&&(g-=p,p-=p),0>f&&(d-=f,f-=f),0>g&&(p-=g,g-=g),f>W&&(t=f-W,d-=t,f-=t),g>X&&(t=g-X,p-=t,g-=t),d>W&&(t=d-X,g-=t,p-=t),p>X&&(t=p-X,g-=t,p-=t),c(s(d,p,f,g))}function c(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var u,h,d=0,p=0,f=0,g=0;return{flipCoords:s,setPressed:t,setCurrent:e,getOffset:n,moveOffset:i,getCorner:o,getFixed:a}}(),de=function(){function e(t,e){f.left.css({height:i(e)}),f.right.css({height:i(e)})}function n(){return o(he.getFixed())}function o(t){f.top.css({left:i(t.x),width:i(t.w),height:i(t.y)}),f.bottom.css({top:i(t.y2),left:i(t.x),width:i(t.w),height:i(X-t.y2)}),f.right.css({left:i(t.x2),width:i(W-t.x2)}),f.left.css({width:i(t.x)})}function a(){return t("<div />").css({position:"absolute",backgroundColor:P.shadeColor||P.bgColor}).appendTo(p)}function r(){d||(d=!0,p.insertBefore(B),n(),pe.setBgOpacity(1,0,1),Y.hide(),s(P.shadeColor||P.bgColor,1),pe.isAwake()?c(P.bgOpacity,1):c(1,1))
}function s(t,e){E(h(),t,e)}function l(){d&&(p.remove(),Y.show(),d=!1,pe.isAwake()?pe.setBgOpacity(P.bgOpacity,1,1):(pe.setBgOpacity(1,1,1),pe.disableHandles()),E(U,0,1))}function c(t,e){d&&(P.bgFade&&!e?p.animate({opacity:1-t},{queue:!1,duration:P.fadeTime}):p.css({opacity:1-t}))}function u(){P.shade?r():l(),pe.isAwake()&&c(P.bgOpacity)}function h(){return p.children()}var d=!1,p=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:a(),left:a().height(X),right:a().height(X),bottom:a()};return{update:n,updateRaw:o,getShades:h,setBgColor:s,enable:r,disable:l,resize:e,refresh:u,opacity:c}}(),pe=function(){function e(e){var n=t("<div />").css({position:"absolute",opacity:P.borderOpacity}).addClass(o(e));return V.append(n),n}function n(e,n){var i=t("<div />").mousedown(p(e)).css({cursor:e+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+e);return ue.support&&i.bind("touchstart.jcrop",ue.createDragger(e)),G.append(i),i}function a(t){var e=P.handleSize,i=n(t,k++).css({opacity:P.handleOpacity}).addClass(o("handle"));return e&&i.width(e).height(e),i}function r(t){return n(t,k++).addClass("jcrop-dragbar")}function s(t){var e;for(e=0;e<t.length;e++)_[t[e]]=r(t[e])}function l(t){var n,i;for(i=0;i<t.length;i++){switch(t[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}L[t[i]]=e(n)}}function c(t){var e;for(e=0;e<t.length;e++)j[t[e]]=a(t[e])}function u(t,e){P.shade||Y.css({top:i(-e),left:i(-t)}),J.css({top:i(e),left:i(t)})}function h(t,e){J.width(Math.round(t)).height(Math.round(e))}function d(){var t=he.getFixed();he.setPressed([t.x,t.y]),he.setCurrent([t.x2,t.y2]),f()}function f(t){return N?m(t):void 0}function m(t){var e=he.getFixed();h(e.w,e.h),u(e.x,e.y),P.shade&&de.updateRaw(e),N||y(),t?P.onSelect.call(me,g(e)):P.onChange.call(me,g(e))}function v(t,e,n){(N||e)&&(P.bgFade&&!n?B.animate({opacity:t},{queue:!1,duration:P.fadeTime}):B.css("opacity",t))}function y(){J.show(),P.shade?de.opacity(ce):v(ce,!0),N=!0}function w(){T(),J.hide(),P.shade?de.opacity(1):v(1),N=!1,P.onRelease.call(me)}function x(){A&&G.show()}function C(){return A=!0,P.allowResize?(G.show(),!0):void 0}function T(){A=!1,G.hide()}function S(t){t?(oe=!0,T()):(oe=!1,C())}function D(){S(!1),d()}var N,k=370,L={},j={},_={},A=!1;P.dragEdges&&t.isArray(P.createDragbars)&&s(P.createDragbars),t.isArray(P.createHandles)&&c(P.createHandles),P.drawBorders&&t.isArray(P.createBorders)&&l(P.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var E=b().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ue.support&&E.bind("touchstart.jcrop",ue.createDragger("move")),V.append(E),T(),{updateVisible:f,update:m,release:w,refresh:d,isAwake:function(){return N},setCursor:function(t){E.css("cursor",t)},enableHandles:C,enableOnly:function(){A=!0},showHandles:x,disableHandles:T,animMode:S,setBgOpacity:v,done:D}}(),fe=function(){function e(e){se.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",l):d&&t(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",o)}function n(){se.css({zIndex:290}),t(document).unbind(".jcrop")}function i(t){return u(s(t)),!1}function o(t){return t.preventDefault(),t.stopPropagation(),ie&&(ie=!1,h(s(t)),pe.isAwake()&&P.onSelect.call(me,g(he.getFixed())),n(),u=function(){},h=function(){}),!1}function a(t,n,i){return ie=!0,u=t,h=n,e(i),!1}function r(t){return u(s(ue.cfilter(t))),!1}function l(t){return o(ue.cfilter(t))}function c(t){se.css("cursor",t)}var u=function(){},h=function(){},d=P.trackDocument;return d||se.mousemove(i).mouseup(o).mouseout(o),B.before(se),{activateHandlers:a,setCursor:c}}(),ge=function(){function e(){P.keySupport&&(a.show(),a.focus())}function n(){a.hide()}function i(t,e,n){P.allowMove&&(he.moveOffset([e,n]),pe.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function o(t){if(t.ctrlKey||t.metaKey)return!0;ae=t.shiftKey?!0:!1;var e=ae?10:1;switch(t.keyCode){case 37:i(t,-e,0);break;case 39:i(t,e,0);break;case 38:i(t,0,-e);break;case 40:i(t,0,e);break;case 27:P.allowSelect&&pe.release();break;case 9:return!0}return!1}var a=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),r=t("<div />").css({position:"absolute",overflow:"hidden"}).append(a);return P.keySupport&&(a.keydown(o).blur(n),H||!P.fixedSupport?(a.css({position:"absolute",left:"-20px"}),r.append(a).insertBefore(B)):a.insertBefore(B)),{watchKeys:e}}();ue.support&&se.bind("touchstart.jcrop",ue.newSelection),G.hide(),$(!0);var me={setImage:A,animateTo:x,setSelect:C,setOptions:N,tellSelect:S,tellScaled:D,setClass:w,disable:k,enable:L,cancel:j,release:pe.release,destroy:_,focus:ge.watchKeys,getBounds:function(){return[W*ee,X*ne]},getWidgetSize:function(){return[W,X]},getScaleFactor:function(){return[ee,ne]},getOptions:function(){return P},ui:{holder:U,selection:J}};return z&&U.bind("selectstart",function(){return!1}),I.data("Jcrop",me),me},t.fn.Jcrop=function(e,n){var i;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i)}):(t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i))}),this},t.Jcrop.Loader=function(e,n,i){function o(){r.complete?(a.unbind(".jcloader"),t.isFunction(n)&&n.call(r)):window.setTimeout(o,50)}var a=t(e),r=a[0];a.bind("load.jcloader",o).bind("error.jcloader",function(){a.unbind(".jcloader"),t.isFunction(i)&&i.call(r)}),r.complete&&t.isFunction(n)&&(a.unbind(".jcloader"),n.call(r))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0},n=function(){var t=0;return function(){var e=t;return t+=1,".perfect-scrollbar-"+e}}();t.fn.perfectScrollbar=function(i,o){return this.each(function(){var a=t.extend(!0,{},e),r=t(this);if("object"==typeof i?t.extend(!0,a,i):o=i,"update"===o)return r.data("perfect-scrollbar-update")&&r.data("perfect-scrollbar-update")(),r;if("destroy"===o)return r.data("perfect-scrollbar-destroy")&&r.data("perfect-scrollbar-destroy")(),r;if(r.data("perfect-scrollbar"))return r.data("perfect-scrollbar");r.addClass("ps-container");var s,l,c,u,h,d,p,f,g,m,v=t("<div class='ps-scrollbar-x-rail'></div>").appendTo(r),y=t("<div class='ps-scrollbar-y-rail'></div>").appendTo(r),b=t("<div class='ps-scrollbar-x'></div>").appendTo(v),w=t("<div class='ps-scrollbar-y'></div>").appendTo(y),x=parseInt(v.css("bottom"),10),C=parseInt(y.css("right"),10),T=n(),S=function(t,e){var n=t+e,i=u-g;m=0>n?0:n>i?i:n;var o=parseInt(m*(d-u)/(u-g),10);r.scrollTop(o),v.css({bottom:x-o})},D=function(t,e){var n=t+e,i=c-p;f=0>n?0:n>i?i:n;var o=parseInt(f*(h-c)/(c-p),10);r.scrollLeft(o),y.css({right:C-o})},N=function(t){return a.minScrollbarLength&&(t=Math.max(t,a.minScrollbarLength)),t},k=function(){v.css({left:r.scrollLeft(),bottom:x-r.scrollTop(),width:c,display:s?"inherit":"none"}),y.css({top:r.scrollTop(),right:C-r.scrollLeft(),height:u,display:l?"inherit":"none"}),b.css({left:f,width:p}),w.css({top:m,height:g})},L=function(){c=r.width(),u=r.height(),h=r.prop("scrollWidth"),d=r.prop("scrollHeight"),!a.suppressScrollX&&h>c+a.scrollXMarginOffset?(s=!0,p=N(parseInt(c*c/h,10)),f=parseInt(r.scrollLeft()*(c-p)/(h-c),10)):(s=!1,p=0,f=0,r.scrollLeft(0)),!a.suppressScrollY&&d>u+a.scrollYMarginOffset?(l=!0,g=N(parseInt(u*u/d,10)),m=parseInt(r.scrollTop()*(u-g)/(d-u),10)):(l=!1,g=0,m=0,r.scrollTop(0)),m>=u-g&&(m=u-g),f>=c-p&&(f=c-p),k()},j=function(){var e,n;b.bind("mousedown"+T,function(t){n=t.pageX,e=b.position().left,v.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove"+T,function(t){v.hasClass("in-scrolling")&&(D(e,t.pageX-n),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup"+T,function(){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")}),e=n=null},_=function(){var e,n;w.bind("mousedown"+T,function(t){n=t.pageY,e=w.position().top,y.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove"+T,function(t){y.hasClass("in-scrolling")&&(S(e,t.pageY-n),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup"+T,function(){y.hasClass("in-scrolling")&&y.removeClass("in-scrolling")}),e=n=null},A=function(t,e){var n=r.scrollTop();if(0===t){if(!l)return!1;if(0===n&&e>0||n>=d-u&&0>e)return!a.wheelPropagation}var i=r.scrollLeft();if(0===e){if(!s)return!1;if(0===i&&0>t||i>=h-c&&t>0)return!a.wheelPropagation}return!0},E=function(){var t=!1;r.bind("mousewheel"+T,function(e,n,i,o){a.useBothWheelAxes?l&&!s?o?r.scrollTop(r.scrollTop()-o*a.wheelSpeed):r.scrollTop(r.scrollTop()+i*a.wheelSpeed):s&&!l&&(i?r.scrollLeft(r.scrollLeft()+i*a.wheelSpeed):r.scrollLeft(r.scrollLeft()-o*a.wheelSpeed)):(r.scrollTop(r.scrollTop()-o*a.wheelSpeed),r.scrollLeft(r.scrollLeft()+i*a.wheelSpeed)),L(),t=A(i,o),t&&e.preventDefault()}),r.bind("MozMousePixelScroll"+T,function(e){t&&e.preventDefault()})},$=function(){var e=!1;r.bind("mouseenter"+T,function(){e=!0}),r.bind("mouseleave"+T,function(){e=!1});var n=!1;t(document).bind("keydown"+T,function(t){if(e){var i=0,o=0;switch(t.which){case 37:i=-3;break;case 38:o=3;break;case 39:i=3;break;case 40:o=-3;break;case 33:o=9;break;case 32:case 34:o=-9;break;case 35:o=-u;break;case 36:o=u;break;default:return}r.scrollTop(r.scrollTop()-o*a.wheelSpeed),r.scrollLeft(r.scrollLeft()+i*a.wheelSpeed),n=A(i,o),n&&t.preventDefault()}})},M=function(){var t=function(t){t.stopPropagation()};w.bind("click"+T,t),y.bind("click"+T,function(t){var e=parseInt(g/2,10),n=t.pageY-y.offset().top-e,i=u-g,o=n/i;0>o?o=0:o>1&&(o=1),r.scrollTop((d-u)*o)}),b.bind("click"+T,t),v.bind("click"+T,function(t){var e=parseInt(p/2,10),n=t.pageX-v.offset().left-e,i=c-p,o=n/i;0>o?o=0:o>1&&(o=1),r.scrollLeft((h-c)*o)})},P=function(){var e=function(t,e){r.scrollTop(r.scrollTop()-e),r.scrollLeft(r.scrollLeft()-t),L()},n={},i=0,o={},a=null,s=!1;t(window).bind("touchstart"+T,function(){s=!0}),t(window).bind("touchend"+T,function(){s=!1}),r.bind("touchstart"+T,function(t){var e=t.originalEvent.targetTouches[0];n.pageX=e.pageX,n.pageY=e.pageY,i=(new Date).getTime(),null!==a&&clearInterval(a),t.stopPropagation()}),r.bind("touchmove"+T,function(t){if(!s&&1===t.originalEvent.targetTouches.length){var a=t.originalEvent.targetTouches[0],r={};r.pageX=a.pageX,r.pageY=a.pageY;var l=r.pageX-n.pageX,c=r.pageY-n.pageY;e(l,c),n=r;var u=(new Date).getTime();o.x=l/(u-i),o.y=c/(u-i),i=u,t.preventDefault()}}),r.bind("touchend"+T,function(){clearInterval(a),a=setInterval(function(){return.01>Math.abs(o.x)&&.01>Math.abs(o.y)?(clearInterval(a),void 0):(e(30*o.x,30*o.y),o.x*=.8,o.y*=.8,void 0)},10)})},O=function(){r.bind("scroll"+T,function(){L()})},z=function(){r.unbind(T),t(window).unbind(T),t(document).unbind(T),r.data("perfect-scrollbar",null),r.data("perfect-scrollbar-update",null),r.data("perfect-scrollbar-destroy",null),b.remove(),w.remove(),v.remove(),y.remove(),b=w=c=u=h=d=p=f=x=g=m=C=null},H=function(e){r.addClass("ie").addClass("ie"+e);var n=function(){var e=function(){t(this).addClass("hover")},n=function(){t(this).removeClass("hover")};r.bind("mouseenter"+T,e).bind("mouseleave"+T,n),v.bind("mouseenter"+T,e).bind("mouseleave"+T,n),y.bind("mouseenter"+T,e).bind("mouseleave"+T,n),b.bind("mouseenter"+T,e).bind("mouseleave"+T,n),w.bind("mouseenter"+T,e).bind("mouseleave"+T,n)},i=function(){k=function(){b.css({left:f+r.scrollLeft(),bottom:x,width:p}),w.css({top:m+r.scrollTop(),right:C,height:g}),b.hide().show(),w.hide().show()}};6===e&&(n(),i())},F="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,I=function(){var t=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);t&&"msie"===t[1]&&H(parseInt(t[2],10)),L(),O(),j(),_(),M(),F&&P(),r.mousewheel&&E(),a.useKeyboard&&$(),r.data("perfect-scrollbar",r),r.data("perfect-scrollbar-update",L),r.data("perfect-scrollbar-destroy",z)};return I(),r})}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0},n=function(){var t=0;return function(){var e=t;return t+=1,".perfect-scrollbar-"+e}}();t.fn.perfectScrollbar=function(i,o){return this.each(function(){var a=t.extend(!0,{},e),r=t(this);if("object"==typeof i?t.extend(!0,a,i):o=i,"update"===o)return r.data("perfect-scrollbar-update")&&r.data("perfect-scrollbar-update")(),r;if("destroy"===o)return r.data("perfect-scrollbar-destroy")&&r.data("perfect-scrollbar-destroy")(),r;if(r.data("perfect-scrollbar"))return r.data("perfect-scrollbar");r.addClass("ps-container");var s,l,c,u,h,d,p,f,g,m,v=t("<div class='ps-scrollbar-x-rail'></div>").appendTo(r),y=t("<div class='ps-scrollbar-y-rail'></div>").appendTo(r),b=t("<div class='ps-scrollbar-x'></div>").appendTo(v),w=t("<div class='ps-scrollbar-y'></div>").appendTo(y),x=parseInt(v.css("bottom"),10),C=parseInt(y.css("right"),10),T=n(),S=function(t,e){var n=t+e,i=u-g;m=0>n?0:n>i?i:n;var o=parseInt(m*(d-u)/(u-g),10);r.scrollTop(o),v.css({bottom:x-o})},D=function(t,e){var n=t+e,i=c-p;f=0>n?0:n>i?i:n;var o=parseInt(f*(h-c)/(c-p),10);r.scrollLeft(o),y.css({right:C-o})},N=function(t){return a.minScrollbarLength&&(t=Math.max(t,a.minScrollbarLength)),t},k=function(){v.css({left:r.scrollLeft(),bottom:x-r.scrollTop(),width:c,display:s?"inherit":"none"}),y.css({top:r.scrollTop(),right:C-r.scrollLeft(),height:u,display:l?"inherit":"none"}),b.css({left:f,width:p}),w.css({top:m,height:g})},L=function(){c=r.width(),u=r.height(),h=r.prop("scrollWidth"),d=r.prop("scrollHeight"),!a.suppressScrollX&&h>c+a.scrollXMarginOffset?(s=!0,p=N(parseInt(c*c/h,10)),f=parseInt(r.scrollLeft()*(c-p)/(h-c),10)):(s=!1,p=0,f=0,r.scrollLeft(0)),!a.suppressScrollY&&d>u+a.scrollYMarginOffset?(l=!0,g=N(parseInt(u*u/d,10)),m=parseInt(r.scrollTop()*(u-g)/(d-u),10)):(l=!1,g=0,m=0,r.scrollTop(0)),m>=u-g&&(m=u-g),f>=c-p&&(f=c-p),k()},j=function(){var e,n;b.bind("mousedown"+T,function(t){n=t.pageX,e=b.position().left,v.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove"+T,function(t){v.hasClass("in-scrolling")&&(D(e,t.pageX-n),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup"+T,function(){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")}),e=n=null},_=function(){var e,n;w.bind("mousedown"+T,function(t){n=t.pageY,e=w.position().top,y.addClass("in-scrolling"),t.stopPropagation(),t.preventDefault()}),t(document).bind("mousemove"+T,function(t){y.hasClass("in-scrolling")&&(S(e,t.pageY-n),t.stopPropagation(),t.preventDefault())}),t(document).bind("mouseup"+T,function(){y.hasClass("in-scrolling")&&y.removeClass("in-scrolling")}),e=n=null},A=function(t,e){var n=r.scrollTop();if(0===t){if(!l)return!1;if(0===n&&e>0||n>=d-u&&0>e)return!a.wheelPropagation}var i=r.scrollLeft();if(0===e){if(!s)return!1;if(0===i&&0>t||i>=h-c&&t>0)return!a.wheelPropagation}return!0},E=function(){var t=!1;r.bind("mousewheel"+T,function(e,n,i,o){a.useBothWheelAxes?l&&!s?o?r.scrollTop(r.scrollTop()-o*a.wheelSpeed):r.scrollTop(r.scrollTop()+i*a.wheelSpeed):s&&!l&&(i?r.scrollLeft(r.scrollLeft()+i*a.wheelSpeed):r.scrollLeft(r.scrollLeft()-o*a.wheelSpeed)):(r.scrollTop(r.scrollTop()-o*a.wheelSpeed),r.scrollLeft(r.scrollLeft()+i*a.wheelSpeed)),L(),t=A(i,o),t&&e.preventDefault()}),r.bind("MozMousePixelScroll"+T,function(e){t&&e.preventDefault()})},$=function(){var e=!1;r.bind("mouseenter"+T,function(){e=!0}),r.bind("mouseleave"+T,function(){e=!1});var n=!1;t(document).bind("keydown"+T,function(t){if(e){var i=0,o=0;switch(t.which){case 37:i=-3;break;case 38:o=3;break;case 39:i=3;break;case 40:o=-3;break;case 33:o=9;break;case 32:case 34:o=-9;break;case 35:o=-u;break;case 36:o=u;break;default:return}r.scrollTop(r.scrollTop()-o*a.wheelSpeed),r.scrollLeft(r.scrollLeft()+i*a.wheelSpeed),n=A(i,o),n&&t.preventDefault()}})},M=function(){var t=function(t){t.stopPropagation()};w.bind("click"+T,t),y.bind("click"+T,function(t){var e=parseInt(g/2,10),n=t.pageY-y.offset().top-e,i=u-g,o=n/i;0>o?o=0:o>1&&(o=1),r.scrollTop((d-u)*o)}),b.bind("click"+T,t),v.bind("click"+T,function(t){var e=parseInt(p/2,10),n=t.pageX-v.offset().left-e,i=c-p,o=n/i;0>o?o=0:o>1&&(o=1),r.scrollLeft((h-c)*o)})},P=function(){var e=function(t,e){r.scrollTop(r.scrollTop()-e),r.scrollLeft(r.scrollLeft()-t),L()},n={},i=0,o={},a=null,s=!1;t(window).bind("touchstart"+T,function(){s=!0}),t(window).bind("touchend"+T,function(){s=!1}),r.bind("touchstart"+T,function(t){var e=t.originalEvent.targetTouches[0];n.pageX=e.pageX,n.pageY=e.pageY,i=(new Date).getTime(),null!==a&&clearInterval(a),t.stopPropagation()}),r.bind("touchmove"+T,function(t){if(!s&&1===t.originalEvent.targetTouches.length){var a=t.originalEvent.targetTouches[0],r={};r.pageX=a.pageX,r.pageY=a.pageY;var l=r.pageX-n.pageX,c=r.pageY-n.pageY;e(l,c),n=r;var u=(new Date).getTime();o.x=l/(u-i),o.y=c/(u-i),i=u,t.preventDefault()}}),r.bind("touchend"+T,function(){clearInterval(a),a=setInterval(function(){return.01>Math.abs(o.x)&&.01>Math.abs(o.y)?(clearInterval(a),void 0):(e(30*o.x,30*o.y),o.x*=.8,o.y*=.8,void 0)},10)})},O=function(){r.bind("scroll"+T,function(){L()})},z=function(){r.unbind(T),t(window).unbind(T),t(document).unbind(T),r.data("perfect-scrollbar",null),r.data("perfect-scrollbar-update",null),r.data("perfect-scrollbar-destroy",null),b.remove(),w.remove(),v.remove(),y.remove(),b=w=c=u=h=d=p=f=x=g=m=C=null},H=function(e){r.addClass("ie").addClass("ie"+e);var n=function(){var e=function(){t(this).addClass("hover")},n=function(){t(this).removeClass("hover")};r.bind("mouseenter"+T,e).bind("mouseleave"+T,n),v.bind("mouseenter"+T,e).bind("mouseleave"+T,n),y.bind("mouseenter"+T,e).bind("mouseleave"+T,n),b.bind("mouseenter"+T,e).bind("mouseleave"+T,n),w.bind("mouseenter"+T,e).bind("mouseleave"+T,n)},i=function(){k=function(){b.css({left:f+r.scrollLeft(),bottom:x,width:p}),w.css({top:m+r.scrollTop(),right:C,height:g}),b.hide().show(),w.hide().show()}};6===e&&(n(),i())},F="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,I=function(){var t=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);t&&"msie"===t[1]&&H(parseInt(t[2],10)),L(),O(),j(),_(),M(),F&&P(),r.mousewheel&&E(),a.useKeyboard&&$(),r.data("perfect-scrollbar",r),r.data("perfect-scrollbar-update",L),r.data("perfect-scrollbar-destroy",z)};return I(),r})}}),function(t){function e(e){var n=e||window.event,i=[].slice.call(arguments,1),o=0,a=0,r=0;return e=t.event.fix(n),e.type="mousewheel",n.wheelDelta&&(o=n.wheelDelta/120),n.detail&&(o=-n.detail/3),r=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(r=0,a=-1*o),void 0!==n.wheelDeltaY&&(r=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(a=-1*n.wheelDeltaX/120),i.unshift(e,o,a,r),(t.event.dispatch||t.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var i=n.length;i;)t.event.fixHooks[n[--i]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(){function m(){return function(){}}function p(t){return function(){return this[t]}}function r(t){return function(){return t}}function u(t,e,n){if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),u.va[t])return u.va[t];t=u.u(t)}if(!t||!t.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return t.player||new u.Player(t,e,n)}function D(t){t.t("vjs-lock-showing")}function E(t,e,n,i){return n!==b?(t.a.style[e]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",i||t.j("resize"),t):t.a?(n=t.a.style[e],i=n.indexOf("px"),-1!==i?parseInt(n.slice(0,i),10):parseInt(t.a["offset"+u.Y(e)],10)):0}function F(t,e){var n,i,o,a;return n=t.a,i=u.bd(n),a=o=n.offsetWidth,n=t.handle,t.g.Dd?(a=i.top,i=e.changedTouches?e.changedTouches[0].pageY:e.pageY,n&&(n=n.u().offsetHeight,a+=n/2,o-=n),Math.max(0,Math.min(1,(a-i+o)/o))):(o=i.left,i=e.changedTouches?e.changedTouches[0].pageX:e.pageX,n&&(n=n.u().offsetWidth,o+=n/2,a-=n),Math.max(0,Math.min(1,(i-o)/a)))}function ca(t,e){t.X(e),e.d("click",u.bind(t,function(){D(this)}))}function H(t){t.na=f,t.ua.n("vjs-lock-showing"),t.a.setAttribute("aria-pressed",f),t.K&&0<t.K.length&&t.K[0].u().focus()}function G(t){t.na=l,D(t.ua),t.a.setAttribute("aria-pressed",l)}function da(t){var e={sources:[],tracks:[]};if(u.k.B(e,u.wb(t)),t.hasChildNodes()){var n,i,o,a;for(t=t.childNodes,o=0,a=t.length;a>o;o++)n=t[o],i=n.nodeName.toLowerCase(),"source"===i?e.sources.push(u.wb(n)):"track"===i&&e.tracks.push(u.wb(n))}return e}function I(t,e,n){t.i&&(t.$=l,t.i.dispose(),t.Db&&(t.Db=l,clearInterval(t.Sa)),t.Eb&&J(t),t.i=l),"Html5"!==e&&t.L&&(u.l.fc(t.L),t.L=h),t.xa=e,t.$=l;var i=u.k.B({source:n,parentEl:t.a},t.g[e.toLowerCase()]);n&&(n.src==t.v.src&&0<t.v.currentTime&&(i.startTime=t.v.currentTime),t.v.src=n.src),t.i=new window.videojs[e](t,i),t.i.H(function(){if(this.c.Wa(),!this.m.progressEvents){var t=this.c;t.Db=f,t.Sa=setInterval(u.bind(t,function(){this.v.mb<this.buffered().end(0)?this.j("progress"):1==this.bufferedPercent()&&(clearInterval(this.Sa),this.j("progress"))}),500),t.i.T("progress",function(){this.m.progressEvents=f;var t=this.c;t.Db=l,clearInterval(t.Sa)})}this.m.timeupdateEvents||(t=this.c,t.Eb=f,t.d("play",t.Ac),t.d("pause",t.wa),t.i.T("timeupdate",function(){this.m.timeupdateEvents=f,J(this.c)}))})}function J(t){t.Eb=l,t.wa(),t.o("play",t.Ac),t.o("pause",t.wa)}function L(t,e,n){if(t.i&&!t.i.$)t.i.H(function(){this[e](n)});else try{t.i[e](n)}catch(i){throw u.log(i),i}}function K(t,e){if(t.i&&t.i.$)try{return t.i[e]()}catch(n){throw t.i[e]===b?u.log("Video.js: "+e+" method not defined for "+t.xa+" playback technology.",n):"TypeError"==n.name?(u.log("Video.js: "+e+" unavailable on "+t.xa+" playback technology element.",n),t.i.$=l):u.log(n),n}}function M(t){t.ed=l,u.o(document,"keydown",t.ic),document.documentElement.style.overflow=t.Yc,u.t(document.body,"vjs-full-window"),t.j("exitFullWindow")}function ea(){var t=u.media.Xa[i];return function(){throw Error('The "'+t+"\" method is not available on the playback technology's API")}}function fa(){var t=S[U],e=t.charAt(0).toUpperCase()+t.slice(1);R["set"+e]=function(e){return this.a.vjs_setProperty(t,e)}}function V(t){R[t]=function(){return this.a.vjs_getProperty(t)}}function W(t,e,n){for(var i,o,a=t.ya,r=0,s=a.length;s>r;r++)i=a[r],i.id()===e?(i.show(),o=i):n&&i.G()==n&&0<i.mode()&&i.disable();(e=o?o.G():n?n:l)&&t.j(e+"trackchange")}function X(t){0===t.ha&&t.load(),0===t.ga&&(t.c.d("timeupdate",u.bind(t,t.update,t.Q)),t.c.d("ended",u.bind(t,t.reset,t.Q)),("captions"===t.A||"subtitles"===t.A)&&t.c.fa("textTrackDisplay").X(t))}function Y(t){var e=t.split(":");t=0;var n,i,o;return 3==e.length?(n=e[0],i=e[1],e=e[2]):(n=0,i=e[0],e=e[1]),e=e.split(/\s+/),e=e.splice(0,1)[0],e=e.split(/\.|,/),o=parseFloat(e[1]),e=e[0],t+=3600*parseFloat(n),t+=60*parseFloat(i),t+=parseFloat(e),o&&(t+=o/1e3),t}function $(t,e){var n=t.split("."),i=ga;!(n[0]in i)&&i.execScript&&i.execScript("var "+n[0]);for(var o;n.length&&(o=n.shift());)n.length||e===b?i=i[o]?i[o]:i[o]={}:i[o]=e}var b=void 0,f=!0,h=null,l=!1,t;document.createElement("video"),document.createElement("audio"),document.createElement("track");var videojs=u;window.Vd=window.Wd=u,u.Qb="4.4",u.Dc="https:"==document.location.protocol?"https://":"http://",u.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==u.Qb&&(videojs.options.flash.swf=u.Dc+"vjs.zencdn.net/"+u.Qb+"/video-js.swf"),u.va={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),u.ka=u.CoreObject=m(),u.ka.extend=function(t){var e,n;t=t||{},e=t.init||t.h||this.prototype.init||this.prototype.h||m(),n=function(){e.apply(this,arguments)},n.prototype=u.k.create(this.prototype),n.prototype.constructor=n,n.extend=u.ka.extend,n.create=u.ka.create;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},u.ka.create=function(){var t=u.k.create(this.prototype);return this.apply(t,arguments),t},u.d=function(t,e,n){var i=u.getData(t);i.z||(i.z={}),i.z[e]||(i.z[e]=[]),n.s||(n.s=u.s++),i.z[e].push(n),i.U||(i.disabled=l,i.U=function(e){if(!i.disabled){e=u.hc(e);var n=i.z[e.type];if(n)for(var n=n.slice(0),o=0,a=n.length;a>o&&!e.oc();o++)n[o].call(t,e)}}),1==i.z[e].length&&(document.addEventListener?t.addEventListener(e,i.U,l):document.attachEvent&&t.attachEvent("on"+e,i.U))},u.o=function(t,e,n){if(u.lc(t)){var i=u.getData(t);if(i.z)if(e){var o=i.z[e];if(o){if(n){if(n.s)for(i=0;i<o.length;i++)o[i].s===n.s&&o.splice(i--,1)}else i.z[e]=[];u.dc(t,e)}}else for(o in i.z)e=o,i.z[e]=[],u.dc(t,e)}},u.dc=function(t,e){var n=u.getData(t);0===n.z[e].length&&(delete n.z[e],document.removeEventListener?t.removeEventListener(e,n.U,l):document.detachEvent&&t.detachEvent("on"+e,n.U)),u.Ab(n.z)&&(delete n.z,delete n.U,delete n.disabled),u.Ab(n)&&u.sc(t)},u.hc=function(t){function e(){return f}function n(){return l}if(!t||!t.Bb){var i=t||window.event;t={};for(var o in i)"layerX"!==o&&"layerY"!==o&&"keyboardEvent.keyLocation"!==o&&("returnValue"==o&&i.preventDefault||(t[o]=i[o]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=l,t.zb=e},t.zb=n,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=f,t.Bb=e},t.Bb=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.oc=e,t.stopPropagation()},t.oc=n,t.clientX!=h){o=document.documentElement;var a=document.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!=h&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},u.j=function(t,e){var n=u.lc(t)?u.getData(t):{},i=t.parentNode||t.ownerDocument;return"string"==typeof e&&(e={type:e,target:t}),e=u.hc(e),n.U&&n.U.call(t,e),i&&!e.Bb()&&e.bubbles!==l?u.j(i,e):i||e.zb()||(n=u.getData(e.target),!e.target[e.type])||(n.disabled=f,"function"==typeof e.target[e.type]&&e.target[e.type](),n.disabled=l),!e.zb()},u.T=function(t,e,n){function i(){u.o(t,e,i),n.apply(this,arguments)}i.s=n.s=n.s||u.s++,u.d(t,e,i)};var v=Object.prototype.hasOwnProperty;u.e=function(t,e){var n,i;n=document.createElement(t||"div");for(i in e)v.call(e,i)&&(-1!==i.indexOf("aria-")||"role"==i?n.setAttribute(i,e[i]):n[i]=e[i]);return n},u.Y=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},u.k={},u.k.create=Object.create||function(t){function e(){}return e.prototype=t,new e},u.k.ra=function(t,e,n){for(var i in t)v.call(t,i)&&e.call(n||this,i,t[i])},u.k.B=function(t,e){if(!e)return t;for(var n in e)v.call(e,n)&&(t[n]=e[n]);return t},u.k.Vc=function(t,e){var n,i,o;t=u.k.copy(t);for(n in e)v.call(e,n)&&(i=t[n],o=e[n],t[n]=u.k.Ma(i)&&u.k.Ma(o)?u.k.Vc(i,o):e[n]);return t},u.k.copy=function(t){return u.k.B({},t)},u.k.Ma=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},u.bind=function(t,e,n){function i(){return e.apply(t,arguments)}return e.s||(e.s=u.s++),i.s=n?n+"_"+e.s:e.s,i},u.pa={},u.s=1,u.expando="vdata"+(new Date).getTime(),u.getData=function(t){var e=t[u.expando];return e||(e=t[u.expando]=u.s++,u.pa[e]={}),u.pa[e]},u.lc=function(t){return t=t[u.expando],!(!t||u.Ab(u.pa[t]))},u.sc=function(t){var e=t[u.expando];if(e){delete u.pa[e];try{delete t[u.expando]}catch(n){t.removeAttribute?t.removeAttribute(u.expando):t[u.expando]=h}}},u.Ab=function(t){for(var e in t)if(t[e]!==h)return l;return f},u.n=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},u.t=function(t,e){var n,i;if(-1!=t.className.indexOf(e)){for(n=t.className.split(" "),i=n.length-1;i>=0;i--)n[i]===e&&n.splice(i,1);t.className=n.join(" ")}},u.ea=u.e("video"),u.I=navigator.userAgent,u.Jc=/iPhone/i.test(u.I),u.Ic=/iPad/i.test(u.I),u.Kc=/iPod/i.test(u.I),u.Hc=u.Jc||u.Ic||u.Kc;var aa=u,w,x=u.I.match(/OS (\d+)_/i);w=x&&x[1]?x[1]:b,aa.Hd=w,u.Gc=/Android/i.test(u.I);var ba=u,y,z=u.I.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),A,B;z?(A=z[1]&&parseFloat(z[1]),B=z[2]&&parseFloat(z[2]),y=A&&B?parseFloat(z[1]+"."+z[2]):A?A:h):y=h,ba.Ec=y,u.Lc=u.Gc&&/webkit/i.test(u.I)&&2.3>u.Ec,u.Tb=/Firefox/i.test(u.I),u.Id=/Chrome/i.test(u.I),u.Zb=!!("ontouchstart"in window||window.Fc&&document instanceof window.Fc),u.wb=function(t){var e,n,i,o;if(e={},t&&t.attributes&&0<t.attributes.length){n=t.attributes;for(var a=n.length-1;a>=0;a--)i=n[a].name,o=n[a].value,("boolean"==typeof t[i]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+i+","))&&(o=o!==h?f:l),e[i]=o}return e},u.Md=function(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(n=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),n},u.yb=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},u.Nb={},u.u=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},u.ta=function(t,e){e=e||t;var n=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600),a=Math.floor(e/60%60),r=Math.floor(e/3600);return(isNaN(t)||1/0===t)&&(o=i=n="-"),o=o>0||r>0?o+":":"",o+(((o||a>=10)&&10>i?"0"+i:i)+":")+(10>n?"0"+n:n)},u.Rc=function(){document.body.focus(),document.onselectstart=r(l)},u.Cd=function(){document.onselectstart=r(f)},u.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},u.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},u.sb=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},u.get=function(t,e,n){var i,o;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")}),o=new XMLHttpRequest;try{o.open("GET",t)}catch(a){n(a)}i=0===t.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===t.indexOf("http"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||i&&0===o.status?e(o.responseText):n&&n())};try{o.send()}catch(r){n&&n(r)}},u.ud=function(t){try{var e=window.localStorage||l;e&&(e.volume=t)}catch(n){22==n.code||1014==n.code?u.log("LocalStorage Full (VideoJS)",n):18==n.code?u.log("LocalStorage not allowed (VideoJS)",n):u.log("LocalStorage Error (VideoJS)",n)}},u.jc=function(t){return t.match(/^https?:\/\//)||(t=u.e("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},u.log=function(){u.log.history=u.log.history||[],u.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))
},u.bd=function(t){var e,n;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(t=document.documentElement,n=document.body,{left:e.left+(window.pageXOffset||n.scrollLeft)-(t.clientLeft||n.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(t.clientTop||n.clientTop||0)}):{left:0,top:0}},u.ja={},u.ja.Fb=function(t,e){var n,i,o;t=u.k.copy(t);for(n in e)e.hasOwnProperty(n)&&(i=t[n],o=e[n],t[n]=u.k.Ma(i)&&u.k.Ma(o)?u.ja.Fb(i,o):e[n]);return t},u.b=u.ka.extend({h:function(t,e,n){if(this.c=t,this.g=u.k.copy(this.g),e=this.options(e),this.Q=e.id||(e.el&&e.el.id?e.el.id:t.id()+"_component_"+u.s++),this.jd=e.name||h,this.a=e.el||this.e(),this.J=[],this.Ia={},this.Ja={},this.mc(),this.H(n),e.tc!==l){var i,o;i=u.bind(this.C(),this.C().reportUserActivity),this.d("touchstart",function(){i(),clearInterval(o),o=setInterval(i,250)}),t=function(){i(),clearInterval(o)},this.d("touchmove",i),this.d("touchend",t),this.d("touchcancel",t)}}}),t=u.b.prototype,t.dispose=function(){if(this.j({type:"dispose",bubbles:l}),this.J)for(var t=this.J.length-1;t>=0;t--)this.J[t].dispose&&this.J[t].dispose();this.Ja=this.Ia=this.J=h,this.o(),this.a.parentNode&&this.a.parentNode.removeChild(this.a),u.sc(this.a),this.a=h},t.c=f,t.C=p("c"),t.options=function(t){return t===b?this.g:this.g=u.ja.Fb(this.g,t)},t.e=function(t,e){return u.e(t,e)},t.u=p("a"),t.Ka=function(){return this.F||this.a},t.id=p("Q"),t.name=p("jd"),t.children=p("J"),t.dd=function(t){return this.Ia[t]},t.fa=function(t){return this.Ja[t]},t.X=function(t,e){var n,i;return"string"==typeof t?(i=t,e=e||{},n=e.componentClass||u.Y(i),e.name=i,n=new window.videojs[n](this.c||this,e)):n=t,this.J.push(n),"function"==typeof n.id&&(this.Ia[n.id()]=n),(i=i||n.name&&n.name())&&(this.Ja[i]=n),"function"==typeof n.el&&n.el()&&this.Ka().appendChild(n.el()),n},t.removeChild=function(t){if("string"==typeof t&&(t=this.fa(t)),t&&this.J){for(var e=l,n=this.J.length-1;n>=0;n--)if(this.J[n]===t){e=f,this.J.splice(n,1);break}e&&(this.Ia[t.id]=h,this.Ja[t.name]=h,(e=t.u())&&e.parentNode===this.Ka()&&this.Ka().removeChild(t.u()))}},t.mc=function(){var t=this.g;if(t&&t.children){var e=this;u.k.ra(t.children,function(t,n){n!==l&&!n.loadEvent&&(e[t]=e.X(t,n))})}},t.P=r(""),t.d=function(t,e){return u.d(this.a,t,u.bind(this,e)),this},t.o=function(t,e){return u.o(this.a,t,e),this},t.T=function(t,e){return u.T(this.a,t,u.bind(this,e)),this},t.j=function(t,e){return u.j(this.a,t,e),this},t.H=function(t){return t&&(this.$?t.call(this):(this.Ta===b&&(this.Ta=[]),this.Ta.push(t))),this},t.Wa=function(){this.$=f;var t=this.Ta;if(t&&0<t.length){for(var e=0,n=t.length;n>e;e++)t[e].call(this);this.Ta=[],this.j("ready")}},t.n=function(t){return u.n(this.a,t),this},t.t=function(t){return u.t(this.a,t),this},t.show=function(){return this.a.style.display="block",this},t.D=function(){return this.a.style.display="none",this},t.disable=function(){this.D(),this.show=m()},t.width=function(t,e){return E(this,"width",t,e)},t.height=function(t,e){return E(this,"height",t,e)},t.Xc=function(t,e){return this.width(t,f).height(e)},u.q=u.b.extend({h:function(t,e){u.b.call(this,t,e);var n=l;this.d("touchstart",function(t){t.preventDefault(),n=f}),this.d("touchmove",function(){n=l});var i=this;this.d("touchend",function(t){n&&i.p(t),t.preventDefault()}),this.d("click",this.p),this.d("focus",this.Pa),this.d("blur",this.Oa)}}),t=u.q.prototype,t.e=function(t,e){return e=u.k.B({className:this.P(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.oa||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},e),u.b.prototype.e.call(this,t,e)},t.P=function(){return"vjs-control "+u.b.prototype.P.call(this)},t.p=m(),t.Pa=function(){u.d(document,"keyup",u.bind(this,this.aa))},t.aa=function(t){(32==t.which||13==t.which)&&(t.preventDefault(),this.p())},t.Oa=function(){u.o(document,"keyup",u.bind(this,this.aa))},u.N=u.b.extend({h:function(t,e){u.b.call(this,t,e),this.Qc=this.fa(this.g.barName),this.handle=this.fa(this.g.handleName),t.d(this.qc,u.bind(this,this.update)),this.d("mousedown",this.Qa),this.d("touchstart",this.Qa),this.d("focus",this.Pa),this.d("blur",this.Oa),this.d("click",this.p),this.c.d("controlsvisible",u.bind(this,this.update)),t.H(u.bind(this,this.update)),this.O={}}}),t=u.N.prototype,t.e=function(t,e){return e=e||{},e.className+=" vjs-slider",e=u.k.B({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),u.b.prototype.e.call(this,t,e)},t.Qa=function(t){t.preventDefault(),u.Rc(),this.O.move=u.bind(this,this.Hb),this.O.end=u.bind(this,this.Ib),u.d(document,"mousemove",this.O.move),u.d(document,"mouseup",this.O.end),u.d(document,"touchmove",this.O.move),u.d(document,"touchend",this.O.end),this.Hb(t)},t.Ib=function(){u.Cd(),u.o(document,"mousemove",this.O.move,l),u.o(document,"mouseup",this.O.end,l),u.o(document,"touchmove",this.O.move,l),u.o(document,"touchend",this.O.end,l),this.update()},t.update=function(){if(this.a){var t,e=this.xb(),n=this.handle,i=this.Qc;if(isNaN(e)&&(e=0),t=e,n){t=this.a.offsetWidth;var o=n.u().offsetWidth;t=o?o/t:0,e*=1-t,t=e+t/2,n.u().style.left=u.round(100*e,2)+"%"}i.u().style.width=u.round(100*t,2)+"%"}},t.Pa=function(){u.d(document,"keyup",u.bind(this,this.aa))},t.aa=function(t){37==t.which?(t.preventDefault(),this.wc()):39==t.which&&(t.preventDefault(),this.xc())},t.Oa=function(){u.o(document,"keyup",u.bind(this,this.aa))},t.p=function(t){t.stopImmediatePropagation(),t.preventDefault()},u.V=u.b.extend(),u.V.prototype.defaultValue=0,u.V.prototype.e=function(t,e){return e=e||{},e.className+=" vjs-slider-handle",e=u.k.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),u.b.prototype.e.call(this,"div",e)},u.la=u.b.extend(),u.la.prototype.e=function(){var t=this.options().Tc||"ul";return this.F=u.e(t,{className:"vjs-menu-content"}),t=u.b.prototype.e.call(this,"div",{append:this.F,className:"vjs-menu"}),t.appendChild(this.F),u.d(t,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),t},u.M=u.q.extend({h:function(t,e){u.q.call(this,t,e),this.selected(e.selected)}}),u.M.prototype.e=function(t,e){return u.q.prototype.e.call(this,"li",u.k.B({className:"vjs-menu-item",innerHTML:this.g.label},e))},u.M.prototype.p=function(){this.selected(f)},u.M.prototype.selected=function(t){t?(this.n("vjs-selected"),this.a.setAttribute("aria-selected",f)):(this.t("vjs-selected"),this.a.setAttribute("aria-selected",l))},u.R=u.q.extend({h:function(t,e){u.q.call(this,t,e),this.ua=this.La(),this.X(this.ua),this.K&&0===this.K.length&&this.D(),this.d("keyup",this.aa),this.a.setAttribute("aria-haspopup",f),this.a.setAttribute("role","button")}}),t=u.R.prototype,t.na=l,t.La=function(){var t=new u.la(this.c);if(this.options().title&&t.u().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Y(this.A),Ad:-1})),this.K=this.createItems())for(var e=0;e<this.K.length;e++)ca(t,this.K[e]);return t},t.qa=m(),t.P=function(){return this.className+" vjs-menu-button "+u.q.prototype.P.call(this)},t.Pa=m(),t.Oa=m(),t.p=function(){this.T("mouseout",u.bind(this,function(){D(this.ua),this.a.blur()})),this.na?G(this):H(this)},t.aa=function(t){t.preventDefault(),32==t.which||13==t.which?this.na?G(this):H(this):27==t.which&&this.na&&G(this)},u.Player=u.b.extend({h:function(t,e,n){this.L=t,t.id=t.id||"vjs_video_"+u.s++,e=u.k.B(da(t),e),this.v={},this.rc=e.poster,this.rb=e.controls,t.controls=l,e.tc=l,u.b.call(this,this,e,n),this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled"),this.T("play",function(t){u.j(this.a,{type:"firstplay",target:this.a})||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.d("ended",this.kd),this.d("play",this.Kb),this.d("firstplay",this.ld),this.d("pause",this.Jb),this.d("progress",this.nd),this.d("durationchange",this.pc),this.d("error",this.Gb),this.d("fullscreenchange",this.md),u.va[this.Q]=this,e.plugins&&u.k.ra(e.plugins,function(t,e){this[t](e)},this);var i,o,a,r;i=u.bind(this,this.reportUserActivity),this.d("mousedown",function(){i(),clearInterval(o),o=setInterval(i,250)}),this.d("mousemove",i),this.d("mouseup",function(){i(),clearInterval(o)}),this.d("keydown",i),this.d("keyup",i),a=setInterval(u.bind(this,function(){this.ia&&(this.ia=l,this.userActive(f),clearTimeout(r),r=setTimeout(u.bind(this,function(){this.ia||this.userActive(l)}),2e3))}),250),this.d("dispose",function(){clearInterval(a),clearTimeout(r)})}}),t=u.Player.prototype,t.g=u.options,t.dispose=function(){this.j("dispose"),this.o("dispose"),u.va[this.Q]=h,this.L&&this.L.player&&(this.L.player=h),this.a&&this.a.player&&(this.a.player=h),clearInterval(this.Sa),this.wa(),this.i&&this.i.dispose(),u.b.prototype.dispose.call(this)},t.e=function(){var t=this.a=u.b.prototype.e.call(this,"div"),e=this.L;if(e.removeAttribute("width"),e.removeAttribute("height"),e.hasChildNodes()){var n,i,o,a,r;for(n=e.childNodes,i=n.length,r=[];i--;)o=n[i],a=o.nodeName.toLowerCase(),"track"===a&&r.push(o);for(n=0;n<r.length;n++)e.removeChild(r[n])}return t.id=e.id,t.className=e.className,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.n("vjs-paused"),this.width(this.g.width,f),this.height(this.g.height,f),e.parentNode&&e.parentNode.insertBefore(t,e),u.yb(e,t),t},t.Ac=function(){this.ec&&this.wa(),this.ec=setInterval(u.bind(this,function(){this.j("timeupdate")}),250)},t.wa=function(){clearInterval(this.ec)},t.Kb=function(){u.t(this.a,"vjs-paused"),u.n(this.a,"vjs-playing")},t.ld=function(){this.g.starttime&&this.currentTime(this.g.starttime),this.n("vjs-has-started")},t.Jb=function(){u.t(this.a,"vjs-playing"),u.n(this.a,"vjs-paused")},t.nd=function(){1==this.bufferedPercent()&&this.j("loadedalldata")},t.kd=function(){this.g.loop&&(this.currentTime(0),this.play())},t.pc=function(){var t=K(this,"duration");t&&this.duration(t)},t.md=function(){this.isFullScreen()?this.n("vjs-fullscreen"):this.t("vjs-fullscreen")},t.Gb=function(t){u.log("Video Error",t)},t.play=function(){return L(this,"play"),this},t.pause=function(){return L(this,"pause"),this},t.paused=function(){return K(this,"paused")===l?l:f},t.currentTime=function(t){return t!==b?(L(this,"setCurrentTime",t),this.Eb&&this.j("timeupdate"),this):this.v.currentTime=K(this,"currentTime")||0},t.duration=function(t){return t!==b?(this.v.duration=parseFloat(t),this):(this.v.duration===b&&this.pc(),this.v.duration||0)},t.buffered=function(){var t=K(this,"buffered"),e=t.length-1,n=this.v.mb=this.v.mb||0;return t&&e>=0&&t.end(e)!==n&&(n=t.end(e),this.v.mb=n),u.sb(0,n)},t.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},t.volume=function(t){return t!==b?(t=Math.max(0,Math.min(1,parseFloat(t))),this.v.volume=t,L(this,"setVolume",t),u.ud(t),this):(t=parseFloat(K(this,"volume")),isNaN(t)?1:t)},t.muted=function(t){return t!==b?(L(this,"setMuted",t),this):K(this,"muted")||l},t.Va=function(){return K(this,"supportsFullScreen")||l},t.nc=l,t.isFullScreen=function(t){return t!==b?(this.nc=t,this):this.nc},t.requestFullScreen=function(){var t=u.Nb.requestFullScreen;return this.isFullScreen(f),t?(u.d(document,t.ub,u.bind(this,function(){this.isFullScreen(document[t.isFullScreen]),this.isFullScreen()===l&&u.o(document,t.ub,arguments.callee),this.j("fullscreenchange")})),this.a[t.uc]()):this.i.Va()?L(this,"enterFullScreen"):(this.ed=f,this.Yc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.ic)),document.documentElement.style.overflow="hidden",u.n(document.body,"vjs-full-window"),this.j("enterFullWindow"),this.j("fullscreenchange")),this},t.cancelFullScreen=function(){var t=u.Nb.requestFullScreen;return this.isFullScreen(l),t?document[t.ob]():this.i.Va()?L(this,"exitFullScreen"):(M(this),this.j("fullscreenchange")),this},t.ic=function(t){27===t.keyCode&&(this.isFullScreen()===f?this.cancelFullScreen():M(this))},t.src=function(t){if(t instanceof Array){var e;t:{e=t;for(var n=0,i=this.g.techOrder;n<i.length;n++){var o=u.Y(i[n]),a=window.videojs[o];if(a.isSupported())for(var r=0,s=e;r<s.length;r++){var c=s[r];if(a.canPlaySource(c)){e={source:c,i:o};break t}}}e=l}e?(t=e.source,e=e.i,e==this.xa?this.src(t):I(this,e,t)):this.a.appendChild(u.e("p",{innerHTML:this.options().notSupportedMessage}))}else t instanceof Object?window.videojs[this.xa].canPlaySource(t)?this.src(t.src):this.src([t]):(this.v.src=t,this.$?(L(this,"src",t),"auto"==this.g.preload&&this.load(),this.g.autoplay&&this.play()):this.H(function(){this.src(t)}));return this},t.load=function(){return L(this,"load"),this},t.currentSrc=function(){return K(this,"currentSrc")||this.v.src||""},t.Ra=function(t){return t!==b?(L(this,"setPreload",t),this.g.preload=t,this):K(this,"preload")},t.autoplay=function(t){return t!==b?(L(this,"setAutoplay",t),this.g.autoplay=t,this):K(this,"autoplay")},t.loop=function(t){return t!==b?(L(this,"setLoop",t),this.g.loop=t,this):K(this,"loop")},t.poster=function(t){return t===b?this.rc:(this.rc=t,L(this,"setPoster",t),this.j("posterchange"),void 0)},t.controls=function(t){return t!==b?(t=!!t,this.rb!==t&&((this.rb=t)?(this.t("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.j("controlsenabled")):(this.t("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.j("controlsdisabled"))),this):this.rb},u.Player.prototype.Pb,t=u.Player.prototype,t.usingNativeControls=function(t){return t!==b?(t=!!t,this.Pb!==t&&((this.Pb=t)?(this.n("vjs-using-native-controls"),this.j("usingnativecontrols")):(this.t("vjs-using-native-controls"),this.j("usingcustomcontrols"))),this):this.Pb},t.error=function(){return K(this,"error")},t.ended=function(){return K(this,"ended")},t.seeking=function(){return K(this,"seeking")},t.ia=f,t.reportUserActivity=function(){this.ia=f},t.Ob=f,t.userActive=function(t){return t!==b?(t=!!t,t!==this.Ob&&((this.Ob=t)?(this.ia=f,this.t("vjs-user-inactive"),this.n("vjs-user-active"),this.j("useractive")):(this.ia=l,this.i.T("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.t("vjs-user-active"),this.n("vjs-user-inactive"),this.j("userinactive"))),this):this.Ob};var N,O,P;P=document.createElement("div"),O={},P.Jd!==b?(O.uc="requestFullscreen",O.ob="exitFullscreen",O.ub="fullscreenchange",O.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(N="moz",O.isFullScreen=N+"FullScreen"):(N="webkit",O.isFullScreen=N+"IsFullScreen"),P[N+"RequestFullScreen"]&&(O.uc=N+"RequestFullScreen",O.ob=N+"CancelFullScreen"),O.ub=N+"fullscreenchange"),document[O.ob]&&(u.Nb.requestFullScreen=O),u.Ca=u.b.extend(),u.Ca.prototype.g={Od:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},u.Ca.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})},u.Wb=u.q.extend({h:function(t,e){u.q.call(this,t,e),t.d("play",u.bind(this,this.Kb)),t.d("pause",u.bind(this,this.Jb))}}),t=u.Wb.prototype,t.oa="Play",t.P=function(){return"vjs-play-control "+u.q.prototype.P.call(this)},t.p=function(){this.c.paused()?this.c.play():this.c.pause()},t.Kb=function(){u.t(this.a,"vjs-paused"),u.n(this.a,"vjs-playing"),this.a.children[0].children[0].innerHTML="Pause"},t.Jb=function(){u.t(this.a,"vjs-playing"),u.n(this.a,"vjs-paused"),this.a.children[0].children[0].innerHTML="Play"},u.$a=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.$a.prototype.e=function(){var t=u.b.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.F=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(this.F),t},u.$a.prototype.ca=function(){var t=this.c.Ua?this.c.v.currentTime:this.c.currentTime();this.F.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.ta(t,this.c.duration())},u.ab=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.ab.prototype.e=function(){var t=u.b.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.F=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),t.appendChild(this.F),t},u.ab.prototype.ca=function(){var t=this.c.duration();t&&(this.F.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.ta(t))},u.ac=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.ac.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},u.gb=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.gb.prototype.e=function(){var t=u.b.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.F=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),t.appendChild(this.F),t},u.gb.prototype.ca=function(){this.c.duration()&&(this.F.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.ta(this.c.duration()-this.c.currentTime()))},u.Da=u.q.extend({h:function(t,e){u.q.call(this,t,e)}}),u.Da.prototype.oa="Fullscreen",u.Da.prototype.P=function(){return"vjs-fullscreen-control "+u.q.prototype.P.call(this)},u.Da.prototype.p=function(){this.c.isFullScreen()?(this.c.cancelFullScreen(),this.a.children[0].children[0].innerHTML="Fullscreen"):(this.c.requestFullScreen(),this.a.children[0].children[0].innerHTML="Non-Fullscreen")},u.fb=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.fb.prototype.g={children:{seekBar:{}}},u.fb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},u.Xb=u.N.extend({h:function(t,e){u.N.call(this,t,e),t.d("timeupdate",u.bind(this,this.za)),t.H(u.bind(this,this.za))}}),t=u.Xb.prototype,t.g={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},t.qc="timeupdate",t.e=function(){return u.N.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},t.za=function(){var t=this.c.Ua?this.c.v.currentTime:this.c.currentTime();this.a.setAttribute("aria-valuenow",u.round(100*this.xb(),2)),this.a.setAttribute("aria-valuetext",u.ta(t,this.c.duration()))},t.xb=function(){return this.c.currentTime()/this.c.duration()},t.Qa=function(t){u.N.prototype.Qa.call(this,t),this.c.Ua=f,this.Ed=!this.c.paused(),this.c.pause()},t.Hb=function(t){t=F(this,t)*this.c.duration(),t==this.c.duration()&&(t-=.1),this.c.currentTime(t)},t.Ib=function(t){u.N.prototype.Ib.call(this,t),this.c.Ua=l,this.Ed&&this.c.play()},t.xc=function(){this.c.currentTime(this.c.currentTime()+5)},t.wc=function(){this.c.currentTime(this.c.currentTime()-5)},u.cb=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("progress",u.bind(this,this.update))}}),u.cb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},u.cb.prototype.update=function(){this.a.style&&(this.a.style.width=u.round(100*this.c.bufferedPercent(),2)+"%")},u.Vb=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.Vb.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},u.Fa=u.V.extend({h:function(t,e){u.V.call(this,t,e),t.d("timeupdate",u.bind(this,this.ca))}}),u.Fa.prototype.defaultValue="00:00",u.Fa.prototype.e=function(){return u.V.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},u.Fa.prototype.ca=function(){var t=this.c.Ua?this.c.v.currentTime:this.c.currentTime();this.a.innerHTML='<span class="vjs-control-text">'+u.ta(t,this.c.duration())+"</span>"},u.ib=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.i&&t.i.m&&t.i.m.volumeControl===l&&this.n("vjs-hidden"),t.d("loadstart",u.bind(this,function(){t.i.m&&t.i.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}}),u.ib.prototype.g={children:{volumeBar:{}}},u.ib.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},u.hb=u.N.extend({h:function(t,e){u.N.call(this,t,e),t.d("volumechange",u.bind(this,this.za)),t.H(u.bind(this,this.za)),setTimeout(u.bind(this,this.update),0)}}),t=u.hb.prototype,t.za=function(){this.a.setAttribute("aria-valuenow",u.round(100*this.c.volume(),2)),this.a.setAttribute("aria-valuetext",u.round(100*this.c.volume(),2)+"%")},t.g={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},t.qc="volumechange",t.e=function(){return u.N.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},t.Hb=function(t){this.c.muted()&&this.c.muted(l),this.c.volume(F(this,t))},t.xb=function(){return this.c.muted()?0:this.c.volume()},t.xc=function(){this.c.volume(this.c.volume()+.1)},t.wc=function(){this.c.volume(this.c.volume()-.1)},u.bc=u.b.extend({h:function(t,e){u.b.call(this,t,e)}}),u.bc.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},u.jb=u.V.extend(),u.jb.prototype.defaultValue="00:00",u.jb.prototype.e=function(){return u.V.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},u.da=u.q.extend({h:function(t,e){u.q.call(this,t,e),t.d("volumechange",u.bind(this,this.update)),t.i&&t.i.m&&t.i.m.volumeControl===l&&this.n("vjs-hidden"),t.d("loadstart",u.bind(this,function(){t.i.m&&t.i.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}}),u.da.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.da.prototype.p=function(){this.c.muted(this.c.muted()?l:f)},u.da.prototype.update=function(){var t=this.c.volume(),e=3;for(0===t||this.c.muted()?e=0:.33>t?e=1:.67>t&&(e=2),this.c.muted()?"Unmute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Mute"),t=0;4>t;t++)u.t(this.a,"vjs-vol-"+t);u.n(this.a,"vjs-vol-"+e)},u.ma=u.R.extend({h:function(t,e){u.R.call(this,t,e),t.d("volumechange",u.bind(this,this.update)),t.i&&t.i.m&&t.i.m.Bc===l&&this.n("vjs-hidden"),t.d("loadstart",u.bind(this,function(){t.i.m&&t.i.m.Bc===l?this.n("vjs-hidden"):this.t("vjs-hidden")})),this.n("vjs-menu-button")}}),u.ma.prototype.La=function(){var t=new u.la(this.c,{Tc:"div"}),e=new u.hb(this.c,u.k.B({Dd:f},this.g.Xd));return t.X(e),t},u.ma.prototype.p=function(){u.da.prototype.p.call(this),u.R.prototype.p.call(this)},u.ma.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.ma.prototype.update=u.da.prototype.update,u.Ea=u.q.extend({h:function(t,e){u.q.call(this,t,e),t.poster()&&this.src(t.poster()),(!t.poster()||!t.controls())&&this.D(),t.d("posterchange",u.bind(this,function(){this.src(t.poster())})),t.d("play",u.bind(this,this.D))}});var Q="backgroundSize"in u.ea.style;u.Ea.prototype.e=function(){var t=u.e("div",{className:"vjs-poster",tabIndex:-1});return Q||t.appendChild(u.e("img")),t},u.Ea.prototype.src=function(t){var e=this.u();t!==b&&(Q?e.style.backgroundImage='url("'+t+'")':e.firstChild.src=t)},u.Ea.prototype.p=function(){this.C().controls()&&this.c.play()},u.Ub=u.b.extend({h:function(t,e){u.b.call(this,t,e),t.d("canplay",u.bind(this,this.D)),t.d("canplaythrough",u.bind(this,this.D)),t.d("playing",u.bind(this,this.D)),t.d("seeked",u.bind(this,this.D)),t.d("seeking",u.bind(this,this.show)),t.d("seeked",u.bind(this,this.D)),t.d("error",u.bind(this,this.show)),t.d("waiting",u.bind(this,this.show))}}),u.Ub.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},u.Ya=u.q.extend(),u.Ya.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},u.Ya.prototype.p=function(){this.c.play()},u.r=u.b.extend({h:function(t,e,n){e=e||{},e.tc=l,u.b.call(this,t,e,n);var i,o;o=this,i=this.C(),t=function(){if(i.controls()&&!i.usingNativeControls()){var t;o.d("mousedown",o.p),o.d("touchstart",function(e){e.preventDefault(),t=this.c.userActive()}),o.d("touchmove",function(){t&&this.C().reportUserActivity()});var e,n,a,r;e=0,o.d("touchstart",function(){e=(new Date).getTime(),a=f}),r=function(){a=l},o.d("touchmove",r),o.d("touchleave",r),o.d("touchcancel",r),o.d("touchend",function(){a===f&&(n=(new Date).getTime()-e,250>n&&this.j("tap"))}),o.d("tap",o.od)}},e=u.bind(o,o.rd),this.H(t),i.d("controlsenabled",t),i.d("controlsdisabled",e)}}),u.r.prototype.rd=function(){this.o("tap"),this.o("touchstart"),this.o("touchmove"),this.o("touchleave"),this.o("touchcancel"),this.o("touchend"),this.o("click"),this.o("mousedown")},u.r.prototype.p=function(t){0===t.button&&this.C().controls()&&(this.C().paused()?this.C().play():this.C().pause())},u.r.prototype.od=function(){this.C().userActive(!this.C().userActive())},u.r.prototype.m={volumeControl:f,fullscreenResize:l,progressEvents:l,timeupdateEvents:l},u.media={},u.media.Xa="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");for(var i=u.media.Xa.length-1;i>=0;i--)u.r.prototype[u.media.Xa[i]]=ea();u.l=u.r.extend({h:function(t,e,n){for(this.m.volumeControl=u.l.Sc(),this.m.movingMediaElementInDOM=!u.Hc,this.m.fullscreenResize=f,u.r.call(this,t,e,n),n=u.l.bb.length-1;n>=0;n--)u.d(this.a,u.l.bb[n],u.bind(this.c,this.$c));if((e=e.source)&&this.a.currentSrc===e.src&&0<this.a.networkState?t.j("loadstart"):e&&(this.a.src=e.src),u.Zb&&t.options().nativeControlsForTouch!==l){var i,o,a,r;i=this,o=this.C(),e=o.controls(),i.a.controls=!!e,a=function(){i.a.controls=f},r=function(){i.a.controls=l},o.d("controlsenabled",a),o.d("controlsdisabled",r),e=function(){o.o("controlsenabled",a),o.o("controlsdisabled",r)},i.d("dispose",e),o.d("usingcustomcontrols",e),o.usingNativeControls(f)}t.H(function(){this.L&&this.g.autoplay&&this.paused()&&(delete this.L.poster,this.play())}),this.Wa()}}),t=u.l.prototype,t.dispose=function(){u.r.prototype.dispose.call(this)},t.e=function(){var t,e=this.c,n=e.L;n&&this.m.movingMediaElementInDOM!==l||(n?(t=n.cloneNode(l),u.l.fc(n),n=t,e.L=h):n=u.e("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),n.player=e,u.yb(n,e.u())),t=["autoplay","preload","loop","muted"];for(var i=t.length-1;i>=0;i--){var o=t[i];e.g[o]!==h&&(n[o]=e.g[o])}return n},t.$c=function(t){this.j(t),t.stopPropagation()},t.play=function(){this.a.play()},t.pause=function(){this.a.pause()},t.paused=function(){return this.a.paused},t.currentTime=function(){return this.a.currentTime},t.td=function(t){try{this.a.currentTime=t}catch(e){u.log(e,"Video is not ready. (Video.js)")}},t.duration=function(){return this.a.duration||0},t.buffered=function(){return this.a.buffered},t.volume=function(){return this.a.volume},t.yd=function(t){this.a.volume=t},t.muted=function(){return this.a.muted},t.wd=function(t){this.a.muted=t},t.width=function(){return this.a.offsetWidth},t.height=function(){return this.a.offsetHeight},t.Va=function(){return"function"!=typeof this.a.webkitEnterFullScreen||!/Android/.test(u.I)&&/Chrome|Mac OS X 10.5/.test(u.I)?l:f},t.gc=function(){var t=this.a;t.paused&&t.networkState<=t.Gd?(this.a.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},t.ad=function(){this.a.webkitExitFullScreen()},t.src=function(t){this.a.src=t},t.load=function(){this.a.load()},t.currentSrc=function(){return this.a.currentSrc},t.poster=function(){return this.a.poster},t.Ra=function(){return this.a.Ra},t.xd=function(t){this.a.Ra=t},t.autoplay=function(){return this.a.autoplay},t.sd=function(t){this.a.autoplay=t},t.controls=function(){return this.a.controls},t.loop=function(){return this.a.loop},t.vd=function(t){this.a.loop=t},t.error=function(){return this.a.error},t.seeking=function(){return this.a.seeking},t.ended=function(){return this.a.ended},u.l.isSupported=function(){return!!u.ea.canPlayType},u.l.nb=function(t){try{return!!u.ea.canPlayType(t.type)}catch(e){return""}},u.l.Sc=function(){var t=u.ea.volume;return u.ea.volume=t/2+.1,t!==u.ea.volume},u.l.bb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),u.l.fc=function(t){if(t){for(t.player=h,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&t.load()}},u.Lc&&(document.createElement("video").constructor.prototype.canPlayType=function(t){return t&&-1!=t.toLowerCase().indexOf("video/mp4")?"maybe":""}),u.f=u.r.extend({h:function(t,e,n){u.r.call(this,t,e,n);var i=e.source;n=e.parentEl;var o=this.a=u.e("div",{id:t.id()+"_temp_flash"}),a=t.id()+"_flash_api";t=t.g;var r,s=u.k.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.Ra,loop:t.loop,muted:t.muted},e.flashVars),c=u.k.B({wmode:"opaque",bgcolor:"#000000"},e.params),h=u.k.B({id:a,name:a,"class":"vjs-tech"},e.attributes);if(i&&(i.type&&u.f.gd(i.type)?(t=u.f.yc(i.src),s.rtmpConnection=encodeURIComponent(t.qb),s.rtmpStream=encodeURIComponent(t.Mb)):s.src=encodeURIComponent(u.jc(i.src))),this.setCurrentTime=function(t){r=t,this.a.vjs_setProperty("currentTime",t)},this.currentTime=function(){return this.seeking()?r:this.a.vjs_getProperty("currentTime")},u.yb(o,n),e.startTime&&this.H(function(){this.load(),this.play(),this.currentTime(e.startTime)}),u.Tb&&this.H(function(){u.d(this.u(),"mousemove",u.bind(this,function(){this.C().j({type:"mousemove",bubbles:l})}))}),e.iFrameMode!==f||u.Tb)u.f.Zc(e.swf,o,s,c,h);else{var d=u.e("iframe",{id:a+"_iframe",name:a+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});s.readyFunction="ready",s.eventProxyFunction="events",s.errorEventProxyFunction="errors",u.d(d,"load",u.bind(this,function(){var t,n=d.contentWindow;t=d.contentDocument?d.contentDocument:d.contentWindow.document,t.write(u.f.kc(e.swf,s,c,h)),n.player=this.c,n.ready=u.bind(this.c,function(e){var n=this.i;n.a=t.getElementById(e),u.f.pb(n)}),n.events=u.bind(this.c,function(t,e){this&&"flash"===this.xa&&this.j(e)}),n.errors=u.bind(this.c,function(t,e){u.log("Flash Error",e)})})),o.parentNode.replaceChild(d,o)}}}),t=u.f.prototype,t.dispose=function(){u.r.prototype.dispose.call(this)},t.play=function(){this.a.vjs_play()},t.pause=function(){this.a.vjs_pause()},t.src=function(t){if(u.f.fd(t)?(t=u.f.yc(t),this.Sd(t.qb),this.Td(t.Mb)):(t=u.jc(t),this.a.vjs_src(t)),this.c.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},t.currentSrc=function(){var t=this.a.vjs_getProperty("currentSrc");if(t==h){var e=this.Qd(),n=this.Rd();e&&n&&(t=u.f.zd(e,n))}return t},t.load=function(){this.a.vjs_load()},t.poster=function(){this.a.vjs_getProperty("poster")},t.buffered=function(){return u.sb(0,this.a.vjs_getProperty("buffered"))},t.Va=r(l),t.gc=r(l);var R=u.f.prototype,S="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),T="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),U;for(U=0;U<S.length;U++)V(S[U]),fa();for(U=0;U<T.length;U++)V(T[U]);if(u.f.isSupported=function(){return 10<=u.f.version()[0]},u.f.nb=function(t){return t.type?(t=t.type.replace(/;.*/,"").toLowerCase(),t in u.f.cd||t in u.f.zc?"maybe":void 0):""},u.f.cd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},u.f.zc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},u.f.onReady=function(t){t=u.u(t);var e=t.player||t.parentNode.player,n=e.i;t.player=e,n.a=t,u.f.pb(n)},u.f.pb=function(t){t.u().vjs_getProperty?t.Wa():setTimeout(function(){u.f.pb(t)},50)},u.f.onEvent=function(t,e){u.u(t).player.j(e)
},u.f.onError=function(t,e){u.u(t).player.j("error"),u.log("Flash Error",e,t)},u.f.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return t.split(",")},u.f.Zc=function(t,e,n,i,o){t=u.f.kc(t,n,i,o),t=u.e("div",{innerHTML:t}).childNodes[0],n=e.parentNode,e.parentNode.replaceChild(t,e);var a=n.childNodes[0];setTimeout(function(){a.style.display="block"},1e3)},u.f.kc=function(t,e,n,i){var o="",a="",r="";return e&&u.k.ra(e,function(t,e){o+=t+"="+e+"&amp;"}),n=u.k.B({movie:t,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),u.k.ra(n,function(t,e){a+='<param name="'+t+'" value="'+e+'" />'}),i=u.k.B({data:t,width:"100%",height:"100%"},i),u.k.ra(i,function(t,e){r+=t+'="'+e+'" '}),'<object type="application/x-shockwave-flash"'+r+">"+a+"</object>"},u.f.zd=function(t,e){return t+"&"+e},u.f.yc=function(t){var e={qb:"",Mb:""};if(!t)return e;var n,i=t.indexOf("&");return-1!==i?n=i+1:(i=n=t.lastIndexOf("/")+1,0===i&&(i=n=t.length)),e.qb=t.substring(0,i),e.Mb=t.substring(n,t.length),e},u.f.gd=function(t){return t in u.f.zc},u.f.Nc=/^rtmp[set]?:\/\//i,u.f.fd=function(t){return u.f.Nc.test(t)},u.Mc=u.b.extend({h:function(t,e,n){if(u.b.call(this,t,e,n),t.g.sources&&0!==t.g.sources.length)t.src(t.g.sources);else for(e=0,n=t.g.techOrder;e<n.length;e++){var i=u.Y(n[e]),o=window.videojs[i];if(o&&o.isSupported()){I(t,i);break}}}}),u.Player.prototype.textTracks=function(){return this.ya=this.ya||[]},u.w=u.b.extend({h:function(t,e){u.b.call(this,t,e),this.Q=e.id||"vjs_"+e.kind+"_"+e.language+"_"+u.s++,this.vc=e.src,this.Wc=e["default"]||e.dflt,this.Bd=e.title,this.Nd=e.srclang,this.hd=e.label,this.Z=[],this.kb=[],this.ga=this.ha=0,this.c.d("fullscreenchange",u.bind(this,this.Pc))}}),t=u.w.prototype,t.G=p("A"),t.src=p("vc"),t.tb=p("Wc"),t.title=p("Bd"),t.label=p("hd"),t.Uc=p("Z"),t.Oc=p("kb"),t.readyState=p("ha"),t.mode=p("ga"),t.Pc=function(){this.a.style.fontSize=this.c.isFullScreen()?140*(screen.width/this.c.width())+"%":""},t.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})},t.show=function(){X(this),this.ga=2,u.b.prototype.show.call(this)},t.D=function(){X(this),this.ga=1,u.b.prototype.D.call(this)},t.disable=function(){2==this.ga&&this.D(),this.c.o("timeupdate",u.bind(this,this.update,this.Q)),this.c.o("ended",u.bind(this,this.reset,this.Q)),this.reset(),this.c.fa("textTrackDisplay").removeChild(this),this.ga=0},t.load=function(){0===this.ha&&(this.ha=1,u.get(this.vc,u.bind(this,this.pd),u.bind(this,this.Gb)))},t.Gb=function(t){this.error=t,this.ha=3,this.j("error")},t.pd=function(t){var e,n;t=t.split("\n");for(var i="",o=1,a=t.length;a>o;o++)if(i=u.trim(t[o])){for(-1==i.indexOf("-->")?(e=i,i=u.trim(t[++o])):e=this.Z.length,e={id:e,index:this.Z.length},n=i.split(" --> "),e.startTime=Y(n[0]),e.sa=Y(n[1]),n=[];t[++o]&&(i=u.trim(t[o]));)n.push(i);e.text=n.join("<br/>"),this.Z.push(e)}this.ha=2,this.j("loaded")},t.update=function(){if(0<this.Z.length){var t=this.c.currentTime();if(this.Lb===b||t<this.Lb||this.Na<=t){var e,n,i,o,a=this.Z,r=this.c.duration(),s=0,c=l,u=[];for(t>=this.Na||this.Na===b?o=this.vb!==b?this.vb:0:(c=f,o=this.Cb!==b?this.Cb:a.length-1);;){if(i=a[o],i.sa<=t)s=Math.max(s,i.sa),i.Ha&&(i.Ha=l);else if(t<i.startTime){if(r=Math.min(r,i.startTime),i.Ha&&(i.Ha=l),!c)break}else c?(u.splice(0,0,i),n===b&&(n=o),e=o):(u.push(i),e===b&&(e=o),n=o),r=Math.min(r,i.sa),s=Math.max(s,i.startTime),i.Ha=f;if(c){if(0===o)break;o--}else{if(o===a.length-1)break;o++}}for(this.kb=u,this.Na=r,this.Lb=s,this.vb=e,this.Cb=n,t=this.kb,a="",r=0,s=t.length;s>r;r++)a+='<span class="vjs-tt-cue">'+t[r].text+"</span>";this.a.innerHTML=a,this.j("cuechange")}}},t.reset=function(){this.Na=0,this.Lb=this.c.duration(),this.Cb=this.vb=0},u.Rb=u.w.extend(),u.Rb.prototype.A="captions",u.Yb=u.w.extend(),u.Yb.prototype.A="subtitles",u.Sb=u.w.extend(),u.Sb.prototype.A="chapters",u.$b=u.b.extend({h:function(t,e,n){if(u.b.call(this,t,e,n),t.g.tracks&&0<t.g.tracks.length){e=this.c,t=t.g.tracks;var i;for(n=0;n<t.length;n++){i=t[n];var o=e,a=i.kind,r=i.label,s=i.language,l=i;i=o.ya=o.ya||[],l=l||{},l.kind=a,l.label=r,l.language=s,a=u.Y(a||"subtitles"),o=new window.videojs[a+"Track"](o,l),i.push(o)}}}}),u.$b.prototype.e=function(){return u.b.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},u.W=u.M.extend({h:function(t,e){var n=this.ba=e.track;e.label=n.label(),e.selected=n.tb(),u.M.call(this,t,e),this.c.d(n.G()+"trackchange",u.bind(this,this.update))}}),u.W.prototype.p=function(){u.M.prototype.p.call(this),W(this.c,this.ba.Q,this.ba.G())},u.W.prototype.update=function(){this.selected(2==this.ba.mode())},u.eb=u.W.extend({h:function(t,e){e.track={G:function(){return e.kind},C:t,label:function(){return e.kind+" off"},tb:r(l),mode:r(l)},u.W.call(this,t,e),this.selected(f)}}),u.eb.prototype.p=function(){u.W.prototype.p.call(this),W(this.c,this.ba.Q,this.ba.G())},u.eb.prototype.update=function(){for(var t,e=this.c.textTracks(),n=0,i=e.length,o=f;i>n;n++)t=e[n],t.G()==this.ba.G()&&2==t.mode()&&(o=l);this.selected(o)},u.S=u.R.extend({h:function(t,e){u.R.call(this,t,e),1>=this.K.length&&this.D()}}),u.S.prototype.qa=function(){var t,e=[];e.push(new u.eb(this.c,{kind:this.A}));for(var n=0;n<this.c.textTracks().length;n++)t=this.c.textTracks()[n],t.G()===this.A&&e.push(new u.W(this.c,{track:t}));return e},u.Aa=u.S.extend({h:function(t,e,n){u.S.call(this,t,e,n),this.a.setAttribute("aria-label","Captions Menu")}}),u.Aa.prototype.A="captions",u.Aa.prototype.oa="Captions",u.Aa.prototype.className="vjs-captions-button",u.Ga=u.S.extend({h:function(t,e,n){u.S.call(this,t,e,n),this.a.setAttribute("aria-label","Subtitles Menu")}}),u.Ga.prototype.A="subtitles",u.Ga.prototype.oa="Subtitles",u.Ga.prototype.className="vjs-subtitles-button",u.Ba=u.S.extend({h:function(t,e,n){u.S.call(this,t,e,n),this.a.setAttribute("aria-label","Chapters Menu")}}),t=u.Ba.prototype,t.A="chapters",t.oa="Chapters",t.className="vjs-chapters-button",t.qa=function(){for(var t,e=[],n=0;n<this.c.textTracks().length;n++)t=this.c.textTracks()[n],t.G()===this.A&&e.push(new u.W(this.c,{track:t}));return e},t.La=function(){for(var t,e,n=this.c.textTracks(),i=0,o=n.length,a=this.K=[];o>i;i++)if(t=n[i],t.G()==this.A&&t.tb()){if(2>t.readyState())return this.Kd=t,t.d("loaded",u.bind(this,this.La)),void 0;e=t;break}if(n=this.ua=new u.la(this.c),n.a.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Y(this.A),Ad:-1})),e){t=e.Z;for(var r,i=0,o=t.length;o>i;i++)r=t[i],r=new u.Za(this.c,{track:e,cue:r}),a.push(r),n.X(r)}return 0<this.K.length&&this.show(),n},u.Za=u.M.extend({h:function(t,e){var n=this.ba=e.track,i=this.cue=e.cue,o=t.currentTime();e.label=i.text,e.selected=i.startTime<=o&&o<i.sa,u.M.call(this,t,e),n.d("cuechange",u.bind(this,this.update))}}),u.Za.prototype.p=function(){u.M.prototype.p.call(this),this.c.currentTime(this.cue.startTime),this.update(this.cue.startTime)},u.Za.prototype.update=function(){var t=this.cue,e=this.c.currentTime();this.selected(t.startTime<=e&&e<t.sa)},u.k.B(u.Ca.prototype.g.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=d(o,n),i!==b?o[n]=i:delete o[n]);return c.call(t,e,o)}var e;if(a=String(a),Z.lastIndex=0,Z.test(a)&&(a=a.replace(Z,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}u.cc=function(){var t,e,n=document.getElementsByTagName("video");if(n&&0<n.length)for(var i=0,o=n.length;o>i;i++){if(!(e=n[i])||!e.getAttribute){u.lb();break}e.player===b&&(t=e.getAttribute("data-setup"),t!==h&&(t=u.JSON.parse(t||"{}"),videojs(e,t)))}else u.Cc||u.lb()},u.lb=function(){setTimeout(u.cc,1)},"complete"===document.readyState?u.Cc=f:u.T(window,"load",function(){u.Cc=f}),u.lb(),u.qd=function(t,e){u.Player.prototype[t]=e};var ga=this;ga.Fd=f,$("videojs",u),$("_V_",u),$("videojs.options",u.options),$("videojs.players",u.va),$("videojs.TOUCH_ENABLED",u.Zb),$("videojs.cache",u.pa),$("videojs.Component",u.b),u.b.prototype.player=u.b.prototype.C,u.b.prototype.options=u.b.prototype.options,u.b.prototype.init=u.b.prototype.h,u.b.prototype.dispose=u.b.prototype.dispose,u.b.prototype.createEl=u.b.prototype.e,u.b.prototype.contentEl=u.b.prototype.Ka,u.b.prototype.el=u.b.prototype.u,u.b.prototype.addChild=u.b.prototype.X,u.b.prototype.getChild=u.b.prototype.fa,u.b.prototype.getChildById=u.b.prototype.dd,u.b.prototype.children=u.b.prototype.children,u.b.prototype.initChildren=u.b.prototype.mc,u.b.prototype.removeChild=u.b.prototype.removeChild,u.b.prototype.on=u.b.prototype.d,u.b.prototype.off=u.b.prototype.o,u.b.prototype.one=u.b.prototype.T,u.b.prototype.trigger=u.b.prototype.j,u.b.prototype.triggerReady=u.b.prototype.Wa,u.b.prototype.show=u.b.prototype.show,u.b.prototype.hide=u.b.prototype.D,u.b.prototype.width=u.b.prototype.width,u.b.prototype.height=u.b.prototype.height,u.b.prototype.dimensions=u.b.prototype.Xc,u.b.prototype.ready=u.b.prototype.H,u.b.prototype.addClass=u.b.prototype.n,u.b.prototype.removeClass=u.b.prototype.t,u.b.prototype.buildCSSClass=u.b.prototype.P,u.Player.prototype.ended=u.Player.prototype.ended,$("videojs.MediaLoader",u.Mc),$("videojs.TextTrackDisplay",u.$b),$("videojs.ControlBar",u.Ca),$("videojs.Button",u.q),$("videojs.PlayToggle",u.Wb),$("videojs.FullscreenToggle",u.Da),$("videojs.BigPlayButton",u.Ya),$("videojs.LoadingSpinner",u.Ub),$("videojs.CurrentTimeDisplay",u.$a),$("videojs.DurationDisplay",u.ab),$("videojs.TimeDivider",u.ac),$("videojs.RemainingTimeDisplay",u.gb),$("videojs.Slider",u.N),$("videojs.ProgressControl",u.fb),$("videojs.SeekBar",u.Xb),$("videojs.LoadProgressBar",u.cb),$("videojs.PlayProgressBar",u.Vb),$("videojs.SeekHandle",u.Fa),$("videojs.VolumeControl",u.ib),$("videojs.VolumeBar",u.hb),$("videojs.VolumeLevel",u.bc),$("videojs.VolumeMenuButton",u.ma),$("videojs.VolumeHandle",u.jb),$("videojs.MuteToggle",u.da),$("videojs.PosterImage",u.Ea),$("videojs.Menu",u.la),$("videojs.MenuItem",u.M),$("videojs.MenuButton",u.R),u.R.prototype.createItems=u.R.prototype.qa,u.S.prototype.createItems=u.S.prototype.qa,u.Ba.prototype.createItems=u.Ba.prototype.qa,$("videojs.SubtitlesButton",u.Ga),$("videojs.CaptionsButton",u.Aa),$("videojs.ChaptersButton",u.Ba),$("videojs.MediaTechController",u.r),u.r.prototype.features=u.r.prototype.m,u.r.prototype.m.volumeControl=u.r.prototype.m.Bc,u.r.prototype.m.fullscreenResize=u.r.prototype.m.Ld,u.r.prototype.m.progressEvents=u.r.prototype.m.Pd,u.r.prototype.m.timeupdateEvents=u.r.prototype.m.Ud,$("videojs.Html5",u.l),u.l.Events=u.l.bb,u.l.isSupported=u.l.isSupported,u.l.canPlaySource=u.l.nb,u.l.prototype.setCurrentTime=u.l.prototype.td,u.l.prototype.setVolume=u.l.prototype.yd,u.l.prototype.setMuted=u.l.prototype.wd,u.l.prototype.setPreload=u.l.prototype.xd,u.l.prototype.setAutoplay=u.l.prototype.sd,u.l.prototype.setLoop=u.l.prototype.vd,u.l.prototype.enterFullScreen=u.l.prototype.gc,u.l.prototype.exitFullScreen=u.l.prototype.ad,$("videojs.Flash",u.f),u.f.isSupported=u.f.isSupported,u.f.canPlaySource=u.f.nb,u.f.onReady=u.f.onReady,$("videojs.TextTrack",u.w),u.w.prototype.label=u.w.prototype.label,u.w.prototype.kind=u.w.prototype.G,u.w.prototype.mode=u.w.prototype.mode,u.w.prototype.cues=u.w.prototype.Uc,u.w.prototype.activeCues=u.w.prototype.Oc,$("videojs.CaptionsTrack",u.Rb),$("videojs.SubtitlesTrack",u.Yb),$("videojs.ChaptersTrack",u.Sb),$("videojs.autoSetup",u.cc),$("videojs.plugin",u.qd),$("videojs.createTimeRange",u.sb),$("videojs.util",u.ja),u.ja.mergeOptions=u.ja.Fb}();var ready;ready=function(){var t=new EventSource("/comments/events");console.log(t),t.onmessage=function(t){t.data.length>4&&(console.log("e.data",t.data),data=$.parseJSON(t.data),comment=data.comment,name=data.name,sent_when=data.sent_when,url=data.url,console.log(data),div="div#"+comment.post_id,console.log($(div).find(".post_comments")),$(div).find(".post_comments").prepend(" <li id='"+comment.id+"', class='comment_block'> <a href='/members/"+comment.member_id+"'> <img class='comment_member_image img-rounded' src='"+url+"' > </a> <a href='/members/"+comment.member_id+"'>"+name+"</a>: "+comment.content+"<br/> -"+sent_when+" | <a data-method='delete' data-remote='true' href='/comments/"+comment.id+"' rel='nofollow'>delete</a><br/> </li> "))}},$(document).ready(ready),function(){}.call(this),function(){var t;t=function(){var t,e,n;return e=$("#actual_image"),n=e.attr("data-image"),0!==e.length?t=setInterval(function(){var i;return i=e.attr("data-most-recent-comment"),$.ajax({type:"GET",url:"/updates/comments",data:{post_id:n,most_recent_comment:i}}).always(function(){return $(document).on("page:change",function(){return clearInterval(t)})})},5e3):void 0},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(t,e,n){function i(n,i,o){var a=e.createElement(n);return i&&(a.id=Z+i),o&&(a.style.cssText=o),t(a)}function o(){return n.innerHeight?n.innerHeight:t(n).height()}function a(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var i;return void 0===this.cache[e]&&(i=t(this.el).attr("data-cbox-"+e),void 0!==i?this.cache[e]=i:void 0!==n[e]?this.cache[e]=n[e]:void 0!==K[e]&&(this.cache[e]=K[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function r(t){var e=N.length,n=(B+t)%e;return 0>n?e+n:n}function s(t,e){return Math.round((/%/.test(t)?("x"===e?k.width():o())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function c(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function u(t){"contains"in b[0]&&!b[0].contains(t.target)&&(t.stopPropagation(),b.focus())}function h(t){h.str!==t&&(b.add(y).removeClass(h.str).addClass(t),h.str=t)}function d(){B=0,rel&&"nofollow"!==rel?(N=t("."+te).filter(function(){var e=t.data(this,Q),n=new a(this,e);return n.get("rel")===rel}),B=N.index(H.el),-1===B&&(N=N.add(H.el),B=N.length-1)):N=t(H.el)}function p(n){t(e).trigger(n),se.triggerHandler(n)}function f(n){var o;Y||(o=t(n).data("colorbox"),H=new a(n,o),rel=H.get("rel"),d(),X||(X=U=!0,h(H.get("className")),b.css({visibility:"hidden",display:"block"}),L=i(le,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(L),F=C.height()+D.height()+x.outerHeight(!0)-x.height(),I=T.width()+S.width()+x.outerWidth(!0)-x.width(),q=L.outerHeight(!0),R=L.outerWidth(!0),H.w=s(H.get("initialWidth"),"x"),H.h=s(H.get("initialHeight"),"y"),L.css({width:"",height:H.h}),G.position(),p(ee),H.get("onOpen"),z.add(A).hide(),b.focus(),H.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",u,!0),se.one(ae,function(){e.removeEventListener("focus",u,!0)})),H.get("returnFocus")&&se.one(ae,function(){t(H.el).focus()})),y.css({opacity:parseFloat(H.get("opacity")),cursor:H.get("overlayClose")?"pointer":"auto",visibility:"visible"}).show(),H.get("closeButton")?O.html(H.get("close")).appendTo(x):O.appendTo("<div/>"),v())}function g(){!b&&e.body&&(J=!1,k=t(n),b=i(le).attr({id:Q,"class":t.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),y=i(le,"Overlay").hide(),_=t([i(le,"LoadingOverlay")[0],i(le,"LoadingGraphic")[0]]),w=i(le,"Wrapper"),x=i(le,"Content").append(A=i(le,"Title"),E=i(le,"Current"),P=t('<button type="button"/>').attr({id:Z+"Previous"}),M=t('<button type="button"/>').attr({id:Z+"Next"}),$=i("button","Slideshow"),_),O=t('<button type="button"/>').attr({id:Z+"Close"}),w.append(i(le).append(i(le,"TopLeft"),C=i(le,"TopCenter"),i(le,"TopRight")),i(le,!1,"clear:left").append(T=i(le,"MiddleLeft"),x,S=i(le,"MiddleRight")),i(le,!1,"clear:left").append(i(le,"BottomLeft"),D=i(le,"BottomCenter"),i(le,"BottomRight"))).find("div div").css({"float":"left"}),j=i(le,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),z=M.add(P).add(E).add($),t(e.body).append(y,b.append(w,j)))}function m(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return b?(J||(J=!0,M.click(function(){G.next()}),P.click(function(){G.prev()}),O.click(function(){G.close()}),y.click(function(){H.get("overlayClose")&&G.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;X&&H.get("escKey")&&27===e&&(t.preventDefault(),G.close()),X&&H.get("arrowKey")&&N[1]&&!t.altKey&&(37===e?(t.preventDefault(),P.click()):39===e&&(t.preventDefault(),M.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+te,n):t("."+te).live("click."+Z,n)),!0):!1}function v(){var o,a,r,u=G.prep,h=++ce;U=!0,W=!1,p(re),p(ne),H.get("onLoad"),H.h=H.get("height")?s(H.get("height"),"y")-q-F:H.get("innerHeight")&&s(H.get("innerHeight"),"y"),H.w=H.get("width")?s(H.get("width"),"x")-R-I:H.get("innerWidth")&&s(H.get("innerWidth"),"x"),H.mw=H.w,H.mh=H.h,H.get("maxWidth")&&(H.mw=s(H.get("maxWidth"),"x")-R-I,H.mw=H.w&&H.w<H.mw?H.w:H.mw),H.get("maxHeight")&&(H.mh=s(H.get("maxHeight"),"y")-q-F,H.mh=H.h&&H.h<H.mh?H.h:H.mh),o=H.get("href"),V=setTimeout(function(){_.show()},100),H.get("inline")?(r=i(le).hide().insertBefore(t(o)[0]),se.one(re,function(){r.replaceWith(L.children())}),u(t(o))):H.get("iframe")?u(" "):H.get("html")?u(H.get("html")):l(H,o)?(o=c(H,o),W=e.createElement("img"),t(W).addClass(Z+"Photo").bind("error",function(){u(i(le,"Error").html(H.get("imgError")))}).one("load",function(){var e;h===ce&&(t.each(["alt","longdesc","aria-describedby"],function(e,n){var i=t(H.el).attr(n)||t(H.el).attr("data-"+n);i&&W.setAttribute(n,i)}),H.get("retinaImage")&&n.devicePixelRatio>1&&(W.height=W.height/n.devicePixelRatio,W.width=W.width/n.devicePixelRatio),H.get("scalePhotos")&&(a=function(){W.height-=W.height*e,W.width-=W.width*e},H.mw&&W.width>H.mw&&(e=(W.width-H.mw)/W.width,a()),H.mh&&W.height>H.mh&&(e=(W.height-H.mh)/W.height,a())),H.h&&(W.style.marginTop=Math.max(H.mh-W.height,0)/2+"px"),N[1]&&(H.get("loop")||N[B+1])&&(W.style.cursor="pointer",W.onclick=function(){G.next()}),W.style.width=W.width+"px",W.style.height=W.height+"px",setTimeout(function(){u(W)},1))}),setTimeout(function(){W.src=o},1)):o&&j.load(o,H.get("data"),function(e,n){h===ce&&u("error"===n?i(le,"Error").html(H.get("xhrError")):t(this).contents())})}var y,b,w,x,C,T,S,D,N,k,L,j,_,A,E,$,M,P,O,z,H,F,I,q,R,B,W,X,U,Y,V,G,J,K={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title}},Q="colorbox",Z="cbox",te=Z+"Element",ee=Z+"_open",ne=Z+"_load",ie=Z+"_complete",oe=Z+"_cleanup",ae=Z+"_closed",re=Z+"_purge",se=t("<a/>"),le="div",ce=0,ue={},he=function(){function t(){clearTimeout(r)}function e(){(H.get("loop")||N[B+1])&&(t(),r=setTimeout(G.next,H.get("slideshowSpeed")))}function n(){$.html(H.get("slideshowStop")).unbind(l).one(l,i),se.bind(ie,e).bind(ne,t),b.removeClass(s+"off").addClass(s+"on")}function i(){t(),se.unbind(ie,e).unbind(ne,t),$.html(H.get("slideshowStart")).unbind(l).one(l,function(){G.next(),n()}),b.removeClass(s+"on").addClass(s+"off")}function o(){a=!1,$.hide(),t(),se.unbind(ie,e).unbind(ne,t),b.removeClass(s+"off "+s+"on")}var a,r,s=Z+"Slideshow_",l="click."+Z;return function(){a?H.get("slideshow")||(se.unbind(oe,o),o()):H.get("slideshow")&&N[1]&&(a=!0,se.one(oe,o),H.get("slideshowAuto")?n():i(),$.show())}}();t.colorbox||(t(g),G=t.fn[Q]=t[Q]=function(e,n){var i,o=this;if(e=e||{},t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;return o[0]?(g(),m()&&(n&&(e.onComplete=n),o.each(function(){var n=t.data(this,Q)||{};t.data(this,Q,t.extend(n,e))}).addClass(te),i=new a(o[0],e),i.get("open")&&f(o[0])),o):o},G.position=function(e,n){function i(){C[0].style.width=D[0].style.width=x[0].style.width=parseInt(b[0].style.width,10)-I+"px",x[0].style.height=T[0].style.height=S[0].style.height=parseInt(b[0].style.height,10)-F+"px"}var a,r,l,c=0,u=0,h=b.offset();if(k.unbind("resize."+Z),b.css({top:-9e4,left:-9e4}),r=k.scrollTop(),l=k.scrollLeft(),H.get("fixed")?(h.top-=r,h.left-=l,b.css({position:"fixed"})):(c=r,u=l,b.css({position:"absolute"})),u+=H.get("right")!==!1?Math.max(k.width()-H.w-R-I-s(H.get("right"),"x"),0):H.get("left")!==!1?s(H.get("left"),"x"):Math.round(Math.max(k.width()-H.w-R-I,0)/2),c+=H.get("bottom")!==!1?Math.max(o()-H.h-q-F-s(H.get("bottom"),"y"),0):H.get("top")!==!1?s(H.get("top"),"y"):Math.round(Math.max(o()-H.h-q-F,0)/2),b.css({top:h.top,left:h.left,visibility:"visible"}),w[0].style.width=w[0].style.height="9999px",a={width:H.w+R+I,height:H.h+q+F,top:c,left:u},e){var d=0;t.each(a,function(t){return a[t]!==ue[t]?(d=e,void 0):void 0}),e=d}ue=a,e||b.css(a),b.dequeue().animate(a,{duration:e||0,complete:function(){i(),U=!1,w[0].style.width=H.w+R+I+"px",w[0].style.height=H.h+q+F+"px",H.get("reposition")&&setTimeout(function(){k.bind("resize."+Z,G.position)},1),n&&n()},step:i})},G.resize=function(t){var e;X&&(t=t||{},t.width&&(H.w=s(t.width,"x")-R-I),t.innerWidth&&(H.w=s(t.innerWidth,"x")),L.css({width:H.w}),t.height&&(H.h=s(t.height,"y")-q-F),t.innerHeight&&(H.h=s(t.innerHeight,"y")),t.innerHeight||t.height||(e=L.scrollTop(),L.css({height:"auto"}),H.h=L.height()),L.css({height:H.h}),e&&L.scrollTop(e),G.position("none"===H.get("transition")?0:H.get("speed")))},G.prep=function(n){function o(){return H.w=H.w||L.width(),H.w=H.mw&&H.mw<H.w?H.mw:H.w,H.w}function s(){return H.h=H.h||L.height(),H.h=H.mh&&H.mh<H.h?H.mh:H.h,H.h}if(X){var u,d="none"===H.get("transition")?0:H.get("speed");L.remove(),L=i(le,"LoadedContent").append(n),L.hide().appendTo(j.show()).css({width:o(),overflow:"hidden"}).css({height:s()}).prependTo(x),j.hide(),t(W).css({"float":"none"}),h(H.get("className")),u=function(){function n(){t.support.opacity===!1&&b[0].style.removeAttribute("filter")}var i,o,s=N.length;X&&(o=function(){clearTimeout(V),_.hide(),p(ie),H.get("onComplete")},A.html(H.get("title")).show(),L.show(),s>1?("string"==typeof H.get("current")&&E.html(H.get("current").replace("{current}",B+1).replace("{total}",s)).show(),M[H.get("loop")||s-1>B?"show":"hide"]().html(H.get("next")),P[H.get("loop")||B?"show":"hide"]().html(H.get("previous")),he(),H.get("preloading")&&t.each([r(-1),r(1)],function(){var n,i=N[this],o=new a(i,t.data(i,Q)),r=o.get("href");r&&l(o,r)&&(r=c(o,r),n=e.createElement("img"),n.src=r)})):z.hide(),H.get("iframe")?(i=e.createElement("iframe"),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),H.get("scrolling")||(i.scrolling="no"),t(i).attr({src:H.get("href"),name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0}).one("load",o).appendTo(L),se.one(re,function(){i.src="//about:blank"}),H.get("fastIframe")&&t(i).trigger("load")):o(),"fade"===H.get("transition")?b.fadeTo(d,1,n):n())},"fade"===H.get("transition")?b.fadeTo(d,0,function(){G.position(0,u)}):G.position(d,u)}},G.next=function(){!U&&N[1]&&(H.get("loop")||N[B+1])&&(B=r(1),f(N[B]))},G.prev=function(){!U&&N[1]&&(H.get("loop")||B)&&(B=r(-1),f(N[B]))},G.close=function(){X&&!Y&&(Y=!0,X=!1,p(oe),H.get("onCleanup"),k.unbind("."+Z),y.fadeTo(H.get("fadeOut")||0,0),b.stop().fadeTo(H.get("fadeOut")||0,0,function(){b.add(y).css({opacity:1,cursor:"auto"}).hide(),p(re),L.remove(),setTimeout(function(){Y=!1,p(ae),H.get("onClosed")},1)}))},G.remove=function(){b&&(b.stop(),t.colorbox.close(),b.stop().remove(),y.remove(),Y=!1,b=null,t("."+te).removeData(Q).removeClass(te),t(e).unbind("click."+Z))},G.element=function(){return t(H.el)},G.settings=K)}(jQuery,document,window),function(t,e,n){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(i){"use strict";function o(t,e,n,o){this.id=n,this.target=t,this.tooltip=E,this.elements={target:t},this._id=X+"-"+n,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:i(),disabled:A,attr:o,onTooltip:A,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=A}function a(t){return t===E||"object"!==i.type(t)}function r(t){return!(i.isFunction(t)||t&&t.attr||t.length||"object"===i.type(t)&&(t.jquery||t.then))}function s(t){var e,n,o,s;return a(t)?A:(a(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,a(e)||e.jquery||e.done?e=t.content={text:n=r(e)?A:e}:n=e.text,"ajax"in e&&(o=e.ajax,s=o&&o.once!==A,delete e.ajax,e.text=function(t,e){var a=n||i(this).attr(e.options.content.attr)||"Loading...",r=i.ajax(i.extend({},o,{context:e})).then(o.success,E,o.error).then(function(t){return t&&s&&e.set("content.text",t),t},function(t,n,i){e.destroyed||0===t.status||e.set("content.text",n+": "+i)});return s?a:(e.set("content.text",a),r)}),"title"in e&&(a(e.title)||(e.button=e.title.button,e.title=e.title.text),r(e.title||A)&&(e.title=A))),"position"in t&&a(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&a(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===_?{ready:_}:{event:t.show}),"hide"in t&&a(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&a(t.style)&&(t.style={classes:t.style}),i.each(W,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var n,i=0,o=t,a=e.split(".");o=o[a[i++]];)i<a.length&&(n=o);return[n||t,a.pop()]}function c(t,e){var n,i,o;for(n in this.checks)for(i in this.checks[n])(o=new RegExp(i,"i").exec(t))&&(e.push(o),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,e))}function u(t){return V.concat("").join(t?"-"+t+" ":" ")}function h(n){return n&&{type:n.type,pageX:n.pageX,pageY:n.pageY,target:n.target,relatedTarget:n.relatedTarget,scrollX:n.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:n.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function d(t,e){return e>0?setTimeout(i.proxy(t,this),e):(t.call(this),void 0)}function p(t){return this.tooltip.hasClass(ee)?A:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=d.call(this,function(){this.toggle(_,t)},this.options.show.delay),void 0)}function f(t){if(this.tooltip.hasClass(ee))return A;var e=i(t.relatedTarget),n=e.closest(G)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(n||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(a){}else this.timers.hide=d.call(this,function(){this.toggle(A,t)},this.options.hide.delay,this)}function g(t){return this.tooltip.hasClass(ee)||!this.options.hide.inactive?A:(clearTimeout(this.timers.inactive),this.timers.inactive=d.call(this,function(){this.hide(t)},this.options.hide.inactive),void 0)}function m(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function v(t,n,o){i(e.body).delegate(t,(n.split?n:n.join(le+" "))+le,function(){var t=D.api[i.attr(this,Y)];t&&!t.disabled&&o.apply(t,arguments)})}function y(t,n,a){var r,l,c,u,h,d=i(e.body),p=t[0]===e?d:t,f=t.metadata?t.metadata(a.metadata):E,g="html5"===a.metadata.type&&f?f[a.metadata.name]:E,m=t.data(a.metadata.name||"qtipopts");try{m="string"==typeof m?i.parseJSON(m):m}catch(v){}if(u=i.extend(_,{},D.defaults,a,"object"==typeof m?s(m):E,s(g||f)),l=u.position,u.id=n,"boolean"==typeof u.content.text){if(c=t.attr(u.content.attr),u.content.attr===A||!c)return A;u.content.text=c}if(l.container.length||(l.container=d),l.target===A&&(l.target=p),u.show.target===A&&(u.show.target=p),u.show.solo===_&&(u.show.solo=l.container.closest("body")),u.hide.target===A&&(u.hide.target=p),u.position.viewport===_&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new k(l.at,_),l.my=new k(l.my),t.data(X))if(u.overwrite)t.qtip("destroy",!0);else if(u.overwrite===A)return A;return t.attr(U,n),u.suppress&&(h=t.attr("title"))&&t.removeAttr("title").attr(ie,h).attr("title",""),r=new o(t,u,n,!!c),t.data(X,r),t.one("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){var t;(t=i(this).data(X))&&t.destroy(!0)}),r}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e){var i,o,a=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+be.join(a+" ")+a).split(" "),s=0;if(ye[e])return t.css(ye[e]);for(;i=r[s++];)if((o=t.css(i))!==n)return ye[e]=i,o}function x(t,e){return Math.ceil(parseFloat(w(t,e)))}function C(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function T(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function S(t){this._ns="ie6",this.init(this.qtip=t)}var D,N,k,L,j,_=!0,A=!1,E=null,$="x",M="y",P="width",O="height",z="top",H="left",F="bottom",I="right",q="center",R="flipinvert",B="shift",W={},X="qtip",U="data-hasqtip",Y="data-qtip-id",V=["ui-widget","ui-tooltip"],G="."+X,J="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),K=X+"-fixed",Q=X+"-default",Z=X+"-focus",te=X+"-hover",ee=X+"-disabled",ne="_replacedByqTip",ie="oldtitle",oe={ie:function(){for(var t=3,n=e.createElement("div");(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&n.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||A};N=o.prototype,N._when=function(t){return i.when.apply(i,t)},N.render=function(t){if(this.rendered||this.destroyed)return this;var e,n=this,o=this.options,a=this.cache,r=this.elements,s=o.content.text,l=o.content.title,c=o.content.button,u=o.position,h=("."+this._id+" ",[]);return i.attr(this.target[0],"aria-describedby",this._id),this.tooltip=r.tooltip=e=i("<div/>",{id:this._id,"class":[X,Q,o.style.classes,X+"-pos-"+o.position.my.abbrev()].join(" "),width:o.style.width||"",height:o.style.height||"",tracking:"mouse"===u.target&&u.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":A,"aria-describedby":this._id+"-content","aria-hidden":_}).toggleClass(ee,this.disabled).attr(Y,this.id).data(X,this).appendTo(u.container).append(r.content=i("<div />",{"class":X+"-content",id:this._id+"-content","aria-atomic":_})),this.rendered=-1,this.positioning=_,l&&(this._createTitle(),i.isFunction(l)||h.push(this._updateTitle(l,A))),c&&this._createButton(),i.isFunction(s)||h.push(this._updateContent(s,A)),this.rendered=_,this._setWidget(),i.each(W,function(t){var e;"render"===this.initialize&&(e=this(n))&&(n.plugins[t]=e)}),this._unassignEvents(),this._assignEvents(),this._when(h).then(function(){n._trigger("render"),n.positioning=A,n.hiddenDuringWait||!o.show.ready&&!t||n.toggle(_,a.event,A),n.hiddenDuringWait=A}),D.api[this.id]=this,this},N.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=_;var t=this.target,e=t.attr(ie);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,function(){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(X).removeAttr(Y).removeAttr(U).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(ie),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=E,delete D.api[this.id]
}}return this.destroyed?this.target:(t===_&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",i.proxy(e,this)),!this.triggering&&this.hide()),this.target)},L=N.checks={builtin:{"^id$":function(t,e,n,o){var a=n===_?D.nextid:n,r=X+"-"+a;a!==A&&a.length>0&&!i("#"+r).length?(this._id=r,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,n){this._updateContent(n)},"^content.attr$":function(t,e,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(t,e,n){return n?(n&&!this.elements.title&&this._createTitle(),this._updateTitle(n),void 0):this._removeTitle()},"^content.button$":function(t,e,n){this._updateButton(n)},"^content.title.(text|button)$":function(t,e,n){this.set("content."+e,n)},"^position.(my|at)$":function(t,e,n){"string"==typeof n&&(t[e]=new k(n,"at"===e))},"^position.container$":function(t,e,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(t,e,n){n&&(!this.rendered&&this.render(_)||this.toggle(_))},"^style.classes$":function(t,e,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(t,e,n){this.rendered&&this.tooltip.css(e,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,n){this.rendered&&this.tooltip.toggleClass(Q,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,n){this.rendered&&this.tooltip[(i.isFunction(n)?"":"un")+"bind"]("tooltip"+e,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},N.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),n=e[0][e[1]];return n.precedance?n.string():n};var ae=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,re=/^prerender|show\.ready/i;N.set=function(t,e){if(this.destroyed)return this;{var n,o=this.rendered,a=A,r=this.options;this.checks}return"string"==typeof t?(n=t,t={},t[n]=e):t=i.extend({},t),i.each(t,function(e,n){if(o&&re.test(e))return delete t[e],void 0;var s,c=l(r,e.toLowerCase());s=c[0][c[1]],c[0][c[1]]=n&&n.nodeType?i(n):n,a=ae.test(e)||a,t[e]=[c[0],c[1],n,s]}),s(r),this.positioning=_,i.each(t,i.proxy(c,this)),this.positioning=A,this.rendered&&this.tooltip[0].offsetWidth>0&&a&&this.reposition("mouse"===r.position.target?E:this.cache.event),this},N._update=function(t,e){var n=this,o=this.cache;return this.rendered&&t?(i.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),i.isFunction(t.then)?(o.waiting=_,t.then(function(t){return o.waiting=A,n._update(t,e)},E,function(t){return n._update(t,e)})):t===A||!t&&""!==t?A:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&n.rendered&&n.tooltip[0].offsetWidth>0&&n.reposition(o.event,!t.length)}))):A},N._waitForContent=function(t){var e=this.cache;return e.waiting=_,(i.fn.imagesLoaded?t.imagesLoaded():i.Deferred().resolve([])).done(function(){e.waiting=A}).promise()},N._updateContent=function(t,e){this._update(t,this.elements.content,e)},N._updateTitle=function(t,e){this._update(t,this.elements.title,e)===A&&this._removeTitle(A)},N._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=i("<div />",{"class":X+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(t.title=i("<div />",{id:e,"class":X+"-title","aria-atomic":_})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){i(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){i(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},N._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=E,t!==A&&this.reposition())},N.reposition=function(n,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=_;var a,r,s=this.cache,l=this.tooltip,c=this.options.position,u=c.target,h=c.my,d=c.at,p=c.viewport,f=c.container,g=c.adjust,m=g.method.split(" "),v=l.outerWidth(A),y=l.outerHeight(A),b=0,w=0,x=l.css("position"),C={left:0,top:0},T=l[0].offsetWidth>0,S=n&&"scroll"===n.type,D=i(t),N=f[0].ownerDocument,k=this.mouse;if(i.isArray(u)&&2===u.length)d={x:H,y:z},C={left:u[0],top:u[1]};else if("mouse"===u)d={x:H,y:z},!k||!k.pageX||!g.mouse&&n&&n.pageX?n&&n.pageX||((!g.mouse||this.options.show.distance)&&s.origin&&s.origin.pageX?n=s.origin:(!n||n&&("resize"===n.type||"scroll"===n.type))&&(n=s.event)):n=k,"static"!==x&&(C=f.offset()),N.body.offsetWidth!==(t.innerWidth||N.documentElement.clientWidth)&&(r=i(e.body).offset()),C={left:n.pageX-C.left+(r&&r.left||0),top:n.pageY-C.top+(r&&r.top||0)},g.mouse&&S&&k&&(C.left-=(k.scrollX||0)-D.scrollLeft(),C.top-=(k.scrollY||0)-D.scrollTop());else{if("event"===u?n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?s.target=i(n.target):n.target||(s.target=this.elements.target):"event"!==u&&(s.target=i(u.jquery?u:this.elements.target)),u=s.target,u=i(u).eq(0),0===u.length)return this;u[0]===e||u[0]===t?(b=oe.iOS?t.innerWidth:u.width(),w=oe.iOS?t.innerHeight:u.height(),u[0]===t&&(C={top:(p||u).scrollTop(),left:(p||u).scrollLeft()})):W.imagemap&&u.is("area")?a=W.imagemap(this,u,d,W.viewport?m:A):W.svg&&u&&u[0].ownerSVGElement?a=W.svg(this,u,d,W.viewport?m:A):(b=u.outerWidth(A),w=u.outerHeight(A),C=u.offset()),a&&(b=a.width,w=a.height,r=a.offset,C=a.position),C=this.reposition.offset(u,C,f),(oe.iOS>3.1&&oe.iOS<4.1||oe.iOS>=4.3&&oe.iOS<4.33||!oe.iOS&&"fixed"===x)&&(C.left-=D.scrollLeft(),C.top-=D.scrollTop()),(!a||a&&a.adjustable!==A)&&(C.left+=d.x===I?b:d.x===q?b/2:0,C.top+=d.y===F?w:d.y===q?w/2:0)}return C.left+=g.x+(h.x===I?-v:h.x===q?-v/2:0),C.top+=g.y+(h.y===F?-y:h.y===q?-y/2:0),W.viewport?(C.adjusted=W.viewport(this,C,c,b,w,v,y),r&&C.adjusted.left&&(C.left+=r.left),r&&C.adjusted.top&&(C.top+=r.top)):C.adjusted={left:0,top:0},this._trigger("move",[C,p.elem||p],n)?(delete C.adjusted,o===A||!T||isNaN(C.left)||isNaN(C.top)||"mouse"===u||!i.isFunction(c.effect)?l.css(C):i.isFunction(c.effect)&&(c.effect.call(l,this,i.extend({},C)),l.queue(function(t){i(this).css({opacity:"",height:""}),oe.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=A,this):this},N.reposition.offset=function(t,n,o){function a(t,e){n.left+=e*t.scrollLeft(),n.top+=e*t.scrollTop()}if(!o[0])return n;var r,s,l,c,u=i(t[0].ownerDocument),h=!!oe.ie&&"CSS1Compat"!==e.compatMode,d=o[0];do"static"!==(s=i.css(d,"position"))&&("fixed"===s?(l=d.getBoundingClientRect(),a(u,-1)):(l=i(d).position(),l.left+=parseFloat(i.css(d,"borderLeftWidth"))||0,l.top+=parseFloat(i.css(d,"borderTopWidth"))||0),n.left-=l.left+(parseFloat(i.css(d,"marginLeft"))||0),n.top-=l.top+(parseFloat(i.css(d,"marginTop"))||0),r||"hidden"===(c=i.css(d,"overflow"))||"visible"===c||(r=i(d)));while(d=d.offsetParent);return r&&(r[0]!==u[0]||h)&&a(r,1),n};var se=(k=N.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,q).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var n=t.charAt(0);this.precedance="t"===n||"b"===n?M:$}).prototype;se.invert=function(t,e){this[t]=this[t]===H?I:this[t]===I?H:e||this[t]},se.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===M||this.forceY&&"center"!==e?e+" "+t:t+" "+e},se.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},se.clone=function(){return new k(this.string(),this.forceY)},N.toggle=function(t,n){var o=this.cache,a=this.options,r=this.tooltip;if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(o.event.type)&&a.show.target.add(n.target).length===a.show.target.length&&r.has(n.relatedTarget).length)return this;o.event=h(n)}if(this.waiting&&!t&&(this.hiddenDuringWait=_),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,c,u=t?"show":"hide",d=this.options[u],p=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,g=this.tooltip.css("width"),m=this.tooltip.is(":visible"),v=t||1===d.target.length,y=!n||d.target.length<2||o.target[0]===n.target;return(typeof t).search("boolean|number")&&(t=!m),s=!r.is(":animated")&&m===t&&y,l=s?E:!!this._trigger(u,[90]),this.destroyed?this:(l!==A&&t&&this.focus(n),!l||s?this:(i.attr(r[0],"aria-hidden",!t),t?(o.origin=h(this.mouse),i.isFunction(f.text)&&this._updateContent(f.text,A),i.isFunction(f.title)&&this._updateTitle(f.title,A),!j&&"mouse"===p.target&&p.adjust.mouse&&(i(e).bind("mousemove."+X,this._storeMouse),j=_),g||r.css("width",r.outerWidth(A)),this.reposition(n,arguments[2]),g||r.css("width",""),d.solo&&("string"==typeof d.solo?i(d.solo):i(G,d.solo)).not(r).not(d.target).qtip("hide",i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,j&&!i(G+'[tracking="true"]:visible',d.solo).not(r).length&&(i(e).unbind("mousemove."+X),j=A),this.blur(n)),c=i.proxy(function(){t?(oe.ie&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof d.autofocus&&i(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),d.effect===A||v===A?(r[u](),c()):i.isFunction(d.effect)?(r.stop(1,1),d.effect.call(r,this),r.queue("fx",function(t){c(),t()})):r.fadeTo(90,t?1:0,c),t&&d.target.trigger("qtip-"+this.id+"-inactive"),this))},N.show=function(t){return this.toggle(_,t)},N.hide=function(t){return this.toggle(A,t)},N.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=i(G),n=this.tooltip,o=parseInt(n[0].style.zIndex,10),a=D.zindex+e.length;return n.hasClass(Z)||this._trigger("focus",[a],t)&&(o!==a&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+Z).qtip("blur",t)),n.addClass(Z)[0].style.zIndex=a),this},N.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(Z),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},N.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(ee):this.disabled):"boolean"!=typeof t&&(t=_),this.rendered&&this.tooltip.toggleClass(ee,t).attr("aria-disabled",t),this.disabled=!!t,this)},N.enable=function(){return this.disable(A)},N._createButton=function(){var t=this,e=this.elements,n=e.tooltip,o=this.options.content.button,a="string"==typeof o,r=a?o:"Close tooltip";e.button&&e.button.remove(),e.button=o.jquery?o:i("<a />",{"class":"qtip-close "+(this.options.style.widget?"":X+"-icon"),title:r,"aria-label":r}).prepend(i("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||n).attr("role","button").click(function(e){return n.hasClass(ee)||t.hide(e),A})},N._updateButton=function(t){if(!this.rendered)return A;var e=this.elements.button;t?this._createButton():e.remove()},N._setWidget=function(){var t=this.options.style.widget,e=this.elements,n=e.tooltip,i=n.hasClass(ee);n.removeClass(ee),ee=t?"ui-state-disabled":"qtip-disabled",n.toggleClass(ee,i),n.toggleClass("ui-helper-reset "+u(),t).toggleClass(Q,this.options.style.def&&!t),e.content&&e.content.toggleClass(u("content"),t),e.titlebar&&e.titlebar.toggleClass(u("header"),t),e.button&&e.button.toggleClass(X+"-icon",!t)},N._storeMouse=function(t){(this.mouse=h(t)).type="mousemove"},N._bind=function(t,e,n,o,a){var r="."+this._id+(o?"-"+o:"");e.length&&i(t).bind((e.split?e:e.join(r+" "))+r,i.proxy(n,a||this))},N._unbind=function(t,e){i(t).unbind("."+this._id+(e?"-"+e:""))};var le="."+X;i(function(){v(G,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,n=i(t.currentTarget),o=i(t.relatedTarget||t.target),a=this.options;e?(this.focus(t),n.hasClass(K)&&!n.hasClass(ee)&&clearTimeout(this.timers.hide)):"mouse"===a.position.target&&a.hide.event&&a.show.target&&!o.closest(a.show.target[0]).length&&this.hide(t),n.toggleClass(te,e)}),v("["+Y+"]",J,g)}),N._trigger=function(t,e,n){var o=i.Event("tooltip"+t);return o.originalEvent=n&&i.extend({},n)||this.cache.event||E,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=A,!o.isDefaultPrevented()},N._bindEvents=function(t,e,n,o,a,r){if(o.add(n).length===o.length){var s=[];e=i.map(e,function(e){var n=i.inArray(e,t);return n>-1?(s.push(t.splice(n,1)[0]),void 0):e}),s.length&&this._bind(n,s,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?r:a).call(this,t)})}this._bind(n,t,a),this._bind(o,e,r)},N._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?A:(this.cache.event=h(t),this.cache.target=t?i(t.target):[n],clearTimeout(this.timers.show),this.timers.show=d.call(this,function(){this.render("object"==typeof t||o.show.ready)},o.show.delay),void 0)}var o=this.options,a=o.show.target,r=o.hide.target,s=o.show.event?i.trim(""+o.show.event).split(" "):[],l=o.hide.event?i.trim(""+o.hide.event).split(" "):[];/mouse(over|enter)/i.test(o.show.event)&&!/mouse(out|leave)/i.test(o.hide.event)&&l.push("mouseleave"),this._bind(a,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=_}),this._bindEvents(s,l,a,r,e,function(){clearTimeout(this.timers.show)}),(o.show.ready||o.prerender)&&e.call(this,t)},N._assignEvents=function(){var n=this,o=this.options,a=o.position,r=this.tooltip,s=o.show.target,l=o.hide.target,c=a.container,u=a.viewport,h=i(e),d=(i(e.body),i(t)),v=o.show.event?i.trim(""+o.show.event).split(" "):[],y=o.hide.event?i.trim(""+o.hide.event).split(" "):[];i.each(o.events,function(t,e){n._bind(r,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,r)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(h,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),o.hide.fixed?l=l.add(r.addClass(K)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(t){var e=i(t.target),n=this.rendered&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0,o=e.parents(G).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!n||this.hide(t)}),"number"==typeof o.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",g),this._bind(l.add(r),D.inactiveEvents,g,"-inactive")),this._bindEvents(v,y,s,l,p,f),this._bind(s.add(r),"mousemove",function(t){if("number"==typeof o.hide.distance){var e=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(t.pageX-e.pageX)>=n||i(t.pageY-e.pageY)>=n)&&this.hide(t)}this._storeMouse(t)}),"mouse"===a.target&&a.adjust.mouse&&(o.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(h,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(a.adjust.resize||u.length)&&this._bind(i.event.special.resize?u:d,"resize",m),a.adjust.scroll&&this._bind(d.add(a.container),"scroll",m)},N._unassignEvents=function(){var n=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind(i([]).pushStack(i.grep(n,function(t){return"object"==typeof t})))},D=i.fn.qtip=function(t,e,o){var a=(""+t).toLowerCase(),r=E,l=i.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?i.data(this[0],X):E;return!arguments.length&&u||"api"===a?u:"string"==typeof t?(this.each(function(){var t=i.data(this,X);if(!t)return _;if(c&&c.timeStamp&&(t.cache.event=c),!e||"option"!==a&&"options"!==a)t[a]&&t[a].apply(t,l);else{if(o===n&&!i.isPlainObject(e))return r=t.get(e),A;t.set(e,o)}}),r!==E?r:this):"object"!=typeof t&&arguments.length?void 0:(u=s(i.extend(_,{},t)),this.each(function(t){var e,n;return n=i.isArray(u.id)?u.id[t]:u.id,n=!n||n===A||n.length<1||D.api[n]?D.nextid++:n,e=y(i(this),n,u),e===A?_:(D.api[n]=e,i.each(W,function(){"initialize"===this.initialize&&this(e)}),e._assignInitialEvents(c),void 0)}))},i.qtip=o,D.api={},i.each({attr:function(t,e){if(this.length){var n=this[0],o="title",a=i.data(n,"qtip");if(t===o&&a&&"object"==typeof a&&a.options.suppress)return arguments.length<2?i.attr(n,ie):(a&&a.options.content.attr===o&&a.cache.attr&&a.set("content.text",e),this.attr(ie,e))}return i.fn["attr"+ne].apply(this,arguments)},clone:function(t){var e=(i([]),i.fn["clone"+ne].apply(this,arguments));return t||e.filter("["+ie+"]").attr("title",function(){return i.attr(this,ie)}).removeAttr(ie),e}},function(t,e){if(!e||i.fn[t+ne])return _;var n=i.fn[t+ne]=i.fn[t];i.fn[t]=function(){return e.apply(this,arguments)||n.apply(this,arguments)}}),i.ui||(i["cleanData"+ne]=i.cleanData,i.cleanData=function(t){for(var e,n=0;(e=i(t[n])).length;n++)if(e.attr(U))try{e.triggerHandler("removeqtip")}catch(o){}i["cleanData"+ne].apply(this,arguments)}),D.version="2.2.0",D.nextid=0,D.inactiveEvents=J,D.zindex=15e3,D.defaults={prerender:A,id:A,overwrite:_,suppress:_,content:{text:_,attr:"title",title:A,button:A},position:{my:"top left",at:"bottom right",target:A,container:A,viewport:A,adjust:{x:0,y:0,mouse:_,scroll:_,resize:_,method:"flipinvert flipinvert"},effect:function(t,e){i(this).animate(e,{duration:200,queue:A})}},show:{target:A,event:"mouseenter",effect:_,delay:90,solo:A,ready:A,autofocus:A},hide:{target:A,event:"mouseleave",effect:_,delay:0,fixed:A,inactive:A,leave:"window",distance:A},style:{classes:"",widget:A,width:A,height:A,def:_},events:{render:E,move:E,show:E,hide:E,toggle:E,visible:E,hidden:E,focus:E,blur:E}};var ce,ue="margin",he="border",de="color",pe="background-color",fe="transparent",ge=" !important",me=!!e.createElement("canvas").getContext,ve=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,ye={},be=["Webkit","O","Moz","ms"];if(me)var we=t.devicePixelRatio||1,xe=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),Ce=we/xe;else var Te=function(t,e,n){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'};i.extend(C.prototype,{init:function(t){var e,n;n=this.element=t.elements.tip=i("<div />",{"class":X+"-tip"}).prependTo(t.tooltip),me?(e=i("<canvas />").appendTo(this.element)[0].getContext("2d"),e.lineJoin="miter",e.miterLimit=1e5,e.save()):(e=Te("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(i("*",n).add(n),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===z||t.y===q&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(_))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===A||e===A?t=A:t===_?t=new k(e.string()):t.string||(t=new k(t),t.fixed=_),t},_parseWidth:function(t,e,n){var i=this.qtip.elements,o=he+b(e)+"Width";return(n?x(n,o):x(i.content,o)||x(this._useTitle(t)&&i.titlebar||i.content,o)||x(i.tooltip,o))||0},_parseRadius:function(t){var e=this.qtip.elements,n=he+b(t.y)+b(t.x)+"Radius";return oe.ie<9?0:x(this._useTitle(t)&&e.titlebar||e.content,n)||x(e.tooltip,n)||0},_invalidColour:function(t,e,n){var i=t.css(e);return!i||n&&i===t.css(n)||ve.test(i)?A:i},_parseColours:function(t){var e=this.qtip.elements,n=this.element.css("cssText",""),o=he+b(t[t.precedance])+b(de),a=this._useTitle(t)&&e.titlebar||e.content,r=this._invalidColour,s=[];return s[0]=r(n,pe)||r(a,pe)||r(e.content,pe)||r(e.tooltip,pe)||n.css(pe),s[1]=r(n,o,de)||r(a,o,de)||r(e.content,o,de)||r(e.tooltip,o,de)||e.tooltip.css(o),i("*",n).add(n).css("cssText",pe+":"+fe+ge+";"+he+":0"+ge+";"),s},_calculateSize:function(t){var e,n,i,o=t.precedance===M,a=this.options.width,r=this.options.height,s="c"===t.abbrev(),l=(o?a:r)*(s?.5:1),c=Math.pow,u=Math.round,h=Math.sqrt(c(l,2)+c(r,2)),d=[this.border/l*h,this.border/r*h];return d[2]=Math.sqrt(c(d[0],2)-c(this.border,2)),d[3]=Math.sqrt(c(d[1],2)-c(this.border,2)),e=h+d[2]+d[3]+(s?0:d[0]),n=e/h,i=[u(n*a),u(n*r)],o?i:i.reverse()},_calculateTip:function(t,e,n){n=n||1,e=e||this.size;var i=e[0]*n,o=e[1]*n,a=Math.ceil(i/2),r=Math.ceil(o/2),s={br:[0,0,i,o,i,0],bl:[0,0,i,0,0,o],tr:[0,o,i,0,i,o],tl:[0,0,0,o,i,o],tc:[0,o,a,0,i,o],bc:[0,0,i,0,a,o],rc:[0,0,i,r,0,o],lc:[i,0,i,o,0,r]};return s.lt=s.br,s.rt=s.bl,s.lb=s.tr,s.rb=s.tl,s[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(me||oe.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,n){if(!this.enabled)return this;var o,a,r,s,l,c,u,h,d=this.qtip.elements,p=this.element,f=p.children(),g=this.options,m=this.size,v=g.mimic,y=Math.round;e||(e=this.qtip.cache.corner||this.corner),v===A?v=e:(v=new k(v),v.precedance=e.precedance,"inherit"===v.x?v.x=e.x:"inherit"===v.y?v.y=e.y:v.x===v.y&&(v[e.precedance]=e[e.precedance])),a=v.precedance,e.precedance===$?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(e),o[1]!==fe?(h=this.border=this._parseWidth(e,e[e.precedance]),g.border&&1>h&&!ve.test(o[1])&&(o[0]=o[1]),this.border=h=g.border!==_?g.border:h):this.border=h=0,u=this.size=this._calculateSize(e),p.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),c=e.precedance===M?[y(v.x===H?h:v.x===I?u[0]-m[0]-h:(u[0]-m[0])/2),y(v.y===z?u[1]-m[1]:0)]:[y(v.x===H?u[0]-m[0]:0),y(v.y===z?h:v.y===F?u[1]-m[1]-h:(u[1]-m[1])/2)],me?(r=f[0].getContext("2d"),r.restore(),r.save(),r.clearRect(0,0,6e3,6e3),s=this._calculateTip(v,m,Ce),l=this._calculateTip(v,this.size,Ce),f.attr(P,u[0]*Ce).attr(O,u[1]*Ce),f.css(P,u[0]).css(O,u[1]),this._drawCoords(r,l),r.fillStyle=o[1],r.fill(),r.translate(c[0]*Ce,c[1]*Ce),this._drawCoords(r,s),r.fillStyle=o[0],r.fill()):(s=this._calculateTip(v),s="m"+s[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",c[2]=h&&/^(r|b)/i.test(e.string())?8===oe.ie?2:1:0,f.css({coordsize:u[0]+h+" "+(u[1]+h),antialias:""+(v.string().indexOf(q)>-1),left:c[0]-c[2]*Number(a===$),top:c[1]-c[2]*Number(a===M),width:u[0]+h,height:u[1]+h}).each(function(t){var e=i(this);e[e.prop?"prop":"attr"]({coordsize:u[0]+h+" "+(u[1]+h),path:s,fillcolor:o[0],filled:!!t,stroked:!t}).toggle(!(!h&&!t)),!t&&e.html(Te("stroke",'weight="'+2*h+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){d.tip.css({display:"inline-block",visibility:"visible"})},1),n!==A&&this.calculate(e,u)},calculate:function(t,e){if(!this.enabled)return A;var n,o,a=this,r=this.qtip.elements,s=this.element,l=this.options.offset,c=(r.tooltip.hasClass("ui-widget"),{});return t=t||this.corner,n=t.precedance,e=e||this._calculateSize(t),o=[t.x,t.y],n===$&&o.reverse(),i.each(o,function(i,o){var s,u,h;o===q?(s=n===M?H:z,c[s]="50%",c[ue+"-"+s]=-Math.round(e[n===M?0:1]/2)+l):(s=a._parseWidth(t,o,r.tooltip),u=a._parseWidth(t,o,r.content),h=a._parseRadius(t),c[o]=Math.max(-a.border,i?u:l+(h>s?h:-s)))}),c[t[n]]-=e[n===$?0:1],s.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(t,e,i){function o(t,e,n,i,o){t===B&&c.precedance===e&&u[i]&&c[n]!==q?c.precedance=c.precedance===$?M:$:t!==B&&u[i]&&(c[e]=c[e]===q?u[i]>0?i:o:c[e]===i?o:i)}function a(t,e,o){c[t]===q?g[ue+"-"+e]=f[t]=r[ue+"-"+e]-u[e]:(s=r[o]!==n?[u[e],-r[e]]:[-u[e],r[e]],(f[t]=Math.max(s[0],s[1]))>s[0]&&(i[e]-=u[e],f[e]=A),g[r[o]!==n?o:e]=f[t])}if(this.enabled){var r,s,l=e.cache,c=this.corner.clone(),u=i.adjusted,h=e.options.position.adjust.method.split(" "),d=h[0],p=h[1]||h[0],f={left:A,top:A,x:0,y:0},g={};this.corner.fixed!==_&&(o(d,$,M,H,I),o(p,M,$,z,F),c.string()===l.corner.string()||l.cornerTop===u.top&&l.cornerLeft===u.left||this.update(c,A)),r=this.calculate(c),r.right!==n&&(r.left=-r.right),r.bottom!==n&&(r.top=-r.bottom),r.user=this.offset,(f.left=d===B&&!!u.left)&&a($,H,I),(f.top=p===B&&!!u.top)&&a(M,z,F),this.element.css(g).toggle(!(f.x&&f.y||c.x===q&&f.y||c.y===q&&f.x)),i.left-=r.left.charAt?r.user:d!==B||f.top||!f.left&&!f.top?r.left+this.border:0,i.top-=r.top.charAt?r.user:p!==B||f.left||!f.left&&!f.top?r.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),ce=W.tip=function(t){return new C(t,t.options.style.tip)},ce.initialize="render",ce.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=_)}},L.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},i.extend(_,D.defaults,{style:{tip:{corner:_,mimic:A,width:6,height:6,border:_,offset:0}}}),W.viewport=function(n,i,o,a,r,s,l){function c(t,e,n,o,a,r,s,l,c){var u=i[a],d=x[t],b=C[t],w=n===B,T=d===a?c:d===r?-c:-c/2,S=b===a?l:b===r?-l:-l/2,D=v[a]+y[a]-(f?0:p[a]),N=D-u,k=u+c-(s===P?g:m)-D,L=T-(x.precedance===t||d===x[e]?S:0)-(b===q?l/2:0);return w?(L=(d===a?1:-1)*T,i[a]+=N>0?N:k>0?-k:0,i[a]=Math.max(-p[a]+y[a],u-L,Math.min(Math.max(-p[a]+y[a]+(s===P?g:m),u+L),i[a],"center"===d?u-T:1e9))):(o*=n===R?2:0,N>0&&(d!==a||k>0)?(i[a]-=L+o,h.invert(t,a)):k>0&&(d!==r||N>0)&&(i[a]-=(d===q?-L:L)+o,h.invert(t,r)),i[a]<v&&-i[a]>k&&(i[a]=u,h=x.clone())),i[a]-u}var u,h,d,p,f,g,m,v,y,b=o.target,w=n.elements.tooltip,x=o.my,C=o.at,T=o.adjust,S=T.method.split(" "),D=S[0],N=S[1]||S[0],k=o.viewport,L=o.container,j=n.cache,_={left:0,top:0};return k.jquery&&b[0]!==t&&b[0]!==e.body&&"none"!==T.method?(p=L.offset()||_,f="static"===L.css("position"),u="fixed"===w.css("position"),g=k[0]===t?k.width():k.outerWidth(A),m=k[0]===t?k.height():k.outerHeight(A),v={left:u?0:k.scrollLeft(),top:u?0:k.scrollTop()},y=k.offset()||_,("shift"!==D||"shift"!==N)&&(h=x.clone()),_={left:"none"!==D?c($,M,D,T.x,H,I,P,a,s):0,top:"none"!==N?c(M,$,N,T.y,z,F,O,r,l):0},h&&j.lastClass!==(d=X+"-pos-"+h.abbrev())&&w.removeClass(n.cache.lastClass).addClass(n.cache.lastClass=d),_):_};var Se,De,Ne="qtip-modal",ke="."+Ne;De=function(){function t(t){if(i.expr[":"].focusable)return i.expr[":"].focusable;var e,n,o,a=!isNaN(i.attr(t,"tabindex")),r=t.nodeName&&t.nodeName.toLowerCase();return"area"===r?(e=t.parentNode,n=e.name,t.href&&n&&"map"===e.nodeName.toLowerCase()?(o=i("img[usemap=#"+n+"]")[0],!!o&&o.is(":visible")):!1):/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||a:a}function n(t){u.length<1&&t.length?t.not("body").blur():u.first().focus()}function o(t){if(l.is(":visible")){var e,o=i(t.target),s=a.tooltip,c=o.closest(G);e=c.length<1?A:parseInt(c[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),e||o.closest(G)[0]===s[0]||n(o),r=t.target===u[u.length-1]}}var a,r,s,l,c=this,u={};i.extend(c,{init:function(){return l=c.elem=i("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return A}}).hide(),i(e.body).bind("focusin"+ke,o),i(e).bind("keydown"+ke,function(t){a&&a.options.show.modal.escape&&27===t.keyCode&&a.hide(t)}),l.bind("click"+ke,function(t){a&&a.options.show.modal.blur&&a.hide(t)}),c},update:function(e){a=e,u=e.options.show.modal.stealfocus!==A?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,o,r){var u=(i(e.body),t.tooltip),h=t.options.show.modal,d=h.effect,p=o?"show":"hide",f=l.is(":visible"),g=i(ke).filter(":visible:not(:animated)").not(u);return c.update(t),o&&h.stealfocus!==A&&n(i(":focus")),l.toggleClass("blurs",h.blur),o&&l.appendTo(e.body),l.is(":animated")&&f===o&&s!==A||!o&&g.length?c:(l.stop(_,A),i.isFunction(d)?d.call(l,o):d===A?l[p]():l.fadeTo(parseInt(r,10)||90,o?1:0,function(){o||l.hide()}),o||l.queue(function(t){l.css({left:"",top:""}),i(ke).length||l.detach(),t()}),s=o,a.destroyed&&(a=E),c)}}),c.init()},De=new De,i.extend(T.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=De.elem,e.addClass(Ne).css("z-index",D.modal_zindex+i(ke).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,n,o){var a=t.originalEvent;if(t.target===e[0])if(a&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(a.type)&&i(a.relatedTarget).closest(De.elem[0]).length)try{t.preventDefault()}catch(r){}else(!a||a&&"tooltipsolo"!==a.type)&&this.toggle(t,"tooltipshow"===t.type,o)},this._ns,this),t._bind(e,"tooltipfocus",function(t,n){if(!t.isDefaultPrevented()&&t.target===e[0]){var o=i(ke),a=D.modal_zindex+o.length,r=parseInt(e[0].style.zIndex,10);De.elem[0].style.zIndex=a-1,o.each(function(){this.style.zIndex>r&&(this.style.zIndex-=1)}),o.filter("."+Z).qtip("blur",t.originalEvent),e.addClass(Z)[0].style.zIndex=a,De.update(n);try{t.preventDefault()}catch(s){}}},this._ns,this),t._bind(e,"tooltiphide",function(t){t.target===e[0]&&i(ke).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this),void 0):this},toggle:function(t,e,n){return t&&t.isDefaultPrevented()?this:(De.toggle(this.qtip,!!e,n),void 0)},destroy:function(){this.qtip.tooltip.removeClass(Ne),this.qtip._unbind(this.qtip.tooltip,this._ns),De.toggle(this.qtip,A),delete this.qtip.elements.overlay}}),Se=W.modal=function(t){return new T(t,t.options.show.modal)},Se.sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:"undefined"==typeof t.show.modal.on&&(t.show.modal.on=_))},D.modal_zindex=D.zindex-200,Se.initialize="render",L.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},i.extend(_,D.defaults,{show:{modal:{on:A,effect:_,blur:_,stealfocus:_,escape:_}}});var Le,je='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';i.extend(S.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=i(t).scrollTop()+"px")},init:function(n){var o=n.tooltip;i("select, object").length<1&&(this.bgiframe=n.elements.bgiframe=i(je).appendTo(o),n._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=i("<div/>",{id:X+"-rcontainer"}).appendTo(e.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(t,["scroll","resize"],this._scroll,this._ns,this),n._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,n=this.qtip.tooltip,i={height:n.outerHeight(A),width:n.outerWidth(A)},o=this.qtip.plugins.tip,a=this.qtip.elements.tip;e=parseInt(n.css("borderLeftWidth"),10)||0,e={left:-e,top:-e},o&&a&&(t="x"===o.corner.precedance?[P,H]:[O,z],e[t[1]]-=a[t[0]]()),this.bgiframe.css(e).css(i)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,n,i,o=this.qtip.tooltip,a=this.qtip.options.style,r=this.qtip.options.position.container;return this.qtip.drawing=1,a.height&&o.css(O,a.height),a.width?o.css(P,a.width):(o.css(P,"").appendTo(this.redrawContainer),e=o.width(),1>e%2&&(e+=1),n=o.css("maxWidth")||"",i=o.css("minWidth")||"",t=(n+i).indexOf("%")>-1?r.width()/100:0,n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||e,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||0,e=n+i?Math.min(Math.max(e,i),n):e,o.css(P,Math.round(e)).appendTo(r)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)
}}),Le=W.ie6=function(t){return 6===oe.ie?new S(t):A},Le.initialize="render",L.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),function(){var t,e,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){var e,i,o;return i=function(t){var e,i;return"string"!=typeof t&&(t=$(this).attr("href"),t=t.substr(t.indexOf("#"))),t?(i=55,"#"===t.charAt(0)&&(e=$(t),e.length&&($("html, body").animate({scrollTop:e.offset().top-i}),history&&n.call(history,"pushState")>=0))?(history.pushState({},document.title,window.location.pathname+t),!1):void 0):!1},i(window.location.hash),$("body").on("click","a",i),new t,o=$("div#updates_count"),e=$("#my_profile_link"),o.mouseenter(function(){return $(this).css("z-index",20),$(this).css("cursor","pointer")}),o.mouseout(function(){return $(this).css("z-index",0)}),e.mouseenter(function(){return o.fadeTo(500,.5,function(){var t;return t=!0})}),e.mouseout(function(){return o.stop(!0),o.css("opacity",1)}),o.click(function(){var t,e;return $(this).text("Up"),e=$("#my_profile_link").attr("href"),t=e.replace("/members/",""),$.ajax({type:"PATCH",url:e,data:{id:t,member:{last_checked_updates:(new Date).getTime()}}})}),o.qtip({content:{text:function(t,e){return $.ajax({url:"/updates/updates",method:"GET"}).then(function(){var t;return t=o.attr("data-updates"),console.log(t),t},function(t,n,i){return e.set("content.text",n+": "+i)})},title:$(o).attr("data-title")},show:"click",hide:{event:"click unfocus",fixed:!0,effect:function(){return $(this).slideUp(1e3)},delay:0},style:{classes:"qtip-transparent qtip-rounded"}})},t=function(){function t(){this.updatePreview=i(this.updatePreview,this),this.update=i(this.update,this),$("#cropbox").Jcrop({aspectRatio:1,setSelect:[0,0,200,200],onSelect:this.update,onChange:this.update})}return t.prototype.update=function(t){return $("#member_crop_x").val(t.x),$("#member_crop_y").val(t.y),$("#member_crop_w").val(t.w),$("#member_crop_h").val(t.h),this.updatePreview(t)},t.prototype.updatePreview=function(t){return $("#preview").css({width:Math.round(100/t.w*$("#cropbox").width())+"px",height:Math.round(100/t.h*$("#cropbox").height())+"px",marginLeft:"-"+Math.round(100/t.w*t.x)+"px",marginTop:"-"+Math.round(100/t.h*t.y)+"px"})},t}(),$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){}.call(this),function(){var t;t=function(){var t,e,n,i,o,a,r;return t=$(".expand_convo"),t.addClass("rotate"),e=function(){var n,i;return t=$(".expand_convo"),t.unbind("click",e),t.addClass("rotate"),i=$(this).parents(".image_block"),n=i.attr("data-height"),i.show().animate({height:""+n+"px"},1e3,function(){var n;return t.removeClass("rotate expand_convo").addClass("collapse_convo"),t.bind("click",n=function(){return t.addClass("rotateBack"),i.animate({height:"260px"},1e3,function(){return t.removeClass("rotateBack collapse_convo").addClass("expand_convo"),t.unbind("click",n),t.bind("click",e)})})})},$(".post").each(function(){var t;return t=$(this).parents(".image_block"),t.hide().css({height:"initial"}),setTimeout(function(){var n;return n=t.outerHeight(),t.animate({height:"260px"},0,function(){return t.attr("data-height",n),n>260?(t.append("<div class='expand_convo'></div>"),$(".expand_convo").bind("click",e)):void 0})},0)}),r=function(){var t,e,n,i,o;return t=100,$(".image_block").hide(),o=$(".image_block").toArray(),i=o.length,n=0,e=function(){return $(o[n++]).show().addClass("expand"),i>n?setTimeout(e,t):void 0},e(),setTimeout(function(){return $(".image_block").removeClass("expand")},1e4)},r(),$("video#actual_image").bind("ended",function(){return $(".over_image_marker").addClass("over_image tp")}),0!==$(".show_post_video").length&&videojs($(".show_post_video")[0],{},function(){}),o=function(){return 0!==$("body").find(".show_post_video").length&&videojs($(".show_post_video")[0],{},function(){}),$("body").find("video#actual_image_html5_api").bind("ended",function(){return $(".over_image_marker").addClass("over_image tp")})},$("body").find(".member_image").colorbox({rel:"gal",onComplete:o}),$("body").on("click",".vjs-big-play-button, .vjs-play-control",function(){var t;return t=$(this).parents("#actual_image").siblings(".over_image_marker"),t.attr("class","over_image_marker"),t.hide()}),0!==$("div#images").length&&(i=setInterval(function(){var t,e;return e=$("#images").attr("data-most-recent-post"),t=$("#post_member_id").val(),console.log(e),$.ajax({type:"GET",url:"/updates/posts",data:{most_recent_post:e,member_id:t}}).always(function(){return $(document).on("page:change",function(){return clearInterval(i)})})},2e4)),$("body").on("click",".exit_button, #comment_submit, #post_submit",function(){var t,e;return e=$(this).closest(".image_block"),e.off("mouseover"),t=$(this).closest(".show_member_comment_form_holder"),e.find(".hidden_over_image").attr("class","over_image tp"),e.find("p").fadeIn(1e3),t.fadeOut(1e3,function(){return $(this).remove()})}),a=!0,$("body").on("mouseover",".image_block, .tree_image_block, .show_image",function(){var t;return a===!0&&(t=$(this).children(".over_image"),t.stop(!0),t.css("opacity",1),a=!1),$(this).children(".over_image").fadeIn(),a=!0}),$("body").on("mouseleave",".image_block, .tree_image_block, .show_image",function(){return $(this).children(".over_image").delay(1e3).fadeOut(1e3,function(){return a=!1})}),n=function(){var t,e;return t=4e3,e=setTimeout(function(){return $("body").find(".over_image").fadeOut(1e3,function(){return a=!1})},t)},n(),$("#image_comments").perfectScrollbar({wheelSpeed:10}),0!==$(".show_image").length&&$("body").css("background-color","#111"),$(".file-upload").each(function(){var t;return"new_image"===this.id?$(this).fileupload({dropZone:$(this),formData:{member_id:$("#post_member_id").val()},dataType:"script",replaceFileInput:!1,add:function(t,e){var n,i;return $("#image_upload_submit").attr("disabled",!1),i=/(\.|\/)(gif|jpe?g|png)$/i,n=e.files[0],i.test(n.type)||i.test(n.name)?$("#image_upload_submit").click(function(){return event.preventDefault(),$("#progress_bar_section").show(),e.submit(),$("#image_upload_submit").attr("disabled",!0)}):alert(""+n.name+" is not a gif, jpeg, or png image file")},progressall:function(t,e){var n;return n=parseInt(e.loaded/e.total*100,10),$("#bar").css("width",n+"%"),100===n?($("#progress_bar_section").append("<span id='upload_complete'>Upload complete!</span>"),$("#progress_bar_section").delay(5e3).fadeOut("slow",function(){return $("#upload_complete").remove()})):void 0}}):"hidden_profile_image"===this.id?$(this).fileupload({type:"PATCH",dropZone:$(this).parent(),formData:{member_id:$("#image_member_id").val()},dataType:"script",replaceFileInput:!1,add:function(t,e){var n,i,o;return o=/(\.|\/)(gif|jpe?g|png)$/i,n=e.files[0],o.test(n.type)||o.test(n.name)?i>0?(alert("You can only post one photo or video at a time to another person's page"),i=0,!1):($("#progress_bar_section").show(),e.submit()):alert(""+n.name+" is not a gif, jpeg, or png image file")},send:function(){return t+=1},done:function(){var t;return t=0},progressall:function(t,e){var n;return n=parseInt(e.loaded/e.total*100,10),$("#bar").css("width",n+"%"),100===n?($("#progress_bar_section").append("<span id='upload_complete'>Upload complete!</span>"),$("#progress_bar_section").delay(5e3).fadeOut("slow",function(){return $("#upload_complete").remove()})):void 0}}):"hidden_new_image"===this.id?(t=0,$(this).fileupload({dropZone:$(this).parent(),replaceFileInput:!1,add:function(e,n){var i,o;return o=/(\.|\/)(gif|jpe?g|png|m4v)$/i,i=n.files[0],o.test(i.type)||o.test(i.name)?t>0?(alert("You can only post one photo or video at a time to another person's page"),t=0,!1):($("#progress_bar_section").fadeTo(200,.8),n.submit()):alert(""+i.name+" is not a gif, jpeg, or png image file nor an mv4 file")},send:function(){return t+=1},done:function(){return t=0},progressall:function(t,e){var n;return n=parseInt(e.loaded/e.total*100,10),$("#bar").css("width",n+"%"),100===n?($("#progress_bar_section").append("<span id='upload_complete'>Upload complete!</span>"),$("#progress_bar_section").delay(5e3).fadeOut("slow",function(){return $("#upload_complete").remove()})):void 0}})):void 0}),$(document).bind("drop dragover",function(t){return t.preventDefault()})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(){var t;return(t=function(){var t,e,n,i,o,a;return e=200,o=$(".box"),o.css({visibility:"hidden"}),t=o.toArray(),a=t.length,i=0,n=function(){return $(t[i++]).css({visibility:"visible"}).addClass("expand"),a>i?setTimeout(n,e):setTimeout(function(){return $("#fb").fadeIn(1e3)},1500)},n(),setTimeout(function(){return o.removeClass("expand")},1e4)})()},$(document).ready(t)}.call(this),function(){}.call(this),function(){}.call(this);